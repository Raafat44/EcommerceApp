"use strict";(self.webpackChunkEcommerceApp=self.webpackChunkEcommerceApp||[]).push([[179],{278:(Wr,de,rt)=>{Object.defineProperty(de,"__esModule",{value:!0});var se,it,N=rt(628),lt=rt(270),Ue=rt(355),Se=rt(3),Wt=((se={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",se["bad-app-name"]="Illegal App name: '{$appName}",se["duplicate-app"]="Firebase App named '{$appName}' already exists",se["app-deleted"]="Firebase App named '{$appName}' already deleted",se["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",se["invalid-log-argument"]="First argument to `onLog` must be null or a function.",se),Ie=new lt.ErrorFactory("app","Firebase",Wt),rn="@firebase/app",en="[DEFAULT]",pn=((it={})[rn]="fire-core",it["@firebase/analytics"]="fire-analytics",it["@firebase/auth"]="fire-auth",it["@firebase/database"]="fire-rtdb",it["@firebase/functions"]="fire-fn",it["@firebase/installations"]="fire-iid",it["@firebase/messaging"]="fire-fcm",it["@firebase/performance"]="fire-perf",it["@firebase/remote-config"]="fire-rc",it["@firebase/storage"]="fire-gcs",it["@firebase/firestore"]="fire-fst",it["fire-js"]="fire-js",it["firebase-wrapper"]="fire-js-all",it),Ge=new Se.Logger("@firebase/app"),C=function(){function Te(ie,be,gt){var Ht,Gt,mt=this;this.firebase_=gt,this.isDeleted_=!1,this.name_=be.name,this.automaticDataCollectionEnabled_=be.automaticDataCollectionEnabled||!1,this.options_=lt.deepCopy(ie),this.container=new Ue.ComponentContainer(be.name),this._addComponent(new Ue.Component("app",function(){return mt},"PUBLIC"));try{for(var Rn=N.__values(this.firebase_.INTERNAL.components.values()),ke=Rn.next();!ke.done;ke=Rn.next())this._addComponent(ke.value)}catch(Tr){Ht={error:Tr}}finally{try{ke&&!ke.done&&(Gt=Rn.return)&&Gt.call(Rn)}finally{if(Ht)throw Ht.error}}}return Object.defineProperty(Te.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(ie){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=ie},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Te.prototype.delete=function(){var ie=this;return new Promise(function(be){ie.checkDestroyed_(),be()}).then(function(){return ie.firebase_.INTERNAL.removeApp(ie.name_),Promise.all(ie.container.getProviders().map(function(be){return be.delete()}))}).then(function(){ie.isDeleted_=!0})},Te.prototype._getService=function(ie,be){return void 0===be&&(be=en),this.checkDestroyed_(),this.container.getProvider(ie).getImmediate({identifier:be})},Te.prototype._removeServiceInstance=function(ie,be){void 0===be&&(be=en),this.container.getProvider(ie).clearInstance(be)},Te.prototype._addComponent=function(ie){try{this.container.addComponent(ie)}catch(be){Ge.debug("Component "+ie.name+" failed to register with FirebaseApp "+this.name,be)}},Te.prototype._addOrOverwriteComponent=function(ie){this.container.addOrOverwriteComponent(ie)},Te.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ie.create("app-deleted",{appName:this.name_})},Te}();C.prototype.name&&C.prototype.options||C.prototype.delete||console.log("dc");var F=function P(){var Te=function I(Te){var ie={},be=new Map,gt={__esModule:!0,initializeApp:function mt(Et,xe){void 0===xe&&(xe={}),("object"!=typeof xe||null===xe)&&(xe={name:xe});var Qt=xe;void 0===Qt.name&&(Qt.name=en);var dt=Qt.name;if("string"!=typeof dt||!dt)throw Ie.create("bad-app-name",{appName:String(dt)});if(lt.contains(ie,dt))throw Ie.create("duplicate-app",{appName:dt});var On=new Te(Et,Qt,gt);return ie[dt]=On,On},app:Gt,registerVersion:function cr(Et,xe,ln){var Qt,dt=null!==(Qt=pn[Et])&&void 0!==Qt?Qt:Et;ln&&(dt+="-"+ln);var On=dt.match(/\s|\//),Pn=xe.match(/\s|\//);if(On||Pn){var Qr=['Unable to register library "'+dt+'" with version "'+xe+'":'];return On&&Qr.push('library name "'+dt+'" contains illegal characters (whitespace or "/")'),On&&Pn&&Qr.push("and"),Pn&&Qr.push('version name "'+xe+'" contains illegal characters (whitespace or "/")'),void Ge.warn(Qr.join(" "))}ke(new Ue.Component(dt+"-version",function(){return{library:dt,version:xe}},"VERSION"))},setLogLevel:Se.setLogLevel,onLog:function Tr(Et,xe){if(null!==Et&&"function"!=typeof Et)throw Ie.create("invalid-log-argument",{appName:name});Se.setUserLogHandler(Et,xe)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:ke,removeApp:function Ht(Et){delete ie[Et]},components:be,useAsService:function _o(Et,xe){return"serverAuth"===xe?null:xe}}};function Gt(Et){if(!lt.contains(ie,Et=Et||en))throw Ie.create("no-app",{appName:Et});return ie[Et]}function ke(Et){var xe,ln,Qt=Et.name;if(be.has(Qt))return Ge.debug("There were multiple attempts to register component "+Qt+"."),"PUBLIC"===Et.type?gt[Qt]:null;if(be.set(Qt,Et),"PUBLIC"===Et.type){var dt=function(Fn){if(void 0===Fn&&(Fn=Gt()),"function"!=typeof Fn[Qt])throw Ie.create("invalid-app-argument",{appName:Qt});return Fn[Qt]()};void 0!==Et.serviceProps&&lt.deepExtend(dt,Et.serviceProps),gt[Qt]=dt,Te.prototype[Qt]=function(){for(var Fn=[],vi=0;vi<arguments.length;vi++)Fn[vi]=arguments[vi];return this._getService.bind(this,Qt).apply(this,Et.multipleInstances?Fn:[])}}try{for(var On=N.__values(Object.keys(ie)),Pn=On.next();!Pn.done;Pn=On.next())ie[Pn.value]._addComponent(Et)}catch(Fn){xe={error:Fn}}finally{try{Pn&&!Pn.done&&(ln=On.return)&&ln.call(On)}finally{if(xe)throw xe.error}}return"PUBLIC"===Et.type?gt[Qt]:null}return gt.default=gt,Object.defineProperty(gt,"apps",{get:function Rn(){return Object.keys(ie).map(function(Et){return ie[Et]})}}),Gt.App=Te,gt}(C);return Te.INTERNAL=N.__assign(N.__assign({},Te.INTERNAL),{createFirebaseNamespace:P,extendNamespace:function ie(be){lt.deepExtend(Te,be)},createSubscribe:lt.createSubscribe,ErrorFactory:lt.ErrorFactory,deepExtend:lt.deepExtend}),Te}(),M=function(){function Te(ie){this.container=ie}return Te.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(be){if(function z(Te){var ie=Te.getComponent();return"VERSION"===(null==ie?void 0:ie.type)}(be)){var gt=be.getImmediate();return gt.library+"/"+gt.version}return null}).filter(function(be){return be}).join(" ")},Te}();if(lt.isBrowser()&&void 0!==self.firebase){Ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ve=self.firebase.SDK_VERSION;ve&&ve.indexOf("LITE")>=0&&Ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Q=F.initializeApp;F.initializeApp=function(){for(var Te=[],ie=0;ie<arguments.length;ie++)Te[ie]=arguments[ie];return lt.isNode()&&Ge.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),Q.apply(void 0,Te)};var we=F;(function te(Te,ie){Te.INTERNAL.registerComponent(new Ue.Component("platform-logger",function(be){return new M(be)},"PRIVATE")),Te.registerVersion(rn,"0.6.11",ie),Te.registerVersion("fire-js","")})(we),de.default=we,de.firebase=we},355:(Wr,de,rt)=>{Object.defineProperty(de,"__esModule",{value:!0});var N=rt(754),lt=rt(270),Ue=function(){function U(H,Me,me){this.name=H,this.instanceFactory=Me,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return U.prototype.setInstantiationMode=function(H){return this.instantiationMode=H,this},U.prototype.setMultipleInstances=function(H){return this.multipleInstances=H,this},U.prototype.setServiceProps=function(H){return this.serviceProps=H,this},U}(),Se="[DEFAULT]",se=function(){function U(H,Me){this.name=H,this.container=Me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return U.prototype.get=function(H){void 0===H&&(H=Se);var Me=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(Me)){var me=new lt.Deferred;this.instancesDeferred.set(Me,me);try{var W=this.getOrInitializeService(Me);W&&me.resolve(W)}catch(ye){}}return this.instancesDeferred.get(Me).promise},U.prototype.getImmediate=function(H){var Me=N.__assign({identifier:Se,optional:!1},H),W=Me.optional,ye=this.normalizeInstanceIdentifier(Me.identifier);try{var At=this.getOrInitializeService(ye);if(!At){if(W)return null;throw Error("Service "+this.name+" is not available")}return At}catch(Qe){if(W)return null;throw Qe}},U.prototype.getComponent=function(){return this.component},U.prototype.setComponent=function(H){var Me,me;if(H.name!==this.name)throw Error("Mismatching Component "+H.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=H,function Ie(U){return"EAGER"===U.instantiationMode}(H))try{this.getOrInitializeService(Se)}catch(pt){}try{for(var W=N.__values(this.instancesDeferred.entries()),ye=W.next();!ye.done;ye=W.next()){var At=N.__read(ye.value,2),ae=At[1],ge=this.normalizeInstanceIdentifier(At[0]);try{var le=this.getOrInitializeService(ge);ae.resolve(le)}catch(pt){}}}catch(pt){Me={error:pt}}finally{try{ye&&!ye.done&&(me=W.return)&&me.call(W)}finally{if(Me)throw Me.error}}},U.prototype.clearInstance=function(H){void 0===H&&(H=Se),this.instancesDeferred.delete(H),this.instances.delete(H)},U.prototype.delete=function(){return N.__awaiter(this,void 0,void 0,function(){var H;return N.__generator(this,function(Me){switch(Me.label){case 0:return H=Array.from(this.instances.values()),[4,Promise.all(N.__spread(H.filter(function(me){return"INTERNAL"in me}).map(function(me){return me.INTERNAL.delete()}),H.filter(function(me){return"_delete"in me}).map(function(me){return me._delete()})))];case 1:return Me.sent(),[2]}})})},U.prototype.isComponentSet=function(){return null!=this.component},U.prototype.getOrInitializeService=function(H){var Me=this.instances.get(H);return!Me&&this.component&&(Me=this.component.instanceFactory(this.container,function Wt(U){return U===Se?void 0:U}(H)),this.instances.set(H,Me)),Me||null},U.prototype.normalizeInstanceIdentifier=function(H){return this.component?this.component.multipleInstances?H:Se:H},U}(),rn=function(){function U(H){this.name=H,this.providers=new Map}return U.prototype.addComponent=function(H){var Me=this.getProvider(H.name);if(Me.isComponentSet())throw new Error("Component "+H.name+" has already been registered with "+this.name);Me.setComponent(H)},U.prototype.addOrOverwriteComponent=function(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)},U.prototype.getProvider=function(H){if(this.providers.has(H))return this.providers.get(H);var Me=new se(H,this);return this.providers.set(H,Me),Me},U.prototype.getProviders=function(){return Array.from(this.providers.values())},U}();de.Component=Ue,de.ComponentContainer=rn,de.Provider=se},199:(Wr,de,rt)=>{Object.defineProperty(de,"__esModule",{value:!0});var N=rt(617),lt=rt(278),Ue=rt(3),Se=rt(270),se=rt(670),Wt=rt(355),rn=function Ie(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}(lt),U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=function(a){function i(s,c){var f=this;return(f=a.call(this,c)||this).code=s,f.message=c,f.name="FirebaseError",f.toString=function(){return f.name+": [code="+f.code+"]: "+f.message},f}return N.__extends(i,a),i}(Error),Me=new Ue.Logger("@firebase/firestore");function me(){return Me.logLevel}function W(a){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(Me.logLevel<=Ue.LogLevel.DEBUG){var c=i.map(Qe);Me.debug.apply(Me,N.__spreadArrays(["Firestore (7.24.0): "+a],c))}}function ye(a){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(Me.logLevel<=Ue.LogLevel.ERROR){var c=i.map(Qe);Me.error.apply(Me,N.__spreadArrays(["Firestore (7.24.0): "+a],c))}}function At(a){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(Me.logLevel<=Ue.LogLevel.WARN){var c=i.map(Qe);Me.warn.apply(Me,N.__spreadArrays(["Firestore (7.24.0): "+a],c))}}function Qe(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch(s){return a}}function ae(a){void 0===a&&(a="Unexpected state");var i="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+a;throw ye(i),new Error(i)}function ge(a,i){a||ae()}function le(a,i){return a}function pt(a){var i=0;for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&i++;return i}function it(a,i){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&i(s,a[s])}function en(a){for(var i in a)if(Object.prototype.hasOwnProperty.call(a,i))return!1;return!0}var pn=function(){function a(i,s,c){void 0===s?s=0:s>i.length&&ae(),void 0===c?c=i.length-s:c>i.length-s&&ae(),this.segments=i,this.offset=s,this.t=c}return Object.defineProperty(a.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(i){return 0===a.i(this,i)},a.prototype.child=function(i){var s=this.segments.slice(this.offset,this.limit());return i instanceof a?i.forEach(function(c){s.push(c)}):s.push(i),this.o(s)},a.prototype.limit=function(){return this.offset+this.length},a.prototype.u=function(i){return this.o(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)},a.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},a.prototype.l=function(){return this.segments[this.offset]},a.prototype._=function(){return this.get(this.length-1)},a.prototype.get=function(i){return this.segments[this.offset+i]},a.prototype.m=function(){return 0===this.length},a.prototype.T=function(i){if(i.length<this.length)return!1;for(var s=0;s<this.length;s++)if(this.get(s)!==i.get(s))return!1;return!0},a.prototype.I=function(i){if(this.length+1!==i.length)return!1;for(var s=0;s<this.length;s++)if(this.get(s)!==i.get(s))return!1;return!0},a.prototype.forEach=function(i){for(var s=this.offset,c=this.limit();s<c;s++)i(this.segments[s])},a.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},a.i=function(i,s){for(var c=Math.min(i.length,s.length),f=0;f<c;f++){var p=i.get(f),m=s.get(f);if(p<m)return-1;if(p>m)return 1}return i.length<s.length?-1:i.length>s.length?1:0},a}(),Ge=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return N.__extends(i,a),i.prototype.o=function(s,c,f){return new i(s,c,f)},i.prototype.R=function(){return this.A().join("/")},i.prototype.toString=function(){return this.R()},i.g=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];for(var f=[],p=0,m=s;p<m.length;p++){var y=m[p];if(y.indexOf("//")>=0)throw new H(U.INVALID_ARGUMENT,"Invalid segment ("+y+"). Paths must not contain // in them.");f.push.apply(f,y.split("/").filter(function(b){return b.length>0}))}return new i(f)},i.P=function(){return new i([])},i}(pn),C=/^[_a-zA-Z][_a-zA-Z0-9]*$/,x=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return N.__extends(i,a),i.prototype.o=function(s,c,f){return new i(s,c,f)},i.V=function(s){return C.test(s)},i.prototype.R=function(){return this.A().map(function(s){return s=s.replace("\\","\\\\").replace("`","\\`"),i.V(s)||(s="`"+s+"`"),s}).join(".")},i.prototype.toString=function(){return this.R()},i.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},i.v=function(){return new i(["__name__"])},i.S=function(s){for(var c=[],f="",p=0,m=function(){if(0===f.length)throw new H(U.INVALID_ARGUMENT,"Invalid field path ("+s+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");c.push(f),f=""},y=!1;p<s.length;){var b=s[p];if("\\"===b){if(p+1===s.length)throw new H(U.INVALID_ARGUMENT,"Path has trailing escape character: "+s);var A=s[p+1];if("\\"!==A&&"."!==A&&"`"!==A)throw new H(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+s);f+=A,p+=2}else"`"===b?(y=!y,p++):"."!==b||y?(f+=b,p++):(m(),p++)}if(m(),y)throw new H(U.INVALID_ARGUMENT,"Unterminated ` in path: "+s);return new i(c)},i.P=function(){return new i([])},i}(pn),I=function(){function a(i){this.path=i}return a.D=function(i){return new a(Ge.g(i))},a.C=function(i){return new a(Ge.g(i).u(5))},a.prototype.N=function(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i},a.prototype.isEqual=function(i){return null!==i&&0===Ge.i(this.path,i.path)},a.prototype.toString=function(){return this.path.toString()},a.i=function(i,s){return Ge.i(i.path,s.path)},a.F=function(i){return i.length%2==0},a.$=function(i){return new a(new Ge(i.slice()))},a}();function P(a,i){if(0!==i.length)throw new H(U.INVALID_ARGUMENT,"Function "+a+"() does not support arguments, but was called with "+Tr(i.length,"argument")+".")}function F(a,i,s){if(i.length!==s)throw new H(U.INVALID_ARGUMENT,"Function "+a+"() requires "+Tr(s,"argument")+", but was called with "+Tr(i.length,"argument")+".")}function M(a,i,s){if(i.length<s)throw new H(U.INVALID_ARGUMENT,"Function "+a+"() requires at least "+Tr(s,"argument")+", but was called with "+Tr(i.length,"argument")+".")}function z(a,i,s,c){if(i.length<s||i.length>c)throw new H(U.INVALID_ARGUMENT,"Function "+a+"() requires between "+s+" and "+c+" arguments, but was called with "+Tr(i.length,"argument")+".")}function te(a,i,s,c){be(a,i,cr(s)+" argument",c)}function ve(a,i,s,c){void 0!==c&&te(a,i,s,c)}function Q(a,i,s,c){be(a,i,s+" option",c)}function we(a,i,s,c){void 0!==c&&Q(a,i,s,c)}function Te(a,i,s,c,f){void 0!==c&&function(p,m,y,b,A){for(var R=[],k=0,L=A;k<L.length;k++){var G=L[k];if(G===b)return;R.push(Ht(G))}var Z=Ht(b);throw new H(U.INVALID_ARGUMENT,"Invalid value "+Z+" provided to function "+p+'() for option "'+y+'". Acceptable values: '+R.join(", "))}(a,0,s,c,f)}function ie(a,i,s,c){if(!i.some(function(f){return f===c}))throw new H(U.INVALID_ARGUMENT,"Invalid value "+Ht(c)+" provided to function "+a+"() for its "+cr(s)+" argument. Acceptable values: "+i.join(", "));return c}function be(a,i,s,c){if(!("object"===i?gt(c):"non-empty string"===i?"string"==typeof c&&""!==c:typeof c===i)){var f=Ht(c);throw new H(U.INVALID_ARGUMENT,"Function "+a+"() requires its "+s+" to be of type "+i+", but it was: "+f)}}function gt(a){return"object"==typeof a&&null!==a&&(Object.getPrototypeOf(a)===Object.prototype||null===Object.getPrototypeOf(a))}function Ht(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=a.substring(0,20)+"..."),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";var i=function(s){if(s.constructor){var c=/function\s+([^\s(]+)\s*\(/.exec(s.constructor.toString());if(c&&c.length>1)return c[1]}return null}(a);return i?"a custom "+i+" object":"an object"}return"function"==typeof a?"a function":ae()}function Gt(a,i,s){if(void 0===s)throw new H(U.INVALID_ARGUMENT,"Function "+a+"() requires a valid "+cr(i)+" argument, but it was undefined.")}function mt(a,i,s){it(i,function(c,f){if(s.indexOf(c)<0)throw new H(U.INVALID_ARGUMENT,"Unknown option '"+c+"' passed to function "+a+"(). Available options: "+s.join(", "))})}function Rn(a,i,s,c){var f=Ht(c);return new H(U.INVALID_ARGUMENT,"Function "+a+"() requires its "+cr(s)+" argument to be a "+i+", but it was: "+f)}function ke(a,i,s){if(s<=0)throw new H(U.INVALID_ARGUMENT,"Function "+a+"() requires its "+cr(i)+" argument to be a positive number, but it was: "+s+".")}function cr(a){switch(a){case 1:return"first";case 2:return"second";case 3:return"third";default:return a+"th"}}function Tr(a,i){return a+" "+i+(1===a?"":"s")}function _o(a){var i="undefined"!=typeof self&&(self.crypto||self.msCrypto),s=new Uint8Array(a);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(s);else for(var c=0;c<a;c++)s[c]=Math.floor(256*Math.random());return s}var Et=function(){function a(){}return a.k=function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/i.length)*i.length,c="";c.length<20;)for(var f=_o(40),p=0;p<f.length;++p)c.length<20&&f[p]<s&&(c+=i.charAt(f[p]%i.length));return c},a}();function xe(a,i){return a<i?-1:a>i?1:0}function ln(a,i,s){return a.length===i.length&&a.every(function(c,f){return s(c,i[f])})}function Qt(a){return a+"\0"}var dt=function(){function a(i){this.M=i}return a.fromBase64String=function(i){return new a(atob(i))},a.fromUint8Array=function(i){return new a(function(s){for(var c="",f=0;f<s.length;++f)c+=String.fromCharCode(s[f]);return c}(i))},a.prototype.toBase64=function(){return btoa(this.M)},a.prototype.toUint8Array=function(){return function(i){for(var s=new Uint8Array(i.length),c=0;c<i.length;c++)s[c]=i.charCodeAt(c);return s}(this.M)},a.prototype.O=function(){return 2*this.M.length},a.prototype.L=function(i){return xe(this.M,i.M)},a.prototype.isEqual=function(i){return this.M===i.M},a}();dt.B=new dt("");var On=function(){function a(i){this.q=i}return a.fromBase64String=function(i){try{return new a(dt.fromBase64String(i))}catch(s){throw new H(U.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+s)}},a.fromUint8Array=function(i){return new a(dt.fromUint8Array(i))},a.prototype.toBase64=function(){return this.q.toBase64()},a.prototype.toUint8Array=function(){return this.q.toUint8Array()},a.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},a.prototype.isEqual=function(i){return this.q.isEqual(i.q)},a}();function Pn(){if("undefined"==typeof Uint8Array)throw new H(U.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Qr(){if("undefined"==typeof atob)throw new H(U.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Fn=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return N.__extends(i,a),i.fromBase64String=function(s){F("Blob.fromBase64String",arguments,1),te("Blob.fromBase64String","string",1,s),Qr();try{return new i(dt.fromBase64String(s))}catch(c){throw new H(U.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+c)}},i.fromUint8Array=function(s){if(F("Blob.fromUint8Array",arguments,1),Pn(),!(s instanceof Uint8Array))throw Rn("Blob.fromUint8Array","Uint8Array",1,s);return new i(dt.fromUint8Array(s))},i.prototype.toBase64=function(){return F("Blob.toBase64",arguments,0),Qr(),a.prototype.toBase64.call(this)},i.prototype.toUint8Array=function(){return F("Blob.toUint8Array",arguments,0),Pn(),a.prototype.toUint8Array.call(this)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(On),vi=function(a,i,s,c,f,p){this.U=a,this.persistenceKey=i,this.host=s,this.ssl=c,this.forceLongPolling=f,this.W=p},zo=function(){function a(i,s){this.projectId=i,this.database=s||"(default)"}return Object.defineProperty(a.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(i){return i instanceof a&&i.projectId===this.projectId&&i.database===this.database},a.prototype.L=function(i){return xe(this.projectId,i.projectId)||xe(this.database,i.database)},a}(),wo=function(){function a(i,s){this.K=i,this.G=s,this.H={}}return a.prototype.get=function(i){var s=this.K(i),c=this.H[s];if(void 0!==c)for(var f=0,p=c;f<p.length;f++){var m=p[f],b=m[1];if(this.G(m[0],i))return b}},a.prototype.has=function(i){return void 0!==this.get(i)},a.prototype.set=function(i,s){var c=this.K(i),f=this.H[c];if(void 0!==f){for(var p=0;p<f.length;p++)if(this.G(f[p][0],i))return void(f[p]=[i,s]);f.push([i,s])}else this.H[c]=[[i,s]]},a.prototype.delete=function(i){var s=this.K(i),c=this.H[s];if(void 0===c)return!1;for(var f=0;f<c.length;f++)if(this.G(c[f][0],i))return 1===c.length?delete this.H[s]:c.splice(f,1),!0;return!1},a.prototype.forEach=function(i){it(this.H,function(s,c){for(var f=0,p=c;f<p.length;f++){var m=p[f];i(m[0],m[1])}})},a.prototype.m=function(){return en(this.H)},a}(),kt=function(){function a(i,s){if(this.seconds=i,this.nanoseconds=s,s<0)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(i<-62135596800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}return a.now=function(){return a.fromMillis(Date.now())},a.fromDate=function(i){return a.fromMillis(i.getTime())},a.fromMillis=function(i){var s=Math.floor(i/1e3);return new a(s,1e6*(i-1e3*s))},a.prototype.toDate=function(){return new Date(this.toMillis())},a.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},a.prototype.Y=function(i){return this.seconds===i.seconds?xe(this.nanoseconds,i.nanoseconds):xe(this.seconds,i.seconds)},a.prototype.isEqual=function(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds},a.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},a.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},a.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},a}(),$e=function(){function a(i){this.timestamp=i}return a.J=function(i){return new a(i)},a.min=function(){return new a(new kt(0,0))},a.prototype.L=function(i){return this.timestamp.Y(i.timestamp)},a.prototype.isEqual=function(i){return this.timestamp.isEqual(i.timestamp)},a.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},a.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},a.prototype.Z=function(){return this.timestamp},a}();function Ni(a){return null==a}function $(a){return 0===a&&1/a==-1/0}function j(a){return"number"==typeof a&&Number.isInteger(a)&&!$(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}var K=function(a,i,s,c,f,p,m){void 0===i&&(i=null),void 0===s&&(s=[]),void 0===c&&(c=[]),void 0===f&&(f=null),void 0===p&&(p=null),void 0===m&&(m=null),this.path=a,this.collectionGroup=i,this.orderBy=s,this.filters=c,this.limit=f,this.startAt=p,this.endAt=m,this.tt=null};function X(a,i,s,c,f,p,m){return void 0===i&&(i=null),void 0===s&&(s=[]),void 0===c&&(c=[]),void 0===f&&(f=null),void 0===p&&(p=null),void 0===m&&(m=null),new K(a,i,s,c,f,p,m)}function q(a){var i=le(a);if(null===i.tt){var s=i.path.R();null!==i.collectionGroup&&(s+="|cg:"+i.collectionGroup),s+="|f:",s+=i.filters.map(function(c){return(f=c).field.R()+f.op.toString()+Zo(f.value);var f}).join(","),s+="|ob:",s+=i.orderBy.map(function(c){return(f=c).field.R()+f.dir;var f}).join(","),Ni(i.limit)||(s+="|l:",s+=i.limit),i.startAt&&(s+="|lb:",s+=kr(i.startAt)),i.endAt&&(s+="|ub:",s+=kr(i.endAt)),i.tt=s}return i.tt}function Ne(a,i){if(a.limit!==i.limit||a.orderBy.length!==i.orderBy.length)return!1;for(var s=0;s<a.orderBy.length;s++)if(!dr(a.orderBy[s],i.orderBy[s]))return!1;if(a.filters.length!==i.filters.length)return!1;for(var c=0;c<a.filters.length;c++)if((f=a.filters[c]).op!==(p=i.filters[c]).op||!f.field.isEqual(p.field)||!_i(f.value,p.value))return!1;var f,p;return a.collectionGroup===i.collectionGroup&&!!a.path.isEqual(i.path)&&!!qn(a.startAt,i.startAt)&&qn(a.endAt,i.endAt)}function ut(a){return I.F(a.path)&&null===a.collectionGroup&&0===a.filters.length}var Ke,Re,xt=function(){function a(i,s,c,f,p,m,y){void 0===p&&(p=$e.min()),void 0===m&&(m=$e.min()),void 0===y&&(y=dt.B),this.target=i,this.targetId=s,this.et=c,this.sequenceNumber=f,this.nt=p,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=y}return a.prototype.st=function(i){return new a(this.target,this.targetId,this.et,i,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},a.prototype.it=function(i,s){return new a(this.target,this.targetId,this.et,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,i)},a.prototype.rt=function(i){return new a(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,i,this.resumeToken)},a}(),kn=function(a){this.count=a};function An(a){switch(a){case U.OK:return ae();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ae()}}function fn(a){if(void 0===a)return ye("GRPC error has no .code"),U.UNKNOWN;switch(a){case Ke.OK:return U.OK;case Ke.CANCELLED:return U.CANCELLED;case Ke.UNKNOWN:return U.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return U.INTERNAL;case Ke.UNAVAILABLE:return U.UNAVAILABLE;case Ke.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ke.NOT_FOUND:return U.NOT_FOUND;case Ke.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ke.ABORTED:return U.ABORTED;case Ke.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ke.DATA_LOSS:return U.DATA_LOSS;default:return ae()}}(Re=Ke||(Ke={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";var on=function(){function a(i,s){this.i=i,this.root=s||yi.EMPTY}return a.prototype.ot=function(i,s){return new a(this.i,this.root.ot(i,s,this.i).copy(null,null,yi.at,null,null))},a.prototype.remove=function(i){return new a(this.i,this.root.remove(i,this.i).copy(null,null,yi.at,null,null))},a.prototype.get=function(i){for(var s=this.root;!s.m();){var c=this.i(i,s.key);if(0===c)return s.value;c<0?s=s.left:c>0&&(s=s.right)}return null},a.prototype.indexOf=function(i){for(var s=0,c=this.root;!c.m();){var f=this.i(i,c.key);if(0===f)return s+c.left.size;f<0?c=c.left:(s+=c.left.size+1,c=c.right)}return-1},a.prototype.m=function(){return this.root.m()},Object.defineProperty(a.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),a.prototype.ct=function(){return this.root.ct()},a.prototype.ut=function(){return this.root.ut()},a.prototype.ht=function(i){return this.root.ht(i)},a.prototype.forEach=function(i){this.ht(function(s,c){return i(s,c),!1})},a.prototype.toString=function(){var i=[];return this.ht(function(s,c){return i.push(s+":"+c),!1}),"{"+i.join(", ")+"}"},a.prototype.lt=function(i){return this.root.lt(i)},a.prototype._t=function(){return new Ri(this.root,null,this.i,!1)},a.prototype.ft=function(i){return new Ri(this.root,i,this.i,!1)},a.prototype.dt=function(){return new Ri(this.root,null,this.i,!0)},a.prototype.wt=function(i){return new Ri(this.root,i,this.i,!0)},a}(),Ri=function(){function a(i,s,c,f){this.Tt=f,this.Et=[];for(var p=1;!i.m();)if(p=s?c(i.key,s):1,f&&(p*=-1),p<0)i=this.Tt?i.left:i.right;else{if(0===p){this.Et.push(i);break}this.Et.push(i),i=this.Tt?i.right:i.left}}return a.prototype.It=function(){var i=this.Et.pop(),s={key:i.key,value:i.value};if(this.Tt)for(i=i.left;!i.m();)this.Et.push(i),i=i.right;else for(i=i.right;!i.m();)this.Et.push(i),i=i.left;return s},a.prototype.At=function(){return this.Et.length>0},a.prototype.Rt=function(){if(0===this.Et.length)return null;var i=this.Et[this.Et.length-1];return{key:i.key,value:i.value}},a}(),yi=function(){function a(i,s,c,f,p){this.key=i,this.value=s,this.color=null!=c?c:a.RED,this.left=null!=f?f:a.EMPTY,this.right=null!=p?p:a.EMPTY,this.size=this.left.size+1+this.right.size}return a.prototype.copy=function(i,s,c,f,p){return new a(null!=i?i:this.key,null!=s?s:this.value,null!=c?c:this.color,null!=f?f:this.left,null!=p?p:this.right)},a.prototype.m=function(){return!1},a.prototype.ht=function(i){return this.left.ht(i)||i(this.key,this.value)||this.right.ht(i)},a.prototype.lt=function(i){return this.right.lt(i)||i(this.key,this.value)||this.left.lt(i)},a.prototype.min=function(){return this.left.m()?this:this.left.min()},a.prototype.ct=function(){return this.min().key},a.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},a.prototype.ot=function(i,s,c){var f=this,p=c(i,f.key);return(f=p<0?f.copy(null,null,null,f.left.ot(i,s,c),null):0===p?f.copy(null,s,null,null,null):f.copy(null,null,null,null,f.right.ot(i,s,c))).gt()},a.prototype.Pt=function(){if(this.left.m())return a.EMPTY;var i=this;return i.left.yt()||i.left.left.yt()||(i=i.Vt()),(i=i.copy(null,null,null,i.left.Pt(),null)).gt()},a.prototype.remove=function(i,s){var c,f=this;if(s(i,f.key)<0)f.left.m()||f.left.yt()||f.left.left.yt()||(f=f.Vt()),f=f.copy(null,null,null,f.left.remove(i,s),null);else{if(f.left.yt()&&(f=f.bt()),f.right.m()||f.right.yt()||f.right.left.yt()||(f=f.vt()),0===s(i,f.key)){if(f.right.m())return a.EMPTY;c=f.right.min(),f=f.copy(c.key,c.value,null,null,f.right.Pt())}f=f.copy(null,null,null,null,f.right.remove(i,s))}return f.gt()},a.prototype.yt=function(){return this.color},a.prototype.gt=function(){var i=this;return i.right.yt()&&!i.left.yt()&&(i=i.St()),i.left.yt()&&i.left.left.yt()&&(i=i.bt()),i.left.yt()&&i.right.yt()&&(i=i.Dt()),i},a.prototype.Vt=function(){var i=this.Dt();return i.right.left.yt()&&(i=(i=(i=i.copy(null,null,null,null,i.right.bt())).St()).Dt()),i},a.prototype.vt=function(){var i=this.Dt();return i.left.left.yt()&&(i=(i=i.bt()).Dt()),i},a.prototype.St=function(){var i=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},a.prototype.bt=function(){var i=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},a.prototype.Dt=function(){var i=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,s)},a.prototype.Ct=function(){var i=this.Nt();return Math.pow(2,i)<=this.size+1},a.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw ae();var i=this.left.Nt();if(i!==this.right.Nt())throw ae();return i+(this.yt()?0:1)},a}();yi.EMPTY=null,yi.RED=!0,yi.at=!1,yi.EMPTY=new(function(){function a(){this.size=0}return Object.defineProperty(a.prototype,"key",{get:function(){throw ae()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){throw ae()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"color",{get:function(){throw ae()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"left",{get:function(){throw ae()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){throw ae()},enumerable:!1,configurable:!0}),a.prototype.copy=function(i,s,c,f,p){return this},a.prototype.ot=function(i,s,c){return new yi(i,s)},a.prototype.remove=function(i,s){return this},a.prototype.m=function(){return!0},a.prototype.ht=function(i){return!1},a.prototype.lt=function(i){return!1},a.prototype.ct=function(){return null},a.prototype.ut=function(){return null},a.prototype.yt=function(){return!1},a.prototype.Ct=function(){return!0},a.prototype.Nt=function(){return 0},a}());var hn=function(){function a(i){this.i=i,this.data=new on(this.i)}return a.prototype.has=function(i){return null!==this.data.get(i)},a.prototype.first=function(){return this.data.ct()},a.prototype.last=function(){return this.data.ut()},Object.defineProperty(a.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),a.prototype.indexOf=function(i){return this.data.indexOf(i)},a.prototype.forEach=function(i){this.data.ht(function(s,c){return i(s),!1})},a.prototype.Ft=function(i,s){for(var c=this.data.ft(i[0]);c.At();){var f=c.It();if(this.i(f.key,i[1])>=0)return;s(f.key)}},a.prototype.xt=function(i,s){var c;for(c=void 0!==s?this.data.ft(s):this.data._t();c.At();)if(!i(c.It().key))return},a.prototype.$t=function(i){var s=this.data.ft(i);return s.At()?s.It().key:null},a.prototype._t=function(){return new tu(this.data._t())},a.prototype.ft=function(i){return new tu(this.data.ft(i))},a.prototype.add=function(i){return this.copy(this.data.remove(i).ot(i,!0))},a.prototype.delete=function(i){return this.has(i)?this.copy(this.data.remove(i)):this},a.prototype.m=function(){return this.data.m()},a.prototype.kt=function(i){var s=this;return s.size<i.size&&(s=i,i=this),i.forEach(function(c){s=s.add(c)}),s},a.prototype.isEqual=function(i){if(!(i instanceof a)||this.size!==i.size)return!1;for(var s=this.data._t(),c=i.data._t();s.At();){var f=s.It().key,p=c.It().key;if(0!==this.i(f,p))return!1}return!0},a.prototype.A=function(){var i=[];return this.forEach(function(s){i.push(s)}),i},a.prototype.toString=function(){var i=[];return this.forEach(function(s){return i.push(s)}),"SortedSet("+i.toString()+")"},a.prototype.copy=function(i){var s=new a(this.i);return s.data=i,s},a}(),tu=function(){function a(i){this.Mt=i}return a.prototype.It=function(){return this.Mt.It().key},a.prototype.At=function(){return this.Mt.At()},a}(),Mr=new on(I.i);function Oi(){return Mr}function Wo(){return Oi()}var br=new on(I.i);function Zi(){return br}var ua=new on(I.i),tc=new hn(I.i);function $t(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];for(var s=tc,c=0,f=a;c<f.length;c++){var p=f[c];s=s.add(p)}return s}var Pi=new hn(xe);function Qo(){return Pi}var yn=function(){function a(i){this.i=i?function(s,c){return i(s,c)||I.i(s.key,c.key)}:function(s,c){return I.i(s.key,c.key)},this.Ot=Zi(),this.Lt=new on(this.i)}return a.Bt=function(i){return new a(i.i)},a.prototype.has=function(i){return null!=this.Ot.get(i)},a.prototype.get=function(i){return this.Ot.get(i)},a.prototype.first=function(){return this.Lt.ct()},a.prototype.last=function(){return this.Lt.ut()},a.prototype.m=function(){return this.Lt.m()},a.prototype.indexOf=function(i){var s=this.Ot.get(i);return s?this.Lt.indexOf(s):-1},Object.defineProperty(a.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(i){this.Lt.ht(function(s,c){return i(s),!1})},a.prototype.add=function(i){var s=this.delete(i.key);return s.copy(s.Ot.ot(i.key,i),s.Lt.ot(i,null))},a.prototype.delete=function(i){var s=this.get(i);return s?this.copy(this.Ot.remove(i),this.Lt.remove(s)):this},a.prototype.isEqual=function(i){if(!(i instanceof a)||this.size!==i.size)return!1;for(var s=this.Lt._t(),c=i.Lt._t();s.At();){var f=s.It().key,p=c.It().key;if(!f.isEqual(p))return!1}return!0},a.prototype.toString=function(){var i=[];return this.forEach(function(s){i.push(s.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"},a.prototype.copy=function(i,s){var c=new a;return c.i=this.i,c.Ot=i,c.Lt=s,c},a}(),bo=function(){function a(){this.qt=new on(I.i)}return a.prototype.track=function(i){var s=i.doc.key,c=this.qt.get(s);c?0!==i.type&&3===c.type?this.qt=this.qt.ot(s,i):3===i.type&&1!==c.type?this.qt=this.qt.ot(s,{type:c.type,doc:i.doc}):2===i.type&&2===c.type?this.qt=this.qt.ot(s,{type:2,doc:i.doc}):2===i.type&&0===c.type?this.qt=this.qt.ot(s,{type:0,doc:i.doc}):1===i.type&&0===c.type?this.qt=this.qt.remove(s):1===i.type&&2===c.type?this.qt=this.qt.ot(s,{type:1,doc:c.doc}):0===i.type&&1===c.type?this.qt=this.qt.ot(s,{type:2,doc:i.doc}):ae():this.qt=this.qt.ot(s,i)},a.prototype.Ut=function(){var i=[];return this.qt.ht(function(s,c){i.push(c)}),i},a}(),lr=function(){function a(i,s,c,f,p,m,y,b){this.query=i,this.docs=s,this.Qt=c,this.docChanges=f,this.Wt=p,this.fromCache=m,this.jt=y,this.Kt=b}return a.Gt=function(i,s,c,f){var p=[];return s.forEach(function(m){p.push({type:0,doc:m})}),new a(i,s,yn.Bt(s),p,c,f,!0,!1)},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(i){if(!(this.fromCache===i.fromCache&&this.jt===i.jt&&this.Wt.isEqual(i.Wt)&&ji(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.Qt.isEqual(i.Qt)))return!1;var s=this.docChanges,c=i.docChanges;if(s.length!==c.length)return!1;for(var f=0;f<s.length;f++)if(s[f].type!==c[f].type||!s[f].doc.isEqual(c[f].doc))return!1;return!0},a}(),nc=function(){function a(i,s,c,f,p){this.nt=i,this.zt=s,this.Ht=c,this.Yt=f,this.Jt=p}return a.Xt=function(i,s){var c=new Map;return c.set(i,As.Zt(i,s)),new a($e.min(),c,Qo(),Oi(),$t())},a}(),As=function(){function a(i,s,c,f,p){this.resumeToken=i,this.te=s,this.ee=c,this.ne=f,this.se=p}return a.Zt=function(i,s){return new a(dt.B,s,$t(),$t(),$t())},a}(),Ss=function(a,i,s,c){this.ie=a,this.removedTargetIds=i,this.key=s,this.re=c},ca=function(a,i){this.targetId=a,this.oe=i},Ko=function(a,i,s,c){void 0===s&&(s=dt.B),void 0===c&&(c=null),this.state=a,this.targetIds=i,this.resumeToken=s,this.cause=c},Xi=function(){function a(){this.ae=0,this.ce=la(),this.ue=dt.B,this.he=!1,this.le=!0}return Object.defineProperty(a.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),a.prototype.de=function(i){i.O()>0&&(this.le=!0,this.ue=i)},a.prototype.we=function(){var i=$t(),s=$t(),c=$t();return this.ce.forEach(function(f,p){switch(p){case 0:i=i.add(f);break;case 2:s=s.add(f);break;case 1:c=c.add(f);break;default:ae()}}),new As(this.ue,this.he,i,s,c)},a.prototype.me=function(){this.le=!1,this.ce=la()},a.prototype.Te=function(i,s){this.le=!0,this.ce=this.ce.ot(i,s)},a.prototype.Ee=function(i){this.le=!0,this.ce=this.ce.remove(i)},a.prototype.Ie=function(){this.ae+=1},a.prototype.Ae=function(){this.ae-=1},a.prototype.Re=function(){this.le=!0,this.he=!0},a}(),nu=function(){function a(i){this.ge=i,this.Pe=new Map,this.ye=Oi(),this.Ve=Kr(),this.pe=new hn(xe)}return a.prototype.be=function(i){for(var s=0,c=i.ie;s<c.length;s++){var f=c[s];i.re instanceof Ot?this.ve(f,i.re):i.re instanceof Lt&&this.Se(f,i.key,i.re)}for(var p=0,m=i.removedTargetIds;p<m.length;p++)this.Se(m[p],i.key,i.re)},a.prototype.De=function(i){var s=this;this.Ce(i,function(c){var f=s.Ne(c);switch(i.state){case 0:s.Fe(c)&&f.de(i.resumeToken);break;case 1:f.Ae(),f._e||f.me(),f.de(i.resumeToken);break;case 2:f.Ae(),f._e||s.removeTarget(c);break;case 3:s.Fe(c)&&(f.Re(),f.de(i.resumeToken));break;case 4:s.Fe(c)&&(s.xe(c),f.de(i.resumeToken));break;default:ae()}})},a.prototype.Ce=function(i,s){var c=this;i.targetIds.length>0?i.targetIds.forEach(s):this.Pe.forEach(function(f,p){c.Fe(p)&&s(p)})},a.prototype.$e=function(i){var s=i.targetId,c=i.oe.count,f=this.ke(s);if(f){var p=f.target;if(ut(p))if(0===c){var m=new I(p.path);this.Se(s,m,new Lt(m,$e.min()))}else ge(1===c);else this.Me(s)!==c&&(this.xe(s),this.pe=this.pe.add(s))}},a.prototype.Oe=function(i){var s=this,c=new Map;this.Pe.forEach(function(m,y){var b=s.ke(y);if(b){if(m.te&&ut(b.target)){var A=new I(b.target.path);null!==s.ye.get(A)||s.Le(y,A)||s.Se(y,A,new Lt(A,i))}m.fe&&(c.set(y,m.we()),m.me())}});var f=$t();this.Ve.forEach(function(m,y){var b=!0;y.xt(function(A){var R=s.ke(A);return!R||2===R.et||(b=!1,!1)}),b&&(f=f.add(m))});var p=new nc(i,c,this.pe,this.ye,f);return this.ye=Oi(),this.Ve=Kr(),this.pe=new hn(xe),p},a.prototype.ve=function(i,s){if(this.Fe(i)){var c=this.Le(i,s.key)?2:0;this.Ne(i).Te(s.key,c),this.ye=this.ye.ot(s.key,s),this.Ve=this.Ve.ot(s.key,this.Be(s.key).add(i))}},a.prototype.Se=function(i,s,c){if(this.Fe(i)){var f=this.Ne(i);this.Le(i,s)?f.Te(s,1):f.Ee(s),this.Ve=this.Ve.ot(s,this.Be(s).delete(i)),c&&(this.ye=this.ye.ot(s,c))}},a.prototype.removeTarget=function(i){this.Pe.delete(i)},a.prototype.Me=function(i){var s=this.Ne(i).we();return this.ge.qe(i).size+s.ee.size-s.se.size},a.prototype.Ie=function(i){this.Ne(i).Ie()},a.prototype.Ne=function(i){var s=this.Pe.get(i);return s||(s=new Xi,this.Pe.set(i,s)),s},a.prototype.Be=function(i){var s=this.Ve.get(i);return s||(s=new hn(xe),this.Ve=this.Ve.ot(i,s)),s},a.prototype.Fe=function(i){var s=null!==this.ke(i);return s||W("WatchChangeAggregator","Detected inactive target",i),s},a.prototype.ke=function(i){var s=this.Pe.get(i);return s&&s._e?null:this.ge.Ue(i)},a.prototype.xe=function(i){var s=this;this.Pe.set(i,new Xi),this.ge.qe(i).forEach(function(c){s.Se(i,c,null)})},a.prototype.Le=function(i,s){return this.ge.qe(i).has(s)},a}();function Kr(){return new on(I.i)}function la(){return new on(I.i)}function Eo(a){var i,s;return"server_timestamp"===(null===(s=((null===(i=null==a?void 0:a.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function ru(a){var i=a.mapValue.fields.__previous_value__;return Eo(i)?ru(i):i}function Yo(a){var i=xr(a.mapValue.fields.__local_write_time__.timestampValue);return new kt(i.seconds,i.nanos)}var rc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Eo(a)?4:10:ae()}function _i(a,i){var f,s=Yr(a);if(s!==Yr(i))return!1;switch(s){case 0:return!0;case 1:return a.booleanValue===i.booleanValue;case 4:return Yo(a).isEqual(Yo(i));case 3:return function(c,f){if("string"==typeof c.timestampValue&&"string"==typeof f.timestampValue&&c.timestampValue.length===f.timestampValue.length)return c.timestampValue===f.timestampValue;var p=xr(c.timestampValue),m=xr(f.timestampValue);return p.seconds===m.seconds&&p.nanos===m.nanos}(a,i);case 5:return a.stringValue===i.stringValue;case 6:return f=i,Nr(a.bytesValue).isEqual(Nr(f.bytesValue));case 7:return a.referenceValue===i.referenceValue;case 8:return function(c,f){return qe(c.geoPointValue.latitude)===qe(f.geoPointValue.latitude)&&qe(c.geoPointValue.longitude)===qe(f.geoPointValue.longitude)}(a,i);case 2:return function(c,f){if("integerValue"in c&&"integerValue"in f)return qe(c.integerValue)===qe(f.integerValue);if("doubleValue"in c&&"doubleValue"in f){var p=qe(c.doubleValue),m=qe(f.doubleValue);return p===m?$(p)===$(m):isNaN(p)&&isNaN(m)}return!1}(a,i);case 9:return ln(a.arrayValue.values||[],i.arrayValue.values||[],_i);case 10:return function(c,f){var p=c.mapValue.fields||{},m=f.mapValue.fields||{};if(pt(p)!==pt(m))return!1;for(var y in p)if(p.hasOwnProperty(y)&&(void 0===m[y]||!_i(p[y],m[y])))return!1;return!0}(a,i);default:return ae()}}function Ts(a,i){return void 0!==(a.values||[]).find(function(s){return _i(s,i)})}function vt(a,i){var f,p,m,y,s=Yr(a),c=Yr(i);if(s!==c)return xe(s,c);switch(s){case 0:return 0;case 1:return xe(a.booleanValue,i.booleanValue);case 2:return p=i,(m=qe((f=a).integerValue||f.doubleValue))<(y=qe(p.integerValue||p.doubleValue))?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1;case 3:return ic(a.timestampValue,i.timestampValue);case 4:return ic(Yo(a),Yo(i));case 5:return xe(a.stringValue,i.stringValue);case 6:return function(f,p){var m=Nr(f),y=Nr(p);return m.L(y)}(a.bytesValue,i.bytesValue);case 7:return function(f,p){for(var m=f.split("/"),y=p.split("/"),b=0;b<m.length&&b<y.length;b++){var A=xe(m[b],y[b]);if(0!==A)return A}return xe(m.length,y.length)}(a.referenceValue,i.referenceValue);case 8:return function(f,p){var m=xe(qe(f.latitude),qe(p.latitude));return 0!==m?m:xe(qe(f.longitude),qe(p.longitude))}(a.geoPointValue,i.geoPointValue);case 9:return function(f,p){for(var m=f.values||[],y=p.values||[],b=0;b<m.length&&b<y.length;++b){var A=vt(m[b],y[b]);if(A)return A}return xe(m.length,y.length)}(a.arrayValue,i.arrayValue);case 10:return function(f,p){var m=f.fields||{},y=Object.keys(m),b=p.fields||{},A=Object.keys(b);y.sort(),A.sort();for(var R=0;R<y.length&&R<A.length;++R){var k=xe(y[R],A[R]);if(0!==k)return k;var L=vt(m[y[R]],b[A[R]]);if(0!==L)return L}return xe(y.length,A.length)}(a.mapValue,i.mapValue);default:throw ae()}}function ic(a,i){if("string"==typeof a&&"string"==typeof i&&a.length===i.length)return xe(a,i);var s=xr(a),c=xr(i),f=xe(s.seconds,c.seconds);return 0!==f?f:xe(s.nanos,c.nanos)}function Zo(a){return Ms(a)}function Ms(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?"time("+(f=xr(a.timestampValue)).seconds+","+f.nanos+")":"stringValue"in a?a.stringValue:"bytesValue"in a?Nr(a.bytesValue).toBase64():"referenceValue"in a?I.C(a.referenceValue).toString():"geoPointValue"in a?"geo("+(i=a.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in a?function(c){for(var f="[",p=!0,m=0,y=c.values||[];m<y.length;m++)p?p=!1:f+=",",f+=Ms(y[m]);return f+"]"}(a.arrayValue):"mapValue"in a?function(c){for(var f="{",p=!0,m=0,y=Object.keys(c.fields||{}).sort();m<y.length;m++){var b=y[m];p?p=!1:f+=",",f+=b+":"+Ms(c.fields[b])}return f+"}"}(a.mapValue):ae();var f,i}function xr(a){if(ge(!!a),"string"==typeof a){var i=0,s=rc.exec(a);if(ge(!!s),s[1]){var c=s[1];c=(c+"000000000").substr(0,9),i=Number(c)}var f=new Date(a);return{seconds:Math.floor(f.getTime()/1e3),nanos:i}}return{seconds:qe(a.seconds),nanos:qe(a.nanos)}}function qe(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Nr(a){return"string"==typeof a?dt.fromBase64String(a):dt.fromUint8Array(a)}function St(a,i){return{referenceValue:"projects/"+a.projectId+"/databases/"+a.database+"/documents/"+i.path.R()}}function Ln(a){return!!a&&"integerValue"in a}function fa(a){return!!a&&"arrayValue"in a}function Nt(a){return!!a&&"nullValue"in a}function We(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function xs(a){return!!a&&"mapValue"in a}var Cl={asc:"ASCENDING",desc:"DESCENDING"},Dt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ha=function(a,i){this.U=a,this.Qe=i};function je(a){return{integerValue:""+a}}function Sn(a,i){if(a.Qe){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$(i)?"-0":i}}function da(a,i){return j(i)?je(i):Sn(a,i)}function pa(a,i){return a.Qe?new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+i.nanoseconds).slice(-9)+"Z":{seconds:""+i.seconds,nanos:i.nanoseconds}}function oc(a,i){return a.Qe?i.toBase64():i.toUint8Array()}function Ji(a,i){return pa(a,i.Z())}function tn(a){return ge(!!a),$e.J((s=xr(a),new kt(s.seconds,s.nanos)));var s}function iu(a,i){return(s=a,new Ge(["projects",s.projectId,"databases",s.database])).child("documents").child(i).R();var s}function ga(a){var i=Ge.g(a);return ge(ya(i)),i}function Do(a,i){return iu(a.U,i.path)}function _n(a,i){var s=ga(i);return ge(s.get(1)===a.U.projectId),ge(!s.get(3)&&!a.U.database||s.get(3)===a.U.database),new I(sc(s))}function ou(a,i){return iu(a.U,i)}function Il(a){var i=ga(a);return 4===i.length?Ge.P():sc(i)}function eo(a){return new Ge(["projects",a.U.projectId,"databases",a.U.database]).R()}function sc(a){return ge(a.length>4&&"documents"===a.get(4)),a.u(5)}function Ns(a,i,s){return{name:Do(a,i),fields:s.proto.mapValue.fields}}function Xo(a,i){var s,f;if(i instanceof Rt)s={update:Ns(a,i.key,i.value)};else if(i instanceof Li)s={delete:Do(a,i.key)};else if(i instanceof Dr)s={update:Ns(a,i.key,i.data),updateMask:va(i.We)};else if(i instanceof bi)s={transform:{document:Do(a,i.key),fieldTransforms:i.fieldTransforms.map(function(c){return function(f,p){var m=p.transform;if(m instanceof Le)return{fieldPath:p.field.R(),setToServerValue:"REQUEST_TIME"};if(m instanceof Er)return{fieldPath:p.field.R(),appendMissingElements:{values:m.elements}};if(m instanceof tr)return{fieldPath:p.field.R(),removeAllFromArray:{values:m.elements}};if(m instanceof Os)return{fieldPath:p.field.R(),increment:m.je};throw ae()}(0,c)})}};else{if(!(i instanceof cu))return ae();s={verify:Do(a,i.key)}}return i.Ge.Ke||(s.currentDocument=void 0!==(f=i.Ge).updateTime?{updateTime:Ji(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:ae()),s}function Co(a,i){var R,s=i.currentDocument?void 0!==(R=i.currentDocument).updateTime?Vn.updateTime(tn(R.updateTime)):void 0!==R.exists?Vn.exists(R.exists):Vn.ze():Vn.ze();if(i.update){var c=_n(a,i.update.name),f=new wn({mapValue:{fields:i.update.fields}});if(i.updateMask){var p=function(R){return new ki((R.fieldPaths||[]).map(function(L){return x.S(L)}))}(i.updateMask);return new Dr(c,f,p,s)}return new Rt(c,f,s)}if(i.delete){var m=_n(a,i.delete);return new Li(m,s)}if(i.transform){var y=_n(a,i.transform.document),b=i.transform.fieldTransforms.map(function(R){return function(k,L){var G=null;"setToServerValue"in L?(ge("REQUEST_TIME"===L.setToServerValue),G=new Le):"appendMissingElements"in L?G=new Er(L.appendMissingElements.values||[]):"removeAllFromArray"in L?G=new tr(L.removeAllFromArray.values||[]):"increment"in L?G=new Os(k,L.increment):ae();var Ae=x.S(L.fieldPath);return new Zr(Ae,G)}(a,R)});return ge(!0===s.exists),new bi(y,b)}if(i.verify){var A=_n(a,i.verify);return new cu(A,s)}return ae()}function su(a,i){return{documents:[ou(a,i.path)]}}function fr(a,i){var s={structuredQuery:{}},c=i.path;null!==i.collectionGroup?(s.parent=ou(a,c),s.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(s.parent=ou(a,c.h()),s.structuredQuery.from=[{collectionId:c._()}]);var f=function(y){if(0!==y.length){var b=y.map(function(A){return function(R){if("=="===R.op){if(We(R.value))return{unaryFilter:{field:Kt(R.field),op:"IS_NAN"}};if(Nt(R.value))return{unaryFilter:{field:Kt(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(We(R.value))return{unaryFilter:{field:Kt(R.field),op:"IS_NOT_NAN"}};if(Nt(R.value))return{unaryFilter:{field:Kt(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kt(R.field),op:sh(R.op),value:R.value}}}(A)});return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}}(i.filters);f&&(s.structuredQuery.where=f);var p=function(y){if(0!==y.length)return y.map(function(b){return{field:Kt((A=b).field),direction:Je(A.dir)};var A})}(i.orderBy);p&&(s.structuredQuery.orderBy=p);var b,m=(b=i.limit,a.Qe||Ni(b)?b:{value:b});return null!==m&&(s.structuredQuery.limit=m),i.startAt&&(s.structuredQuery.startAt=au(i.startAt)),i.endAt&&(s.structuredQuery.endAt=au(i.endAt)),s}function qt(a){var i=Il(a.parent),s=a.structuredQuery,c=s.from?s.from.length:0,f=null;if(c>0){ge(1===c);var p=s.from[0];p.allDescendants?f=p.collectionId:i=i.child(p.collectionId)}var m=[];s.where&&(m=Jo(s.where));var y=[];s.orderBy&&(y=s.orderBy.map(function(k){return new ti(Gn((L=k).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));var k,L,b=null;s.limit&&(b=Ni(L="object"==typeof(k=s.limit)?k.value:k)?null:L);var A=null;s.startAt&&(A=Io(s.startAt));var R=null;return s.endAt&&(R=Io(s.endAt)),$n(Be(i,f,y,m,b,"F",A,R))}function Jo(a){return a?void 0!==a.unaryFilter?[ma(a)]:void 0!==a.fieldFilter?[Rs(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(function(i){return Jo(i)}).reduce(function(i,s){return i.concat(s)}):ae():[]}function au(a){return{before:a.before,values:a.position}}function Io(a){return new ei(a.values||[],!!a.before)}function Je(a){return Cl[a]}function sh(a){return Dt[a]}function Kt(a){return{fieldPath:a.R()}}function Gn(a){return x.S(a.fieldPath)}function Rs(a){return Yt.create(Gn(a.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(a.fieldFilter.op),a.fieldFilter.value)}function ma(a){switch(a.unaryFilter.op){case"IS_NAN":var i=Gn(a.unaryFilter.field);return Yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":var s=Gn(a.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var c=Gn(a.unaryFilter.field);return Yt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var f=Gn(a.unaryFilter.field);return Yt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}function va(a){var i=[];return a.fields.forEach(function(s){return i.push(s.R())}),{fieldPaths:i}}function ya(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}var Vt=function(){this.He=void 0};function es(a,i,s){return a instanceof Le?(p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(c=s).seconds,nanos:c.nanoseconds}}}},(f=i)&&(p.fields.__previous_value__=f),{mapValue:p}):a instanceof Er?cc(a,i):a instanceof tr?uu(a,i):function(c,f){var p=uc(c,f),m=Fi(p)+Fi(c.je);return Ln(p)&&Ln(c.je)?je(m):Sn(c.serializer,m)}(a,i);var c,f,p}function ac(a,i,s){return a instanceof Er?cc(a,i):a instanceof tr?uu(a,i):s}function uc(a,i){return a instanceof Os?Ln(s=i)||(c=s)&&"doubleValue"in c?i:{integerValue:0}:null;var c,s}var Le=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return N.__extends(i,a),i}(Vt),Er=function(a){function i(s){var c=this;return(c=a.call(this)||this).elements=s,c}return N.__extends(i,a),i}(Vt);function cc(a,i){for(var s=Rr(i),c=function(m){s.some(function(y){return _i(y,m)})||s.push(m)},f=0,p=a.elements;f<p.length;f++)c(p[f]);return{arrayValue:{values:s}}}var tr=function(a){function i(s){var c=this;return(c=a.call(this)||this).elements=s,c}return N.__extends(i,a),i}(Vt);function uu(a,i){for(var s=Rr(i),c=function(m){s=s.filter(function(y){return!_i(y,m)})},f=0,p=a.elements;f<p.length;f++)c(p[f]);return{arrayValue:{values:s}}}var Os=function(a){function i(s,c){var f=this;return(f=a.call(this)||this).serializer=s,f.je=c,f}return N.__extends(i,a),i}(Vt);function Fi(a){return qe(a.integerValue||a.doubleValue)}function Rr(a){return fa(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}var ki=function(){function a(i){this.fields=i,i.sort(x.i)}return a.prototype.Ye=function(i){for(var s=0,c=this.fields;s<c.length;s++)if(c[s].T(i))return!0;return!1},a.prototype.isEqual=function(i){return ln(this.fields,i.fields,function(s,c){return s.isEqual(c)})},a}(),Zr=function(a,i){this.field=a,this.transform=i},Xr=function(a,i){this.version=a,this.transformResults=i},Vn=function(){function a(i,s){this.updateTime=i,this.exists=s}return a.ze=function(){return new a},a.exists=function(i){return new a(void 0,i)},a.updateTime=function(i){return new a(i)},Object.defineProperty(a.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)},a}();function Ao(a,i){return void 0!==a.updateTime?i instanceof Ot&&i.version.isEqual(a.updateTime):void 0===a.exists||a.exists===i instanceof Ot}var wi=function(){};function ah(a,i,s){return a instanceof Rt?new Ot((c=a).key,s.version,c.value,{hasCommittedMutations:!0}):a instanceof Dr?function(c,f,p){if(!Ao(c.Ge,f))return new wa(c.key,p.version);var m=ts(c,f);return new Ot(c.key,p.version,m,{hasCommittedMutations:!0})}(a,i,s):a instanceof bi?function(c,f,p){if(ge(null!=p.transformResults),!Ao(c.Ge,f))return new wa(c.key,p.version);var m=_a(0,f),y=function(R,k,L){var G=[];ge(R.length===L.length);for(var Z=0;Z<L.length;Z++){var re=R[Z],Ae=re.transform,De=null;k instanceof Ot&&(De=k.field(re.field)),G.push(ac(Ae,De,L[Z]))}return G}(c.fieldTransforms,f,p.transformResults),b=p.version,A=Or(c,m.data(),y);return new Ot(c.key,b,A,{hasCommittedMutations:!0})}(a,i,s):function(c,f,p){return new Lt(c.key,p.version,{hasCommittedMutations:!0})}(a,0,s);var c}function Ut(a,i,s,c){return a instanceof Rt?function(f,p){if(!Ao(f.Ge,p))return p;var m=to(p);return new Ot(f.key,m,f.value,{Je:!0})}(a,i):a instanceof Dr?function(f,p){if(!Ao(f.Ge,p))return p;var m=to(p),y=ts(f,p);return new Ot(f.key,m,y,{Je:!0})}(a,i):a instanceof bi?function(f,p,m,y){if(!Ao(f.Ge,p))return p;var b=_a(0,p),A=function(k,L,G,Z){for(var re=[],Ae=0,De=k;Ae<De.length;Ae++){var Ve=De[Ae],st=Ve.transform,_t=null;G instanceof Ot&&(_t=G.field(Ve.field)),null===_t&&Z instanceof Ot&&(_t=Z.field(Ve.field)),re.push(es(st,_t,L))}return re}(f.fieldTransforms,m,p,y),R=Or(f,b.data(),A);return new Ot(f.key,b.version,R,{Je:!0})}(a,i,c,s):Ao((f=a).Ge,p=i)?new Lt(f.key,$e.min()):p;var f,p}function Al(a,i){return a instanceof bi?function(s,c){for(var f=null,p=0,m=s.fieldTransforms;p<m.length;p++){var y=m[p],b=c instanceof Ot?c.field(y.field):void 0,A=uc(y.transform,b||null);null!=A&&(f=null==f?(new no).set(y.field,A):f.set(y.field,A))}return f?f.Xe():null}(a,i):null}function Sl(a,i){return a.type===i.type&&!!a.key.isEqual(i.key)&&!!a.Ge.isEqual(i.Ge)&&(0===a.type?a.value.isEqual(i.value):1===a.type?a.data.isEqual(i.data)&&a.We.isEqual(i.We):2!==a.type||ln(a.fieldTransforms,a.fieldTransforms,function(s,c){return(f=s).field.isEqual((p=c).field)&&(y=p.transform,(m=f.transform)instanceof Er&&y instanceof Er||m instanceof tr&&y instanceof tr?ln(m.elements,y.elements,_i):m instanceof Os&&y instanceof Os?_i(m.je,y.je):m instanceof Le&&y instanceof Le);var f,p,m,y}))}function to(a){return a instanceof Ot?a.version:$e.min()}var Rt=function(a){function i(s,c,f){var p=this;return(p=a.call(this)||this).key=s,p.value=c,p.Ge=f,p.type=0,p}return N.__extends(i,a),i}(wi),Dr=function(a){function i(s,c,f,p){var m=this;return(m=a.call(this)||this).key=s,m.data=c,m.We=f,m.Ge=p,m.type=1,m}return N.__extends(i,a),i}(wi);function ts(a,i){return s=a,c=i instanceof Ot?i.data():wn.empty(),f=new no(c),s.We.fields.forEach(function(p){if(!p.m()){var m=s.data.field(p);null!==m?f.set(p,m):f.delete(p)}}),f.Xe();var s,c,f}var bi=function(a){function i(s,c){var f=this;return(f=a.call(this)||this).key=s,f.fieldTransforms=c,f.type=2,f.Ge=Vn.exists(!0),f}return N.__extends(i,a),i}(wi);function _a(a,i){return i}function Or(a,i,s){for(var c=new no(i),f=0;f<a.fieldTransforms.length;f++)c.set(a.fieldTransforms[f].field,s[f]);return c.Xe()}var Li=function(a){function i(s,c){var f=this;return(f=a.call(this)||this).key=s,f.Ge=c,f.type=3,f}return N.__extends(i,a),i}(wi),cu=function(a){function i(s,c){var f=this;return(f=a.call(this)||this).key=s,f.Ge=c,f.type=4,f}return N.__extends(i,a),i}(wi),wn=function(){function a(i){this.proto=i}return a.empty=function(){return new a({mapValue:{}})},a.prototype.field=function(i){if(i.m())return this.proto;for(var s=this.proto,c=0;c<i.length-1;++c)if(!s.mapValue.fields||!xs(s=s.mapValue.fields[i.get(c)]))return null;return(s=(s.mapValue.fields||{})[i._()])||null},a.prototype.isEqual=function(i){return _i(this.proto,i.proto)},a}(),no=function(){function a(i){void 0===i&&(i=wn.empty()),this.Ze=i,this.tn=new Map}return a.prototype.set=function(i,s){return this.en(i,s),this},a.prototype.delete=function(i){return this.en(i,null),this},a.prototype.en=function(i,s){for(var c=this.tn,f=0;f<i.length-1;++f){var p=i.get(f),m=c.get(p);m instanceof Map?c=m:m&&10===Yr(m)?(m=new Map(Object.entries(m.mapValue.fields||{})),c.set(p,m),c=m):(c.set(p,m=new Map),c=m)}c.set(i._(),s)},a.prototype.Xe=function(){var i=this.nn(x.P(),this.tn);return null!=i?new wn(i):this.Ze},a.prototype.nn=function(i,s){var c=this,f=!1,p=this.Ze.field(i),m=xs(p)?Object.assign({},p.mapValue.fields):{};return s.forEach(function(y,b){if(y instanceof Map){var A=c.nn(i.child(b),y);null!=A&&(m[b]=A,f=!0)}else null!==y?(m[b]=y,f=!0):m.hasOwnProperty(b)&&(delete m[b],f=!0)}),f?{mapValue:{fields:m}}:null},a}();function lu(a){var i=[];return it(a.fields||{},function(s,c){var f=new x([s]);if(xs(c)){var p=lu(c.mapValue).fields;if(0===p.length)i.push(f);else for(var m=0,y=p;m<y.length;m++)i.push(f.child(y[m]))}else i.push(f)}),new ki(i)}var sn=function(a,i){this.key=a,this.version=i},Ot=function(a){function i(s,c,f,p){var m=this;return(m=a.call(this,s,c)||this).sn=f,m.Je=!!p.Je,m.hasCommittedMutations=!!p.hasCommittedMutations,m}return N.__extends(i,a),i.prototype.field=function(s){return this.sn.field(s)},i.prototype.data=function(){return this.sn},i.prototype.rn=function(){return this.sn.proto},i.prototype.isEqual=function(s){return s instanceof i&&this.key.isEqual(s.key)&&this.version.isEqual(s.version)&&this.Je===s.Je&&this.hasCommittedMutations===s.hasCommittedMutations&&this.sn.isEqual(s.sn)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i}(sn),Lt=function(a){function i(s,c,f){var p=this;return(p=a.call(this,s,c)||this).hasCommittedMutations=!(!f||!f.hasCommittedMutations),p}return N.__extends(i,a),i.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(s){return s instanceof i&&s.hasCommittedMutations===this.hasCommittedMutations&&s.version.isEqual(this.version)&&s.key.isEqual(this.key)},i}(sn),wa=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return N.__extends(i,a),i.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(s){return s instanceof i&&s.version.isEqual(this.version)&&s.key.isEqual(this.key)},i}(sn),Ei=function(a,i,s,c,f,p,m,y){void 0===i&&(i=null),void 0===s&&(s=[]),void 0===c&&(c=[]),void 0===f&&(f=null),void 0===p&&(p="F"),void 0===m&&(m=null),void 0===y&&(y=null),this.path=a,this.collectionGroup=i,this.on=s,this.filters=c,this.limit=f,this.an=p,this.startAt=m,this.endAt=y,this.cn=null,this.un=null};function Be(a,i,s,c,f,p,m,y){return new Ei(a,i,s,c,f,p,m,y)}function bn(a){return new Ei(a)}function gn(a){return!Ni(a.limit)&&"F"===a.an}function Pr(a){return!Ni(a.limit)&&"L"===a.an}function Fr(a){return a.on.length>0?a.on[0].field:null}function nr(a){for(var i=0,s=a.filters;i<s.length;i++){var c=s[i];if(c.hn())return c.field}return null}function Cr(a){return null!==a.collectionGroup}function ro(a){var i=le(a);if(null===i.cn){i.cn=[];var s=nr(i),c=Fr(i);if(null!==s&&null===c)s.p()||i.cn.push(new ti(s)),i.cn.push(new ti(x.v(),"asc"));else{for(var f=!1,p=0,m=i.on;p<m.length;p++){var y=m[p];i.cn.push(y),y.field.p()&&(f=!0)}if(!f){var b=i.on.length>0?i.on[i.on.length-1].dir:"asc";i.cn.push(new ti(x.v(),b))}}}return i.cn}function $n(a){var i=le(a);if(!i.un)if("F"===i.an)i.un=X(i.path,i.collectionGroup,ro(i),i.filters,i.limit,i.startAt,i.endAt);else{for(var s=[],c=0,f=ro(i);c<f.length;c++){var p=f[c];s.push(new ti(p.field,"desc"===p.dir?"asc":"desc"))}var y=i.endAt?new ei(i.endAt.position,!i.endAt.before):null,b=i.startAt?new ei(i.startAt.position,!i.startAt.before):null;i.un=X(i.path,i.collectionGroup,s,i.filters,i.limit,y,b)}return i.un}function Vi(a,i,s){return new Ei(a.path,a.collectionGroup,a.on.slice(),a.filters.slice(),i,s,a.startAt,a.endAt)}function Ui(a,i){return new Ei(a.path,a.collectionGroup,a.on.slice(),a.filters.slice(),a.limit,a.an,i,a.endAt)}function En(a,i){return new Ei(a.path,a.collectionGroup,a.on.slice(),a.filters.slice(),a.limit,a.an,a.startAt,i)}function ji(a,i){return Ne($n(a),$n(i))&&a.an===i.an}function hr(a){return q($n(a))+"|lt:"+a.an}function _e(a){return"Query(target="+(s=(i=$n(a)).path.R(),null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=", filters: ["+i.filters.map(function(c){return(f=c).field.R()+" "+f.op+" "+Zo(f.value);var f}).join(", ")+"]"),Ni(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=", orderBy: ["+i.orderBy.map(function(c){return(f=c).field.R()+" ("+f.dir+")";var f}).join(", ")+"]"),i.startAt&&(s+=", startAt: "+kr(i.startAt)),i.endAt&&(s+=", endAt: "+kr(i.endAt)),"Target("+s+"); limitType=")+a.an+")";var i,s}function Ye(a,i){return f=(c=i).key.path,(null!==(s=a).collectionGroup?c.key.N(s.collectionGroup)&&s.path.T(f):I.F(s.path)?s.path.isEqual(f):s.path.I(f))&&function(s,c){for(var f=0,p=s.on;f<p.length;f++){var m=p[f];if(!m.field.p()&&null===c.field(m.field))return!1}return!0}(a,i)&&function(s,c){for(var f=0,p=s.filters;f<p.length;f++)if(!p[f].matches(c))return!1;return!0}(a,i)&&function(s,c){return!(s.startAt&&!oo(s.startAt,ro(s),c)||s.endAt&&oo(s.endAt,ro(s),c))}(a,i);var s,c,f}function Zt(a){return function(i,s){for(var c=!1,f=0,p=ro(a);f<p.length;f++){var m=p[f],y=Mo(m,i,s);if(0!==y)return y;c=c||m.field.p()}return 0}}var Yt=function(a){function i(s,c,f){var p=this;return(p=a.call(this)||this).field=s,p.op=c,p.value=f,p}return N.__extends(i,a),i.create=function(s,c,f){if(s.p())return"in"===c||"not-in"===c?this.ln(s,c,f):new Jr(s,c,f);if(Nt(f)){if("=="!==c&&"!="!==c)throw new H(U.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new i(s,c,f)}if(We(f)){if("=="!==c&&"!="!==c)throw new H(U.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new i(s,c,f)}return"array-contains"===c?new So(s,f):"in"===c?new To(s,f):"not-in"===c?new et(s,f):"array-contains-any"===c?new Ps(s,f):new i(s,c,f)},i.ln=function(s,c,f){return"in"===c?new Dn(s,f):new io(s,f)},i.prototype.matches=function(s){var c=s.field(this.field);return"!="===this.op?null!==c&&this._n(vt(c,this.value)):null!==c&&Yr(this.value)===Yr(c)&&this._n(vt(c,this.value))},i.prototype._n=function(s){switch(this.op){case"<":return s<0;case"<=":return s<=0;case"==":return 0===s;case"!=":return 0!==s;case">":return s>0;case">=":return s>=0;default:return ae()}},i.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},i}(function(){}),Jr=function(a){function i(s,c,f){var p=this;return(p=a.call(this,s,c,f)||this).key=I.C(f.referenceValue),p}return N.__extends(i,a),i.prototype.matches=function(s){var c=I.i(s.key,this.key);return this._n(c)},i}(Yt),Dn=function(a){function i(s,c){var f=this;return(f=a.call(this,s,"in",c)||this).keys=Jt(0,c),f}return N.__extends(i,a),i.prototype.matches=function(s){return this.keys.some(function(c){return c.isEqual(s.key)})},i}(Yt),io=function(a){function i(s,c){var f=this;return(f=a.call(this,s,"not-in",c)||this).keys=Jt(0,c),f}return N.__extends(i,a),i.prototype.matches=function(s){return!this.keys.some(function(c){return c.isEqual(s.key)})},i}(Yt);function Jt(a,i){var s;return((null===(s=i.arrayValue)||void 0===s?void 0:s.values)||[]).map(function(c){return I.C(c.referenceValue)})}var So=function(a){function i(s,c){return a.call(this,s,"array-contains",c)||this}return N.__extends(i,a),i.prototype.matches=function(s){var c=s.field(this.field);return fa(c)&&Ts(c.arrayValue,this.value)},i}(Yt),To=function(a){function i(s,c){return a.call(this,s,"in",c)||this}return N.__extends(i,a),i.prototype.matches=function(s){var c=s.field(this.field);return null!==c&&Ts(this.value.arrayValue,c)},i}(Yt),et=function(a){function i(s,c){return a.call(this,s,"not-in",c)||this}return N.__extends(i,a),i.prototype.matches=function(s){if(Ts(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var c=s.field(this.field);return null!==c&&!Ts(this.value.arrayValue,c)},i}(Yt),Ps=function(a){function i(s,c){return a.call(this,s,"array-contains-any",c)||this}return N.__extends(i,a),i.prototype.matches=function(s){var c=this,f=s.field(this.field);return!(!fa(f)||!f.arrayValue.values)&&f.arrayValue.values.some(function(p){return Ts(c.value.arrayValue,p)})},i}(Yt),ei=function(a,i){this.position=a,this.before=i};function kr(a){return(a.before?"b":"a")+":"+a.position.map(function(i){return Zo(i)}).join(",")}function oo(a,i,s){for(var c=0,f=0;f<a.position.length;f++){var p=i[f],m=a.position[f];if(c=p.field.p()?I.i(I.C(m.referenceValue),s.key):vt(m,s.field(p.field)),"desc"===p.dir&&(c*=-1),0!==c)break}return a.before?c<=0:c<0}function qn(a,i){if(null===a)return null===i;if(null===i||a.before!==i.before||a.position.length!==i.position.length)return!1;for(var s=0;s<a.position.length;s++)if(!_i(a.position[s],i.position[s]))return!1;return!0}var ti=function(a,i){void 0===i&&(i="asc"),this.field=a,this.dir=i};function Mo(a,i,s){var f,m,y,b,c=a.field.p()?I.i(i.key,s.key):(m=s,y=i.field(f=a.field),b=m.field(f),null!==y&&null!==b?vt(y,b):ae());switch(a.dir){case"asc":return c;case"desc":return-1*c;default:return ae()}}function dr(a,i){return a.dir===i.dir&&a.field.isEqual(i.field)}var He=function(){var a=this;this.promise=new Promise(function(i,s){a.resolve=i,a.reject=s})},ba=function(){function a(i,s,c,f,p){void 0===c&&(c=1e3),void 0===f&&(f=1.5),void 0===p&&(p=6e4),this.fn=i,this.dn=s,this.wn=c,this.mn=f,this.Tn=p,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return a.prototype.reset=function(){this.En=0},a.prototype.Rn=function(){this.En=this.Tn},a.prototype.gn=function(i){var s=this;this.cancel();var c=Math.floor(this.En+this.Pn()),f=Math.max(0,Date.now()-this.An),p=Math.max(0,c-f);p>0&&W("ExponentialBackoff","Backing off for "+p+" ms (base delay: "+this.En+" ms, delay with jitter: "+c+" ms, last attempt: "+f+" ms ago)"),this.In=this.fn.yn(this.dn,p,function(){return s.An=Date.now(),i()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},a.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},a.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},a.prototype.Pn=function(){return(Math.random()-.5)*this.En},a}(),he=function(){function a(i){var s=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,i(function(c){s.Sn=!0,s.result=c,s.bn&&s.bn(c)},function(c){s.Sn=!0,s.error=c,s.vn&&s.vn(c)})}return a.prototype.catch=function(i){return this.next(void 0,i)},a.prototype.next=function(i,s){var c=this;return this.Dn&&ae(),this.Dn=!0,this.Sn?this.error?this.Cn(s,this.error):this.Nn(i,this.result):new a(function(f,p){c.bn=function(m){c.Nn(i,m).next(f,p)},c.vn=function(m){c.Cn(s,m).next(f,p)}})},a.prototype.Fn=function(){var i=this;return new Promise(function(s,c){i.next(s,c)})},a.prototype.xn=function(i){try{var s=i();return s instanceof a?s:a.resolve(s)}catch(c){return a.reject(c)}},a.prototype.Nn=function(i,s){return i?this.xn(function(){return i(s)}):a.resolve(s)},a.prototype.Cn=function(i,s){return i?this.xn(function(){return i(s)}):a.reject(s)},a.resolve=function(i){return new a(function(s,c){s(i)})},a.reject=function(i){return new a(function(s,c){c(i)})},a.$n=function(i){return new a(function(s,c){var f=0,p=0,m=!1;i.forEach(function(y){++f,y.next(function(){++p,m&&p===f&&s()},function(b){return c(b)})}),m=!0,p===f&&s()})},a.kn=function(i){for(var s=a.resolve(!1),c=function(m){s=s.next(function(y){return y?a.resolve(y):m()})},f=0,p=i;f<p.length;f++)c(p[f]);return s},a.forEach=function(i,s){var c=this,f=[];return i.forEach(function(p,m){f.push(s.call(c,p,m))}),this.$n(f)},a}(),mn=function(){function a(i,s,c){this.name=i,this.version=s,this.Mn=c,12.2===a.On(Se.getUA())&&ye("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return a.delete=function(i){return W("SimpleDb","Removing database:",i),xo(window.indexedDB.deleteDatabase(i)).Fn()},a.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(a.Bn())return!0;var i=Se.getUA(),s=a.On(i),c=0<s&&s<10,f=a.qn(i),p=0<f&&f<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||c||p)},a.Bn=function(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Un)},a.Qn=function(i,s){return i.store(s)},a.On=function(i){var s=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(c)},a.qn=function(i){var s=i.match(/Android ([\d.]+)/i),c=s?s[1].split(".").slice(0,2).join("."):"-1";return Number(c)},a.prototype.Wn=function(i){return N.__awaiter(this,void 0,void 0,function(){var s,c=this;return N.__generator(this,function(f){switch(f.label){case 0:return this.db?[3,2]:(W("SimpleDb","Opening database:",this.name),s=this,[4,new Promise(function(p,m){var y=indexedDB.open(c.name,c.version);y.onsuccess=function(b){p(b.target.result)},y.onblocked=function(){m(new so(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=function(b){var A=b.target.error;m("VersionError"===A.name?new H(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new so(i,A))},y.onupgradeneeded=function(b){W("SimpleDb",'Database "'+c.name+'" requires upgrade from version:',b.oldVersion),c.Mn.createOrUpgrade(b.target.result,y.transaction,b.oldVersion,c.version).next(function(){W("SimpleDb","Database upgrade to version "+c.version+" complete")})}})]);case 1:s.db=f.sent(),f.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(p){return c.jn(p)}),this.db)]}})})},a.prototype.Kn=function(i){this.jn=i,this.db&&(this.db.onversionchange=function(s){return i(s)})},a.prototype.runTransaction=function(i,s,c,f){return N.__awaiter(this,void 0,void 0,function(){var p,m,y,b,A;return N.__generator(this,function(R){switch(R.label){case 0:p="readonly"===s,m=0,y=function(){var k,L,G,Z,re;return N.__generator(this,function(Ae){switch(Ae.label){case 0:++m,Ae.label=1;case 1:return Ae.trys.push([1,4,,5]),[4,b.Wn(i)];case 2:return b.db=Ae.sent(),k=ns.open(b.db,i,p?"readonly":"readwrite",c),L=f(k).catch(function(De){return k.abort(De),he.reject(De)}).Fn(),G={},L.catch(function(){}),[4,k.Gn];case 3:return[2,(G.value=(Ae.sent(),L),G)];case 4:return W("SimpleDb","Transaction failed with error:",(Z=Ae.sent()).message,"Retrying:",re="FirebaseError"!==Z.name&&m<3),b.close(),re?[3,5]:[2,{value:Promise.reject(Z)}];case 5:return[2]}})},b=this,R.label=1;case 1:return[5,y()];case 2:if("object"==typeof(A=R.sent()))return[2,A.value];R.label=3;case 3:return[3,1];case 4:return[2]}})})},a.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},a}(),Lr=function(){function a(i){this.zn=i,this.Hn=!1,this.Yn=null}return Object.defineProperty(a.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cursor",{set:function(i){this.zn=i},enumerable:!1,configurable:!0}),a.prototype.done=function(){this.Hn=!0},a.prototype.Xn=function(i){this.Yn=i},a.prototype.delete=function(){return xo(this.zn.delete())},a}(),so=function(a){function i(s,c){var f=this;return(f=a.call(this,U.UNAVAILABLE,"IndexedDB transaction '"+s+"' failed: "+c)||this).name="IndexedDbTransactionError",f}return N.__extends(i,a),i}(H);function ni(a){return"IndexedDbTransactionError"===a.name}var ns=function(){function a(i,s){var c=this;this.action=i,this.transaction=s,this.aborted=!1,this.Zn=new He,this.transaction.oncomplete=function(){c.Zn.resolve()},this.transaction.onabort=function(){s.error?c.Zn.reject(new so(i,s.error)):c.Zn.resolve()},this.transaction.onerror=function(f){var p=d(f.target.error);c.Zn.reject(new so(i,p))}}return a.open=function(i,s,c,f){try{return new a(s,i.transaction(f,c))}catch(p){throw new so(s,p)}},Object.defineProperty(a.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),a.prototype.abort=function(i){i&&this.Zn.reject(i),this.aborted||(W("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},a.prototype.store=function(i){var s=this.transaction.objectStore(i);return new Vr(s)},a}(),Vr=function(){function a(i){this.store=i}return a.prototype.put=function(i,s){var c;return void 0!==s?(W("SimpleDb","PUT",this.store.name,i,s),c=this.store.put(s,i)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",i),c=this.store.put(i)),xo(c)},a.prototype.add=function(i){return W("SimpleDb","ADD",this.store.name,i,i),xo(this.store.add(i))},a.prototype.get=function(i){var s=this;return xo(this.store.get(i)).next(function(c){return void 0===c&&(c=null),W("SimpleDb","GET",s.store.name,i,c),c})},a.prototype.delete=function(i){return W("SimpleDb","DELETE",this.store.name,i),xo(this.store.delete(i))},a.prototype.count=function(){return W("SimpleDb","COUNT",this.store.name),xo(this.store.count())},a.prototype.ts=function(i,s){var c=this.cursor(this.options(i,s)),f=[];return this.es(c,function(p,m){f.push(m)}).next(function(){return f})},a.prototype.ns=function(i,s){W("SimpleDb","DELETE ALL",this.store.name);var c=this.options(i,s);c.ss=!1;var f=this.cursor(c);return this.es(f,function(p,m,y){return y.delete()})},a.prototype.rs=function(i,s){var c;s?c=i:(c={},s=i);var f=this.cursor(c);return this.es(f,s)},a.prototype.os=function(i){var s=this.cursor({});return new he(function(c,f){s.onerror=function(p){var m=d(p.target.error);f(m)},s.onsuccess=function(p){var m=p.target.result;m?i(m.primaryKey,m.value).next(function(y){y?m.continue():c()}):c()}})},a.prototype.es=function(i,s){var c=[];return new he(function(f,p){i.onerror=function(m){p(m.target.error)},i.onsuccess=function(m){var y=m.target.result;if(y){var b=new Lr(y),A=s(y.primaryKey,y.value,b);if(A instanceof he){var R=A.catch(function(k){return b.done(),he.reject(k)});c.push(R)}b.Sn?f():null===b.Jn?y.continue():y.continue(b.Jn)}else f()}}).next(function(){return he.$n(c)})},a.prototype.options=function(i,s){var c=void 0;return void 0!==i&&("string"==typeof i?c=i:s=i),{index:c,range:s}},a.prototype.cursor=function(i){var s="next";if(i.reverse&&(s="prev"),i.index){var c=this.store.index(i.index);return i.ss?c.openKeyCursor(i.range,s):c.openCursor(i.range,s)}return this.store.openCursor(i.range,s)},a}();function xo(a){return new he(function(i,s){a.onsuccess=function(c){i(c.target.result)},a.onerror=function(c){var f=d(c.target.error);s(f)}})}var Tl=!1;function d(a){var i=mn.On(Se.getUA());if(i>=12.2&&i<13){var s="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(s)>=0){var c=new H("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+s+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Tl||(Tl=!0,setTimeout(function(){throw c},0)),c}}return a}function _(){return"undefined"!=typeof window?window:null}function E(){return"undefined"!=typeof document?document:null}var T=function(){function a(i,s,c,f,p){this.cs=i,this.dn=s,this.us=c,this.op=f,this.hs=p,this.ls=new He,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(m){})}return a._s=function(i,s,c,f,p){var m=new a(i,s,Date.now()+c,f,p);return m.start(c),m},a.prototype.start=function(i){var s=this;this.fs=setTimeout(function(){return s.ds()},i)},a.prototype.pn=function(){return this.ds()},a.prototype.cancel=function(i){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new H(U.CANCELLED,"Operation cancelled"+(i?": "+i:""))))},a.prototype.ds=function(){var i=this;this.cs.ws(function(){return null!==i.fs?(i.clearTimeout(),i.op().then(function(s){return i.ls.resolve(s)})):Promise.resolve()})},a.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},a}(),V=function(){function a(){var i=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new ba(this,"async_queue_retry"),this.Vs=function(){var c=E();c&&W("AsyncQueue","Visibility state changed to  ",c.visibilityState),i.ys.Vn()};var s=E();s&&"function"==typeof s.addEventListener&&s.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(a.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),a.prototype.ws=function(i){this.enqueue(i)},a.prototype.bs=function(i){this.vs(),this.Ss(i)},a.prototype.Ds=function(){if(!this.Is){this.Is=!0;var i=E();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vs)}},a.prototype.enqueue=function(i){return this.vs(),this.Is?new Promise(function(s){}):this.Ss(i)},a.prototype.Cs=function(i){var s=this;this.ws(function(){return s.Es.push(i),s.Ns()})},a.prototype.Ns=function(){return N.__awaiter(this,void 0,void 0,function(){var i,s=this;return N.__generator(this,function(c){switch(c.label){case 0:if(0===this.Es.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return c.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!ni(i=c.sent()))throw i;return W("AsyncQueue","Operation failed with retryable error: "+i),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return s.Ns()}),c.label=5;case 5:return[2]}})})},a.prototype.Ss=function(i){var s=this,c=this.Ts.then(function(){return s.gs=!0,i().catch(function(f){throw s.Rs=f,s.gs=!1,ye("INTERNAL UNHANDLED ERROR: ",(m=(p=f).message||"",p.stack&&(m=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),m)),f;var p,m}).then(function(f){return s.gs=!1,f})});return this.Ts=c,c},a.prototype.yn=function(i,s,c){var f=this;this.vs(),this.Ps.indexOf(i)>-1&&(s=0);var p=T._s(this,i,s,c,function(m){return f.Fs(m)});return this.As.push(p),p},a.prototype.vs=function(){this.Rs&&ae()},a.prototype.xs=function(){},a.prototype.$s=function(){return N.__awaiter(this,void 0,void 0,function(){var i;return N.__generator(this,function(s){switch(s.label){case 0:return[4,i=this.Ts];case 1:s.sent(),s.label=2;case 2:if(i!==this.Ts)return[3,0];s.label=3;case 3:return[2]}})})},a.prototype.ks=function(i){for(var s=0,c=this.As;s<c.length;s++)if(c[s].dn===i)return!0;return!1},a.prototype.Ms=function(i){var s=this;return this.$s().then(function(){s.As.sort(function(m,y){return m.us-y.us});for(var c=0,f=s.As;c<f.length;c++){var p=f[c];if(p.pn(),"all"!==i&&p.dn===i)break}return s.$s()})},a.prototype.Os=function(i){this.Ps.push(i)},a.prototype.Fs=function(i){var s=this.As.indexOf(i);this.As.splice(s,1)},a}();function Y(a,i){if(ye("AsyncQueue",i+": "+a),ni(a))return new H(U.UNAVAILABLE,i+": "+a);throw a}var Ee=function(){this.Ls=void 0,this.listeners=[]},Ct=function(){this.Bs=new wo(function(a){return hr(a)},ji),this.onlineState="Unknown",this.qs=new Set};function yt(a,i){return N.__awaiter(this,void 0,void 0,function(){var s,c,f,p,m,y,b;return N.__generator(this,function(A){switch(A.label){case 0:if(s=le(a),f=!1,(p=s.Bs.get(c=i.query))||(f=!0,p=new Ee),!f)return[3,4];A.label=1;case 1:return A.trys.push([1,3,,4]),m=p,[4,s.Us(c)];case 2:return m.Ls=A.sent(),[3,4];case 3:return y=A.sent(),b=Y(y,"Initialization of query '"+_e(i.query)+"' failed"),[2,void i.onError(b)];case 4:return s.Bs.set(c,p),p.listeners.push(i),i.Qs(s.onlineState),p.Ls&&i.Ws(p.Ls)&&Ea(s),[2]}})})}function Un(a,i){return N.__awaiter(this,void 0,void 0,function(){var s,c,f,p,m;return N.__generator(this,function(y){return s=le(a),f=!1,(p=s.Bs.get(c=i.query))&&(m=p.listeners.indexOf(i))>=0&&(p.listeners.splice(m,1),f=0===p.listeners.length),f?[2,(s.Bs.delete(c),s.js(c))]:[2]})})}function Di(a,i){for(var s=le(a),c=!1,f=0,p=i;f<p.length;f++){var m=p[f],b=s.Bs.get(m.query);if(b){for(var A=0,R=b.listeners;A<R.length;A++)R[A].Ws(m)&&(c=!0);b.Ls=m}}c&&Ea(s)}function ri(a,i,s){var c=le(a),f=c.Bs.get(i);if(f)for(var p=0,m=f.listeners;p<m.length;p++)m[p].onError(s);c.Bs.delete(i)}function Ea(a){a.qs.forEach(function(i){i.next()})}var Fs=function(){function a(i,s,c){this.query=i,this.Ks=s,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=c||{}}return a.prototype.Ws=function(i){if(!this.options.includeMetadataChanges){for(var s=[],c=0,f=i.docChanges;c<f.length;c++){var p=f[c];3!==p.type&&s.push(p)}i=new lr(i.query,i.docs,i.Qt,s,i.Wt,i.fromCache,i.jt,!0)}var m=!1;return this.Gs?this.Hs(i)&&(this.Ks.next(i),m=!0):this.Ys(i,this.onlineState)&&(this.Js(i),m=!0),this.zs=i,m},a.prototype.onError=function(i){this.Ks.error(i)},a.prototype.Qs=function(i){this.onlineState=i;var s=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,i)&&(this.Js(this.zs),s=!0),s},a.prototype.Ys=function(i,s){return!i.fromCache||!(this.options.Xs&&"Offline"!==s||i.docs.m()&&"Offline"!==s)},a.prototype.Hs=function(i){return i.docChanges.length>0||!!(i.jt||this.zs&&this.zs.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges},a.prototype.Js=function(i){i=lr.Gt(i.query,i.docs,i.Wt,i.fromCache),this.Gs=!0,this.Ks.next(i)},a}(),pr=function(){function a(i){this.uid=i}return a.prototype.Zs=function(){return null!=this.uid},a.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},a.prototype.isEqual=function(i){return i.uid===this.uid},a}();pr.UNAUTHENTICATED=new pr(null),pr.ei=new pr("google-credentials-uid"),pr.ni=new pr("first-party-uid");var Ir=function(){function a(i,s){var c=this;this.previousValue=i,s&&(s.si=function(f){return c.ii(f)},this.ri=function(f){return s.oi(f)})}return a.prototype.ii=function(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue},a.prototype.next=function(){var i=++this.previousValue;return this.ri&&this.ri(i),i},a}();function Da(a,i){return"firestore_clients_"+a+"_"+i}function lc(a,i,s){var c="firestore_mutations_"+a+"_"+s;return i.Zs()&&(c+="_"+i.uid),c}function uh(a,i){return"firestore_targets_"+a+"_"+i}Ir.ai=-1;var Bp=function(){function a(i,s,c,f){this.user=i,this.batchId=s,this.state=c,this.error=f}return a.ci=function(i,s,c){var f=JSON.parse(c),p="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error),m=void 0;return p&&f.error&&(p="string"==typeof f.error.message&&"string"==typeof f.error.code)&&(m=new H(f.error.code,f.error.message)),p?new a(i,s,f.state,m):(ye("SharedClientState","Failed to parse mutation state for ID '"+s+"': "+c),null)},a.prototype.ui=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},a}(),ch=function(){function a(i,s,c){this.targetId=i,this.state=s,this.error=c}return a.ci=function(i,s){var c=JSON.parse(s),f="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error),p=void 0;return f&&c.error&&(f="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(p=new H(c.error.code,c.error.message)),f?new a(i,c.state,p):(ye("SharedClientState","Failed to parse target state for ID '"+i+"': "+s),null)},a.prototype.ui=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},a}(),rs=function(){function a(i,s){this.clientId=i,this.activeTargetIds=s}return a.ci=function(i,s){for(var c=JSON.parse(s),f="object"==typeof c&&c.activeTargetIds instanceof Array,p=Qo(),m=0;f&&m<c.activeTargetIds.length;++m)f=j(c.activeTargetIds[m]),p=p.add(c.activeTargetIds[m]);return f?new a(i,p):(ye("SharedClientState","Failed to parse client data for instance '"+i+"': "+s),null)},a}(),Hp=function(){function a(i,s){this.clientId=i,this.onlineState=s}return a.ci=function(i){var s=JSON.parse(i);return"object"==typeof s&&-1!==["Unknown","Online","Offline"].indexOf(s.onlineState)&&"string"==typeof s.clientId?new a(s.clientId,s.onlineState):(ye("SharedClientState","Failed to parse online state: "+i),null)},a}(),Ur=function(){function a(){this.activeTargetIds=Qo()}return a.prototype.hi=function(i){this.activeTargetIds=this.activeTargetIds.add(i)},a.prototype.li=function(i){this.activeTargetIds=this.activeTargetIds.delete(i)},a.prototype.ui=function(){var i={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(i)},a}(),fc=function(){function a(i,s,c,f,p){this.window=i,this.fn=s,this.persistenceKey=c,this._i=f,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new on(xe),this.Ei=!1,this.Ii=[];var m=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Ai=Da(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new Ur),this.gi=new RegExp("^firestore_clients_"+m+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+m+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+m+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return a.Ln=function(i){return!(!i||!i.localStorage)},a.prototype.start=function(){return N.__awaiter(this,void 0,void 0,function(){var i,s,c,f,p,m,y,b,A,R,L=this;return N.__generator(this,function(G){switch(G.label){case 0:return[4,this.fi.pi()];case 1:for(i=G.sent(),s=0,c=i;s<c.length;s++)(f=c[s])!==this._i&&(p=this.getItem(Da(this.persistenceKey,f)))&&(m=rs.ci(f,p))&&(this.Ti=this.Ti.ot(m.clientId,m));for(this.bi(),(y=this.storage.getItem(this.Vi))&&(b=this.vi(y))&&this.Si(b),A=0,R=this.Ii;A<R.length;A++)this.mi(R[A]);return this.Ii=[],this.window.addEventListener("unload",function(){return L.Di()}),this.Ei=!0,[2]}})})},a.prototype.oi=function(i){this.setItem(this.Ri,JSON.stringify(i))},a.prototype.Ci=function(){return this.Ni(this.Ti)},a.prototype.Fi=function(i){var s=!1;return this.Ti.forEach(function(c,f){f.activeTargetIds.has(i)&&(s=!0)}),s},a.prototype.xi=function(i){this.$i(i,"pending")},a.prototype.ki=function(i,s,c){this.$i(i,s,c),this.Mi(i)},a.prototype.Oi=function(i){var s="not-current";if(this.Fi(i)){var c=this.storage.getItem(uh(this.persistenceKey,i));if(c){var f=ch.ci(i,c);f&&(s=f.state)}}return this.Li.hi(i),this.bi(),s},a.prototype.Bi=function(i){this.Li.li(i),this.bi()},a.prototype.qi=function(i){return this.Li.activeTargetIds.has(i)},a.prototype.Ui=function(i){this.removeItem(uh(this.persistenceKey,i))},a.prototype.Qi=function(i,s,c){this.Wi(i,s,c)},a.prototype.ji=function(i,s,c){var f=this;s.forEach(function(p){f.Mi(p)}),this.currentUser=i,c.forEach(function(p){f.xi(p)})},a.prototype.Ki=function(i){this.Gi(i)},a.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},a.prototype.getItem=function(i){var s=this.storage.getItem(i);return W("SharedClientState","READ",i,s),s},a.prototype.setItem=function(i,s){W("SharedClientState","SET",i,s),this.storage.setItem(i,s)},a.prototype.removeItem=function(i){W("SharedClientState","REMOVE",i),this.storage.removeItem(i)},a.prototype.mi=function(i){var s=this,c=i;if(c.storageArea===this.storage){if(W("SharedClientState","EVENT",c.key,c.newValue),c.key===this.Ai)return void ye("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return N.__awaiter(s,void 0,void 0,function(){var f,p,m,y,b,A;return N.__generator(this,function(R){if(this.Ei){if(null!==c.key)if(this.gi.test(c.key)){if(null==c.newValue)return f=this.zi(c.key),[2,this.Hi(f,null)];if(p=this.Yi(c.key,c.newValue))return[2,this.Hi(p.clientId,p)]}else if(this.Pi.test(c.key)){if(null!==c.newValue&&(m=this.Ji(c.key,c.newValue)))return[2,this.Xi(m)]}else if(this.yi.test(c.key)){if(null!==c.newValue&&(y=this.Zi(c.key,c.newValue)))return[2,this.tr(y)]}else if(c.key===this.Vi){if(null!==c.newValue&&(b=this.vi(c.newValue)))return[2,this.Si(b)]}else c.key===this.Ri&&(A=function(k){var L=Ir.ai;if(null!=k)try{var G=JSON.parse(k);ge("number"==typeof G),L=G}catch(Z){ye("SharedClientState","Failed to read sequence number from WebStorage",Z)}return L}(c.newValue))!==Ir.ai&&this.si(A)}else this.Ii.push(c);return[2]})})})}},Object.defineProperty(a.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),a.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},a.prototype.$i=function(i,s,c){var f=new Bp(this.currentUser,i,s,c),p=lc(this.persistenceKey,this.currentUser,i);this.setItem(p,f.ui())},a.prototype.Mi=function(i){var s=lc(this.persistenceKey,this.currentUser,i);this.removeItem(s)},a.prototype.Gi=function(i){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:i}))},a.prototype.Wi=function(i,s,c){var f=uh(this.persistenceKey,i),p=new ch(i,s,c);this.setItem(f,p.ui())},a.prototype.zi=function(i){var s=this.gi.exec(i);return s?s[1]:null},a.prototype.Yi=function(i,s){var c=this.zi(i);return rs.ci(c,s)},a.prototype.Ji=function(i,s){var c=this.Pi.exec(i),f=Number(c[1]);return Bp.ci(new pr(void 0!==c[2]?c[2]:null),f,s)},a.prototype.Zi=function(i,s){var c=this.yi.exec(i),f=Number(c[1]);return ch.ci(f,s)},a.prototype.vi=function(i){return Hp.ci(i)},a.prototype.Xi=function(i){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(s){return i.user.uid===this.currentUser.uid?[2,this.fi.er(i.batchId,i.state,i.error)]:(W("SharedClientState","Ignoring mutation for non-active user "+i.user.uid),[2])})})},a.prototype.tr=function(i){return this.fi.nr(i.targetId,i.state,i.error)},a.prototype.Hi=function(i,s){var c=this,f=s?this.Ti.ot(i,s):this.Ti.remove(i),p=this.Ni(this.Ti),m=this.Ni(f),y=[],b=[];return m.forEach(function(A){p.has(A)||y.push(A)}),p.forEach(function(A){m.has(A)||b.push(A)}),this.fi.sr(y,b).then(function(){c.Ti=f})},a.prototype.Si=function(i){this.Ti.get(i.clientId)&&this.di(i.onlineState)},a.prototype.Ni=function(i){var s=Qo();return i.forEach(function(c,f){s=s.kt(f.activeTargetIds)}),s},a}(),Ml=function(){function a(){this.ir=new Ur,this.rr={},this.di=null,this.si=null}return a.prototype.xi=function(i){},a.prototype.ki=function(i,s,c){},a.prototype.Oi=function(i){return this.ir.hi(i),this.rr[i]||"not-current"},a.prototype.Qi=function(i,s,c){this.rr[i]=s},a.prototype.Bi=function(i){this.ir.li(i)},a.prototype.qi=function(i){return this.ir.activeTargetIds.has(i)},a.prototype.Ui=function(i){delete this.rr[i]},a.prototype.Ci=function(){return this.ir.activeTargetIds},a.prototype.Fi=function(i){return this.ir.activeTargetIds.has(i)},a.prototype.start=function(){return this.ir=new Ur,Promise.resolve()},a.prototype.ji=function(i,s,c){},a.prototype.Ki=function(i){},a.prototype.Di=function(){},a.prototype.oi=function(i){},a}(),xl=function(){function a(i,s,c,f){this.batchId=i,this.ar=s,this.baseMutations=c,this.mutations=f}return a.prototype.cr=function(i,s,c){for(var f=c.ur,p=0;p<this.mutations.length;p++){var m=this.mutations[p];m.key.isEqual(i)&&(s=ah(m,s,f[p]))}return s},a.prototype.hr=function(i,s){for(var c=0,f=this.baseMutations;c<f.length;c++){var p=f[c];p.key.isEqual(i)&&(s=Ut(p,s,s,this.ar))}for(var m=s,y=0,b=this.mutations;y<b.length;y++){var A=b[y];A.key.isEqual(i)&&(s=Ut(A,s,m,this.ar))}return s},a.prototype.lr=function(i){var s=this,c=i;return this.mutations.forEach(function(f){var p=s.hr(f.key,i.get(f.key));p&&(c=c.ot(f.key,p))}),c},a.prototype.keys=function(){return this.mutations.reduce(function(i,s){return i.add(s.key)},$t())},a.prototype.isEqual=function(i){return this.batchId===i.batchId&&ln(this.mutations,i.mutations,function(s,c){return Sl(s,c)})&&ln(this.baseMutations,i.baseMutations,function(s,c){return Sl(s,c)})},a}(),lh=function(){function a(i,s,c,f){this.batch=i,this._r=s,this.ur=c,this.dr=f}return a.from=function(i,s,c){ge(i.mutations.length===c.length);for(var f=ua,p=i.mutations,m=0;m<p.length;m++)f=f.ot(p[m].key,c[m].version);return new a(i,s,c,f)},a}(),Nl=function(){function a(){this.wr=new wo(function(i){return i.toString()},function(i,s){return i.isEqual(s)}),this.mr=!1}return Object.defineProperty(a.prototype,"readTime",{get:function(){return this.Tr},set:function(i){this.Tr=i},enumerable:!1,configurable:!0}),a.prototype.Er=function(i,s){this.Ir(),this.readTime=s,this.wr.set(i.key,i)},a.prototype.Ar=function(i,s){this.Ir(),s&&(this.readTime=s),this.wr.set(i,null)},a.prototype.Rr=function(i,s){this.Ir();var c=this.wr.get(s);return void 0!==c?he.resolve(c):this.gr(i,s)},a.prototype.getEntries=function(i,s){return this.Pr(i,s)},a.prototype.apply=function(i){return this.Ir(),this.mr=!0,this.yr(i)},a.prototype.Ir=function(){},a}(),fh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hc=function(){function a(){this.Vr=[]}return a.prototype.pr=function(i){this.Vr.push(i)},a.prototype.br=function(){this.Vr.forEach(function(i){return i()})},a}(),hh=function(){function a(i,s,c){this.vr=i,this.Sr=s,this.Dr=c}return a.prototype.Cr=function(i,s){var c=this;return this.Sr.Nr(i,s).next(function(f){return c.Fr(i,s,f)})},a.prototype.Fr=function(i,s,c){return this.vr.Rr(i,s).next(function(f){for(var p=0,m=c;p<m.length;p++)f=m[p].hr(s,f);return f})},a.prototype.$r=function(i,s,c){var f=Wo();return s.forEach(function(p,m){for(var y=0,b=c;y<b.length;y++)m=b[y].hr(p,m);f=f.ot(p,m)}),f},a.prototype.kr=function(i,s){var c=this;return this.vr.getEntries(i,s).next(function(f){return c.Mr(i,f)})},a.prototype.Mr=function(i,s){var c=this;return this.Sr.Or(i,s).next(function(f){var p=c.$r(i,s,f),m=Oi();return p.forEach(function(y,b){b||(b=new Lt(y,$e.min())),m=m.ot(y,b)}),m})},a.prototype.Lr=function(i,s,c){return I.F((f=s).path)&&null===f.collectionGroup&&0===f.filters.length?this.Br(i,s.path):Cr(s)?this.qr(i,s,c):this.Ur(i,s,c);var f},a.prototype.Br=function(i,s){return this.Cr(i,new I(s)).next(function(c){var f=Zi();return c instanceof Ot&&(f=f.ot(c.key,c)),f})},a.prototype.qr=function(i,s,c){var f=this,p=s.collectionGroup,m=Zi();return this.Dr.Qr(i,p).next(function(y){return he.forEach(y,function(b){var R,k,A=(R=s,k=b.child(p),new Ei(k,null,R.on.slice(),R.filters.slice(),R.limit,R.an,R.startAt,R.endAt));return f.Ur(i,A,c).next(function(R){R.forEach(function(k,L){m=m.ot(k,L)})})}).next(function(){return m})})},a.prototype.Ur=function(i,s,c){var f,p,m=this;return this.vr.Lr(i,s,c).next(function(y){return f=y,m.Sr.Wr(i,s)}).next(function(y){return m.jr(i,p=y,f).next(function(b){f=b;for(var A=0,R=p;A<R.length;A++)for(var k=R[A],L=0,G=k.mutations;L<G.length;L++){var Z=G[L],re=Z.key,Ae=f.get(re),De=Ut(Z,Ae,Ae,k.ar);f=De instanceof Ot?f.ot(re,De):f.remove(re)}})}).next(function(){return f.forEach(function(y,b){Ye(s,b)||(f=f.remove(y))}),f})},a.prototype.jr=function(i,s,c){for(var f=$t(),p=0,m=s;p<m.length;p++)for(var y=0,b=m[p].mutations;y<b.length;y++){var A=b[y];A instanceof Dr&&null===c.get(A.key)&&(f=f.add(A.key))}var R=c;return this.vr.getEntries(i,f).next(function(k){return k.forEach(function(L,G){null!==G&&G instanceof Ot&&(R=R.ot(L,G))}),R})},a}(),Ci=function(){function a(i,s,c,f){this.targetId=i,this.fromCache=s,this.Kr=c,this.Gr=f}return a.zr=function(i,s){for(var c=$t(),f=$t(),p=0,m=s.docChanges;p<m.length;p++){var y=m[p];switch(y.type){case 0:c=c.add(y.doc.key);break;case 1:f=f.add(y.doc.key)}}return new a(i,s.fromCache,c,f)},a}();function dc(a,i){var c=a[1],p=i[1],m=xe(a[0],i[0]);return 0===m?xe(c,p):m}var Gp=function(){function a(i){this.Hr=i,this.buffer=new hn(dc),this.Yr=0}return a.prototype.Jr=function(){return++this.Yr},a.prototype.Xr=function(i){var s=[i,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(s);else{var c=this.buffer.last();dc(s,c)<0&&(this.buffer=this.buffer.delete(c).add(s))}},Object.defineProperty(a.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),a}(),pc={Zr:!1,eo:0,no:0,so:0},Tn=function(){function a(i,s,c){this.io=i,this.ro=s,this.oo=c}return a.ao=function(i){return new a(i,a.co,a.uo)},a}();Tn.ho=-1,Tn.lo=1048576,Tn._o=41943040,Tn.co=10,Tn.uo=1e3,Tn.fo=new Tn(Tn._o,Tn.co,Tn.uo),Tn.do=new Tn(Tn.ho,0,0);var $p=function(){function a(i,s){this.wo=i,this.cs=s,this.mo=!1,this.To=null}return a.prototype.start=function(i){this.wo.params.io!==Tn.ho&&this.Eo(i)},a.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(a.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),a.prototype.Eo=function(i){var s=this,c=this.mo?3e5:6e4;W("LruGarbageCollector","Garbage collection scheduled in "+c+"ms"),this.To=this.cs.yn("lru_garbage_collection",c,function(){return N.__awaiter(s,void 0,void 0,function(){var f;return N.__generator(this,function(p){switch(p.label){case 0:this.To=null,this.mo=!0,p.label=1;case 1:return p.trys.push([1,3,,7]),[4,i.Io(this.wo)];case 2:return p.sent(),[3,7];case 3:return ni(f=p.sent())?(W("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",f),[3,6]):[3,4];case 4:return[4,Us(f)];case 5:p.sent(),p.label=6;case 6:return[3,7];case 7:return[4,this.Eo(i)];case 8:return p.sent(),[2]}})})})},a}(),Rl=function(){function a(i,s){this.Ao=i,this.params=s}return a.prototype.Ro=function(i,s){return this.Ao.Po(i).next(function(c){return Math.floor(s/100*c)})},a.prototype.yo=function(i,s){var c=this;if(0===s)return he.resolve(Ir.ai);var f=new Gp(s);return this.Ao.Ce(i,function(p){return f.Xr(p.sequenceNumber)}).next(function(){return c.Ao.Vo(i,function(p){return f.Xr(p)})}).next(function(){return f.maxValue})},a.prototype.po=function(i,s,c){return this.Ao.po(i,s,c)},a.prototype.bo=function(i,s){return this.Ao.bo(i,s)},a.prototype.vo=function(i,s){var c=this;return this.params.io===Tn.ho?(W("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(pc)):this.So(i).next(function(f){return f<c.params.io?(W("LruGarbageCollector","Garbage collection skipped; Cache size "+f+" is lower than threshold "+c.params.io),pc):c.Do(i,s)})},a.prototype.So=function(i){return this.Ao.So(i)},a.prototype.Do=function(i,s){var c,f,p,m,y,b,A,R=this,k=Date.now();return this.Ro(i,this.params.ro).next(function(L){return L>R.params.oo?(W("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+R.params.oo+" from "+L),f=R.params.oo):f=L,m=Date.now(),R.yo(i,f)}).next(function(L){return c=L,y=Date.now(),R.po(i,c,s)}).next(function(L){return p=L,b=Date.now(),R.bo(i,c)}).next(function(L){return A=Date.now(),me()<=Ue.LogLevel.DEBUG&&W("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(m-k)+"ms\n\tDetermined least recently used "+f+" in "+(y-m)+"ms\n\tRemoved "+p+" targets in "+(b-y)+"ms\n\tRemoved "+L+" documents in "+(A-b)+"ms\nTotal Duration: "+(A-k)+"ms"),he.resolve({Zr:!0,eo:f,no:p,so:L})})},a}();function Bi(a){for(var i="",s=0;s<a.length;s++)i.length>0&&(i=qp(i)),i=Ol(a.get(s),i);return qp(i)}function Ol(a,i){for(var s=i,c=a.length,f=0;f<c;f++){var p=a.charAt(f);switch(p){case"\0":s+="\x01\x10";break;case"\x01":s+="\x01\x11";break;default:s+=p}}return s}function qp(a){return a+"\x01\x01"}function jt(a){var i=a.length;if(ge(i>=2),2===i)return ge("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),Ge.P();for(var s=i-2,c=[],f="",p=0;p<i;){var m=a.indexOf("\x01",p);switch((m<0||m>s)&&ae(),a.charAt(m+1)){case"\x01":var y=a.substring(p,m),b=void 0;0===f.length?b=y:(b=f+=y,f=""),c.push(b);break;case"\x10":f+=a.substring(p,m),f+="\0";break;case"\x11":f+=a.substring(p,m+1);break;default:ae()}p=m+2}return new Ge(c)}var dh=function(a){this.Co=a};function Pl(a,i){if(i.document)return b=!!i.hasCommittedMutations,A=_n(a.Co,(y=i.document).name),R=tn(y.updateTime),k=new wn({mapValue:{fields:y.fields}}),new Ot(A,R,k,{hasCommittedMutations:!!b});var y,b,A,R,k;if(i.noDocument){var s=I.$(i.noDocument.path),c=Ar(i.noDocument.readTime);return new Lt(s,c,{hasCommittedMutations:!!i.hasCommittedMutations})}if(i.unknownDocument){var f=I.$(i.unknownDocument.path),p=Ar(i.unknownDocument.version);return new wa(f,p)}return ae()}function Cn(a,i,s){var L,G,c=Fl(s),f=i.key.path.h().A();if(i instanceof Ot){var p={name:Do(L=a.Co,(G=i).key),fields:G.rn().mapValue.fields,updateTime:pa(L,G.version.Z())};return new an(null,null,p,i.hasCommittedMutations,c,f)}if(i instanceof Lt){var y=i.key.path.A(),b=ks(i.version),A=i.hasCommittedMutations;return new an(null,new fu(y,b),null,A,c,f)}if(i instanceof wa){var R=i.key.path.A(),k=ks(i.version);return new an(new ao(R,k),null,null,!0,c,f)}return ae()}function Fl(a){var i=a.Z();return[i.seconds,i.nanoseconds]}function zp(a){var i=new kt(a[0],a[1]);return $e.J(i)}function ks(a){var i=a.Z();return new ce(i.seconds,i.nanoseconds)}function Ar(a){var i=new kt(a.seconds,a.nanoseconds);return $e.J(i)}function Ca(a,i){var s=(i.baseMutations||[]).map(function(p){return Co(a.Co,p)}),c=i.mutations.map(function(p){return Co(a.Co,p)}),f=kt.fromMillis(i.localWriteTimeMs);return new xl(i.batchId,f,s,c)}function Ls(a){var i,s,c=Ar(a.readTime),f=void 0!==a.lastLimboFreeSnapshotVersion?Ar(a.lastLimboFreeSnapshotVersion):$e.min();return void 0!==a.query.documents?(ge(1===(s=a.query).documents.length),i=$n(bn(Il(s.documents[0])))):i=qt(a.query),new xt(i,a.targetId,0,a.lastListenSequenceNumber,c,f,dt.fromBase64String(a.resumeToken))}function Vs(a,i){var s,c=ks(i.nt),f=ks(i.lastLimboFreeSnapshotVersion);s=ut(i.target)?su(a.Co,i.target):fr(a.Co,i.target);var p=i.resumeToken.toBase64();return new si(i.targetId,q(i.target),c,p,i.sequenceNumber,f,s)}var ii=function(){function a(i,s,c,f){this.userId=i,this.serializer=s,this.Dr=c,this.No=f,this.Fo={}}return a.xo=function(i,s,c,f){return ge(""!==i.uid),new a(i.Zs()?i.uid:"",s,c,f)},a.prototype.$o=function(i){var s=!0,c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return is(i).rs({index:ct.userMutationsIndex,range:c},function(f,p,m){s=!1,m.done()}).next(function(){return s})},a.prototype.ko=function(i,s,c,f){var p=this,m=oi(i),y=is(i);return y.add({}).next(function(b){ge("number"==typeof b);for(var A=new xl(b,s,c,f),R=function(De,Ve,st){var _t=st.baseMutations.map(function(Pt){return Xo(De.Co,Pt)}),Bt=st.mutations.map(function(Pt){return Xo(De.Co,Pt)});return new ct(Ve,st.batchId,st.ar.toMillis(),_t,Bt)}(p.serializer,p.userId,A),k=[],L=new hn(function(De,Ve){return xe(De.R(),Ve.R())}),G=0,Z=f;G<Z.length;G++){var re=Z[G],Ae=rr.key(p.userId,re.key.path,b);L=L.add(re.key.path.h()),k.push(y.put(R)),k.push(m.put(Ae,rr.PLACEHOLDER))}return L.forEach(function(De){k.push(p.Dr.Mo(i,De))}),i.pr(function(){p.Fo[b]=A.keys()}),he.$n(k).next(function(){return A})})},a.prototype.Oo=function(i,s){var c=this;return is(i).get(s).next(function(f){return f?(ge(f.userId===c.userId),Ca(c.serializer,f)):null})},a.prototype.Lo=function(i,s){var c=this;return this.Fo[s]?he.resolve(this.Fo[s]):this.Oo(i,s).next(function(f){if(f){var p=f.keys();return c.Fo[s]=p,p}return null})},a.prototype.Bo=function(i,s){var c=this,f=s+1,p=IDBKeyRange.lowerBound([this.userId,f]),m=null;return is(i).rs({index:ct.userMutationsIndex,range:p},function(y,b,A){b.userId===c.userId&&(ge(b.batchId>=f),m=Ca(c.serializer,b)),A.done()}).next(function(){return m})},a.prototype.qo=function(i){var s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),c=-1;return is(i).rs({index:ct.userMutationsIndex,range:s,reverse:!0},function(f,p,m){c=p.batchId,m.done()}).next(function(){return c})},a.prototype.Uo=function(i){var s=this,c=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return is(i).ts(ct.userMutationsIndex,c).next(function(f){return f.map(function(p){return Ca(s.serializer,p)})})},a.prototype.Nr=function(i,s){var c=this,f=rr.prefixForPath(this.userId,s.path),p=IDBKeyRange.lowerBound(f),m=[];return oi(i).rs({range:p},function(y,b,A){var R=y[0],L=y[2],G=jt(y[1]);if(R===c.userId&&s.path.isEqual(G))return is(i).get(L).next(function(Z){if(!Z)throw ae();ge(Z.userId===c.userId),m.push(Ca(c.serializer,Z))});A.done()}).next(function(){return m})},a.prototype.Or=function(i,s){var c=this,f=new hn(xe),p=[];return s.forEach(function(m){var y=rr.prefixForPath(c.userId,m.path),b=IDBKeyRange.lowerBound(y),A=oi(i).rs({range:b},function(R,k,L){var G=R[0],re=R[2],Ae=jt(R[1]);G===c.userId&&m.path.isEqual(Ae)?f=f.add(re):L.done()});p.push(A)}),he.$n(p).next(function(){return c.Qo(i,f)})},a.prototype.Wr=function(i,s){var c=this,f=s.path,p=f.length+1,m=rr.prefixForPath(this.userId,f),y=IDBKeyRange.lowerBound(m),b=new hn(xe);return oi(i).rs({range:y},function(A,R,k){var L=A[0],Z=A[2],re=jt(A[1]);L===c.userId&&f.T(re)?re.length===p&&(b=b.add(Z)):k.done()}).next(function(){return c.Qo(i,b)})},a.prototype.Qo=function(i,s){var c=this,f=[],p=[];return s.forEach(function(m){p.push(is(i).get(m).next(function(y){if(null===y)throw ae();ge(y.userId===c.userId),f.push(Ca(c.serializer,y))}))}),he.$n(p).next(function(){return f})},a.prototype.Wo=function(i,s){var c=this;return gc(i.jo,this.userId,s).next(function(f){return i.pr(function(){c.Ko(s.batchId)}),he.forEach(f,function(p){return c.No.Go(i,p)})})},a.prototype.Ko=function(i){delete this.Fo[i]},a.prototype.zo=function(i){var s=this;return this.$o(i).next(function(c){if(!c)return he.resolve();var f=IDBKeyRange.lowerBound(rr.prefixForUser(s.userId)),p=[];return oi(i).rs({range:f},function(m,y,b){if(m[0]===s.userId){var A=jt(m[1]);p.push(A)}else b.done()}).next(function(){ge(0===p.length)})})},a.prototype.Ho=function(i,s){return kl(i,this.userId,s)},a.prototype.Yo=function(i){var s=this;return Ll(i).get(this.userId).next(function(c){return c||new Mn(s.userId,-1,"")})},a}();function kl(a,i,s){var c=rr.prefixForPath(i,s.path),f=c[1],p=IDBKeyRange.lowerBound(c),m=!1;return oi(a).rs({range:p,ss:!0},function(y,b,A){y[0]===i&&y[1]===f&&(m=!0),A.done()}).next(function(){return m})}function gc(a,i,s){var c=a.store(ct.store),f=a.store(rr.store),p=[],m=IDBKeyRange.only(s.batchId),y=0,b=c.rs({range:m},function(Z,re,Ae){return y++,Ae.delete()});p.push(b.next(function(){ge(1===y)}));for(var A=[],R=0,k=s.mutations;R<k.length;R++){var L=k[R],G=rr.key(i,L.key.path,s.batchId);p.push(f.delete(G)),A.push(L.key)}return he.$n(p).next(function(){return A})}function is(a){return jr.Qn(a,ct.store)}function oi(a){return jr.Qn(a,rr.store)}function Ll(a){return jr.Qn(a,Mn.store)}var Vl=function(){function a(i,s){this.serializer=i,this.Dr=s}return a.prototype.Er=function(i,s,c){return os(i).put(mc(s),c)},a.prototype.Ar=function(i,s){var c=os(i),f=mc(s);return c.delete(f)},a.prototype.updateMetadata=function(i,s){var c=this;return this.getMetadata(i).next(function(f){return f.byteSize+=s,c.Jo(i,f)})},a.prototype.Rr=function(i,s){var c=this;return os(i).get(mc(s)).next(function(f){return c.Xo(f)})},a.prototype.Zo=function(i,s){var c=this;return os(i).get(mc(s)).next(function(f){var p=c.Xo(f);return p?{ta:p,size:vc(f)}:null})},a.prototype.getEntries=function(i,s){var c=this,f=Wo();return this.ea(i,s,function(p,m){var y=c.Xo(m);f=f.ot(p,y)}).next(function(){return f})},a.prototype.na=function(i,s){var c=this,f=Wo(),p=new on(I.i);return this.ea(i,s,function(m,y){var b=c.Xo(y);b?(f=f.ot(m,b),p=p.ot(m,vc(y))):(f=f.ot(m,null),p=p.ot(m,0))}).next(function(){return{sa:f,ia:p}})},a.prototype.ea=function(i,s,c){if(s.m())return he.resolve();var f=IDBKeyRange.bound(s.first().path.A(),s.last().path.A()),p=s._t(),m=p.It();return os(i).rs({range:f},function(y,b,A){for(var R=I.$(y);m&&I.i(m,R)<0;)c(m,null),m=p.It();m&&m.isEqual(R)&&(c(m,b),m=p.At()?p.It():null),m?A.Xn(m.path.A()):A.done()}).next(function(){for(;m;)c(m,null),m=p.At()?p.It():null})},a.prototype.Lr=function(i,s,c){var f=this,p=Zi(),m=s.path.length+1,y={};if(c.isEqual($e.min())){var b=s.path.A();y.range=IDBKeyRange.lowerBound(b)}else{var A=s.path.A(),R=Fl(c);y.range=IDBKeyRange.lowerBound([A,R],!0),y.index=an.collectionReadTimeIndex}return os(i).rs(y,function(k,L,G){if(k.length===m){var Z=Pl(f.serializer,L);s.path.T(Z.key.path)?Z instanceof Ot&&Ye(s,Z)&&(p=p.ot(Z.key,Z)):G.done()}}).next(function(){return p})},a.prototype.ra=function(i){return new tt(this,!!i&&i.oa)},a.prototype.aa=function(i){return this.getMetadata(i).next(function(s){return s.byteSize})},a.prototype.getMetadata=function(i){return Wp(i).get(Ii.key).next(function(s){return ge(!!s),s})},a.prototype.Jo=function(i,s){return Wp(i).put(Ii.key,s)},a.prototype.Xo=function(i){if(i){var s=Pl(this.serializer,i);return s instanceof Lt&&s.version.isEqual($e.min())?null:s}return null},a}(),tt=function(a){function i(s,c){var f=this;return(f=a.call(this)||this).ca=s,f.oa=c,f.ua=new wo(function(p){return p.toString()},function(p,m){return p.isEqual(m)}),f}return N.__extends(i,a),i.prototype.yr=function(s){var c=this,f=[],p=0,m=new hn(function(y,b){return xe(y.R(),b.R())});return this.wr.forEach(function(y,b){var A=c.ua.get(y);if(b){var R=Cn(c.ca.serializer,b,c.readTime);m=m.add(y.path.h());var k=vc(R);p+=k-A,f.push(c.ca.Er(s,y,R))}else if(p-=A,c.oa){var L=Cn(c.ca.serializer,new Lt(y,$e.min()),c.readTime);f.push(c.ca.Er(s,y,L))}else f.push(c.ca.Ar(s,y))}),m.forEach(function(y){f.push(c.ca.Dr.Mo(s,y))}),f.push(this.ca.updateMetadata(s,p)),he.$n(f)},i.prototype.gr=function(s,c){var f=this;return this.ca.Zo(s,c).next(function(p){return null===p?(f.ua.set(c,0),null):(f.ua.set(c,p.size),p.ta)})},i.prototype.Pr=function(s,c){var f=this;return this.ca.na(s,c).next(function(p){var m=p.sa;return p.ia.forEach(function(y,b){f.ua.set(y,b)}),m})},i}(Nl);function Wp(a){return jr.Qn(a,Ii.store)}function os(a){return jr.Qn(a,an.store)}function mc(a){return a.path.A()}function vc(a){var i;if(a.document)i=a.document;else if(a.unknownDocument)i=a.unknownDocument;else{if(!a.noDocument)throw ae();i=a.noDocument}return JSON.stringify(i).length}var ph=function(){function a(){this.ha=new Ul}return a.prototype.Mo=function(i,s){return this.ha.add(s),he.resolve()},a.prototype.Qr=function(i,s){return he.resolve(this.ha.getEntries(s))},a}(),Ul=function(){function a(){this.index={}}return a.prototype.add=function(i){var s=i._(),c=i.h(),f=this.index[s]||new hn(Ge.i),p=!f.has(c);return this.index[s]=f.add(c),p},a.prototype.has=function(i){var s=i._(),c=i.h(),f=this.index[s];return f&&f.has(c)},a.prototype.getEntries=function(i){return(this.index[i]||new hn(Ge.i)).A()},a}(),Qp=function(){function a(i){this.serializer=i}return a.prototype.createOrUpgrade=function(i,s,c,f){var p=this;ge(c<f&&c>=0&&f<=10);var b,m=new ns("createOrUpgrade",s);c<1&&f>=1&&(i.createObjectStore(nt.store),(b=i).createObjectStore(Mn.store,{keyPath:Mn.keyPath}),b.createObjectStore(ct.store,{keyPath:ct.keyPath,autoIncrement:!0}).createIndex(ct.userMutationsIndex,ct.userMutationsKeyPath,{unique:!0}),b.createObjectStore(rr.store),mr(i),function(b){b.createObjectStore(an.store)}(i));var y=he.resolve();return c<3&&f>=3&&(0!==c&&(function(b){b.deleteObjectStore(ir.store),b.deleteObjectStore(si.store),b.deleteObjectStore(gr.store)}(i),mr(i)),y=y.next(function(){return function(b){var A=b.store(gr.store),R=new gr(0,0,$e.min().Z(),0);return A.put(gr.key,R)}(m)})),c<4&&f>=4&&(0!==c&&(y=y.next(function(){return function(b,A){return A.store(ct.store).ts().next(function(R){b.deleteObjectStore(ct.store),b.createObjectStore(ct.store,{keyPath:ct.keyPath,autoIncrement:!0}).createIndex(ct.userMutationsIndex,ct.userMutationsKeyPath,{unique:!0});var k=A.store(ct.store),L=R.map(function(G){return k.put(G)});return he.$n(L)})}(i,m)})),y=y.next(function(){!function(b){b.createObjectStore(or.store,{keyPath:or.keyPath})}(i)})),c<5&&f>=5&&(y=y.next(function(){return p.removeAcknowledgedMutations(m)})),c<6&&f>=6&&(y=y.next(function(){return function(b){b.createObjectStore(Ii.store)}(i),p.addDocumentGlobal(m)})),c<7&&f>=7&&(y=y.next(function(){return p.ensureSequenceNumbers(m)})),c<8&&f>=8&&(y=y.next(function(){return p.createCollectionParentIndex(i,m)})),c<9&&f>=9&&(y=y.next(function(){(function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")})(i),function(b){var A=b.objectStore(an.store);A.createIndex(an.readTimeIndex,an.readTimeIndexPath,{unique:!1}),A.createIndex(an.collectionReadTimeIndex,an.collectionReadTimeIndexPath,{unique:!1})}(s)})),c<10&&f>=10&&(y=y.next(function(){return p.rewriteCanonicalIds(m)})),y},a.prototype.addDocumentGlobal=function(i){var s=0;return i.store(an.store).rs(function(c,f){s+=vc(f)}).next(function(){var c=new Ii(s);return i.store(Ii.store).put(Ii.key,c)})},a.prototype.removeAcknowledgedMutations=function(i){var s=this,c=i.store(Mn.store),f=i.store(ct.store);return c.ts().next(function(p){return he.forEach(p,function(m){var y=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return f.ts(ct.userMutationsIndex,y).next(function(b){return he.forEach(b,function(A){ge(A.userId===m.userId);var R=Ca(s.serializer,A);return gc(i,m.userId,R).next(function(){})})})})})},a.prototype.ensureSequenceNumbers=function(i){var s=i.store(ir.store),c=i.store(an.store);return i.store(gr.store).get(gr.key).next(function(f){var p=[];return c.rs(function(m,y){var b=new Ge(m),A=[0,Bi(b)];p.push(s.get(A).next(function(R){return R?he.resolve():s.put(new ir(0,Bi(b),f.highestListenSequenceNumber))}))}).next(function(){return he.$n(p)})})},a.prototype.createCollectionParentIndex=function(i,s){i.createObjectStore(uo.store,{keyPath:uo.keyPath});var c=s.store(uo.store),f=new Ul,p=function(m){if(f.add(m)){var y=m._(),b=m.h();return c.put({collectionId:y,parent:Bi(b)})}};return s.store(an.store).rs({ss:!0},function(m,y){var b=new Ge(m);return p(b.h())}).next(function(){return s.store(rr.store).rs({ss:!0},function(m,y){var A=jt(m[1]);return p(A.h())})})},a.prototype.rewriteCanonicalIds=function(i){var s=this,c=i.store(si.store);return c.rs(function(f,p){var m=Ls(p),y=Vs(s.serializer,m);return c.put(y)})},a}(),ce=function(a,i){this.seconds=a,this.nanoseconds=i},nt=function(a,i,s){this.ownerId=a,this.allowTabSynchronization=i,this.leaseTimestampMs=s};nt.store="owner",nt.key="owner";var Mn=function(a,i,s){this.userId=a,this.lastAcknowledgedBatchId=i,this.lastStreamToken=s};Mn.store="mutationQueues",Mn.keyPath="userId";var ct=function(a,i,s,c,f){this.userId=a,this.batchId=i,this.localWriteTimeMs=s,this.baseMutations=c,this.mutations=f};ct.store="mutations",ct.keyPath="batchId",ct.userMutationsIndex="userMutationsIndex",ct.userMutationsKeyPath=["userId","batchId"];var rr=function(){function a(){}return a.prefixForUser=function(i){return[i]},a.prefixForPath=function(i,s){return[i,Bi(s)]},a.key=function(i,s,c){return[i,Bi(s),c]},a}();rr.store="documentMutations",rr.PLACEHOLDER=new rr;var fu=function(a,i){this.path=a,this.readTime=i},ao=function(a,i){this.path=a,this.version=i},an=function(a,i,s,c,f,p){this.unknownDocument=a,this.noDocument=i,this.document=s,this.hasCommittedMutations=c,this.readTime=f,this.parentPath=p};an.store="remoteDocuments",an.readTimeIndex="readTimeIndex",an.readTimeIndexPath="readTime",an.collectionReadTimeIndex="collectionReadTimeIndex",an.collectionReadTimeIndexPath=["parentPath","readTime"];var Ii=function(a){this.byteSize=a};Ii.store="remoteDocumentGlobal",Ii.key="remoteDocumentGlobalKey";var si=function(a,i,s,c,f,p,m){this.targetId=a,this.canonicalId=i,this.readTime=s,this.resumeToken=c,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=p,this.query=m};si.store="targets",si.keyPath="targetId",si.queryTargetsIndexName="queryTargetsIndex",si.queryTargetsKeyPath=["canonicalId","targetId"];var ir=function(a,i,s){this.targetId=a,this.path=i,this.sequenceNumber=s};ir.store="targetDocuments",ir.keyPath=["targetId","path"],ir.documentTargetsIndex="documentTargetsIndex",ir.documentTargetsKeyPath=["path","targetId"];var gr=function(a,i,s,c){this.highestTargetId=a,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=s,this.targetCount=c};gr.key="targetGlobalKey",gr.store="targetGlobal";var uo=function(a,i){this.collectionId=a,this.parent=i};function mr(a){a.createObjectStore(ir.store,{keyPath:ir.keyPath}).createIndex(ir.documentTargetsIndex,ir.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(si.store,{keyPath:si.keyPath}).createIndex(si.queryTargetsIndexName,si.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(gr.store)}uo.store="collectionParents",uo.keyPath=["collectionId","parent"];var or=function(a,i,s,c){this.clientId=a,this.updateTimeMs=i,this.networkEnabled=s,this.inForeground=c};or.store="clientMetadata",or.keyPath="clientId";var gh=N.__spreadArrays(N.__spreadArrays(N.__spreadArrays([Mn.store,ct.store,rr.store,an.store,si.store,nt.store,gr.store,ir.store],[or.store]),[Ii.store]),[uo.store]),Ia=function(){function a(){this.la=new Ul}return a.prototype.Mo=function(i,s){var c=this;if(!this.la.has(s)){var f=s._(),p=s.h();i.pr(function(){c.la.add(s)});var m={collectionId:f,parent:Bi(p)};return co(i).put(m)}return he.resolve()},a.prototype.Qr=function(i,s){var c=[],f=IDBKeyRange.bound([s,""],[Qt(s),""],!1,!0);return co(i).ts(f).next(function(p){for(var m=0,y=p;m<y.length;m++){var b=y[m];if(b.collectionId!==s)break;c.push(jt(b.parent))}return c})},a}();function co(a){return jr.Qn(a,uo.store)}var yc=function(){function a(i){this._a=i}return a.prototype.next=function(){return this._a+=2,this._a},a.fa=function(){return new a(0)},a.da=function(){return new a(-1)},a}(),mh=function(){function a(i,s){this.No=i,this.serializer=s}return a.prototype.wa=function(i){var s=this;return this.ma(i).next(function(c){var f=new yc(c.highestTargetId);return c.highestTargetId=f.next(),s.Ta(i,c).next(function(){return c.highestTargetId})})},a.prototype.Ea=function(i){return this.ma(i).next(function(s){return $e.J(new kt(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds))})},a.prototype.Ia=function(i){return this.ma(i).next(function(s){return s.highestListenSequenceNumber})},a.prototype.Aa=function(i,s,c){var f=this;return this.ma(i).next(function(p){return p.highestListenSequenceNumber=s,c&&(p.lastRemoteSnapshotVersion=c.Z()),s>p.highestListenSequenceNumber&&(p.highestListenSequenceNumber=s),f.Ta(i,p)})},a.prototype.Ra=function(i,s){var c=this;return this.ga(i,s).next(function(){return c.ma(i).next(function(f){return f.targetCount+=1,c.Pa(s,f),c.Ta(i,f)})})},a.prototype.ya=function(i,s){return this.ga(i,s)},a.prototype.Va=function(i,s){var c=this;return this.pa(i,s.targetId).next(function(){return Aa(i).delete(s.targetId)}).next(function(){return c.ma(i)}).next(function(f){return ge(f.targetCount>0),f.targetCount-=1,c.Ta(i,f)})},a.prototype.po=function(i,s,c){var f=this,p=0,m=[];return Aa(i).rs(function(y,b){var A=Ls(b);A.sequenceNumber<=s&&null===c.get(A.targetId)&&(p++,m.push(f.Va(i,A)))}).next(function(){return he.$n(m)}).next(function(){return p})},a.prototype.Ce=function(i,s){return Aa(i).rs(function(c,f){var p=Ls(f);s(p)})},a.prototype.ma=function(i){return vh(i).get(gr.key).next(function(s){return ge(null!==s),s})},a.prototype.Ta=function(i,s){return vh(i).put(gr.key,s)},a.prototype.ga=function(i,s){return Aa(i).put(Vs(this.serializer,s))},a.prototype.Pa=function(i,s){var c=!1;return i.targetId>s.highestTargetId&&(s.highestTargetId=i.targetId,c=!0),i.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=i.sequenceNumber,c=!0),c},a.prototype.ba=function(i){return this.ma(i).next(function(s){return s.targetCount})},a.prototype.va=function(i,s){var c=q(s),f=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]),p=null;return Aa(i).rs({range:f,index:si.queryTargetsIndexName},function(m,y,b){var A=Ls(y);Ne(s,A.target)&&(p=A,b.done())}).next(function(){return p})},a.prototype.Sa=function(i,s,c){var f=this,p=[],m=lo(i);return s.forEach(function(y){var b=Bi(y.path);p.push(m.put(new ir(c,b))),p.push(f.No.Da(i,c,y))}),he.$n(p)},a.prototype.Ca=function(i,s,c){var f=this,p=lo(i);return he.forEach(s,function(m){var y=Bi(m.path);return he.$n([p.delete([c,y]),f.No.Na(i,c,m)])})},a.prototype.pa=function(i,s){var c=lo(i),f=IDBKeyRange.bound([s],[s+1],!1,!0);return c.delete(f)},a.prototype.Fa=function(i,s){var c=IDBKeyRange.bound([s],[s+1],!1,!0),f=lo(i),p=$t();return f.rs({range:c,ss:!0},function(m,y,b){var A=jt(m[1]),R=new I(A);p=p.add(R)}).next(function(){return p})},a.prototype.Ho=function(i,s){var c=Bi(s.path),f=IDBKeyRange.bound([c],[Qt(c)],!1,!0),p=0;return lo(i).rs({index:ir.documentTargetsIndex,ss:!0,range:f},function(m,y,b){0!==m[0]&&(p++,b.done())}).next(function(){return p>0})},a.prototype.Ue=function(i,s){return Aa(i).get(s).next(function(c){return c?Ls(c):null})},a}();function Aa(a){return jr.Qn(a,si.store)}function vh(a){return jr.Qn(a,gr.store)}function lo(a){return jr.Qn(a,ir.store)}var hu="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_c=function(a){function i(s,c){var f=this;return(f=a.call(this)||this).jo=s,f.xa=c,f}return N.__extends(i,a),i}(hc),jr=function(){function a(i,s,c,f,p,m,y,b,A,R){if(this.allowTabSynchronization=i,this.persistenceKey=s,this.clientId=c,this.fn=p,this.window=m,this.document=y,this.$a=A,this.ka=R,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(k){return Promise.resolve()},!a.Ln())throw new H(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new wc(this,f),this.Wa=s+"main",this.serializer=new dh(b),this.ja=new mn(this.Wa,10,new Qp(this.serializer)),this.Ka=new mh(this.No,this.serializer),this.Dr=new Ia,this.vr=new Vl(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===R&&ye("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return a.Qn=function(i,s){if(i instanceof _c)return mn.Qn(i.jo,s);throw ae()},a.prototype.start=function(){var i=this;return this.za().then(function(){if(!i.isPrimary&&!i.allowTabSynchronization)throw new H(U.FAILED_PRECONDITION,hu);return i.Ha(),i.Ya(),i.Ja(),i.runTransaction("getHighestListenSequenceNumber","readonly",function(s){return i.Ka.Ia(s)})}).then(function(s){i.Ma=new Ir(s,i.$a)}).then(function(){i.Oa=!0}).catch(function(s){return i.ja&&i.ja.close(),Promise.reject(s)})},a.prototype.Xa=function(i){var s=this;return this.Qa=function(c){return N.__awaiter(s,void 0,void 0,function(){return N.__generator(this,function(f){return this.Ei?[2,i(c)]:[2]})})},i(this.isPrimary)},a.prototype.Za=function(i){var s=this;this.ja.Kn(function(c){return N.__awaiter(s,void 0,void 0,function(){return N.__generator(this,function(f){switch(f.label){case 0:return null===c.newVersion?[4,i()]:[3,2];case 1:f.sent(),f.label=2;case 2:return[2]}})})})},a.prototype.tc=function(i){var s=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.fn.ws(function(){return N.__awaiter(s,void 0,void 0,function(){return N.__generator(this,function(c){switch(c.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})}))},a.prototype.za=function(){var i=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(s){return pu(s).put(new or(i.clientId,Date.now(),i.networkEnabled,i.inForeground)).next(function(){if(i.isPrimary)return i.ec(s).next(function(c){c||(i.isPrimary=!1,i.fn.Cs(function(){return i.Qa(!1)}))})}).next(function(){return i.nc(s)}).next(function(c){return i.isPrimary&&!c?i.sc(s).next(function(){return!1}):!!c&&i.ic(s).next(function(){return!0})})}).catch(function(s){if(ni(s))return W("IndexedDbPersistence","Failed to extend owner lease: ",s),i.isPrimary;if(!i.allowTabSynchronization)throw s;return W("IndexedDbPersistence","Releasing owner lease after error during lease refresh",s),!1}).then(function(s){i.isPrimary!==s&&i.fn.Cs(function(){return i.Qa(s)}),i.isPrimary=s})},a.prototype.ec=function(i){var s=this;return du(i).get(nt.key).next(function(c){return he.resolve(s.rc(c))})},a.prototype.oc=function(i){return pu(i).delete(this.clientId)},a.prototype.ac=function(){return N.__awaiter(this,void 0,void 0,function(){var i,s,c,p=this;return N.__generator(this,function(m){switch(m.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(y){var b=a.Qn(y,or.store);return b.ts().next(function(A){var R=p.uc(A,18e5),k=A.filter(function(L){return-1===R.indexOf(L)});return he.forEach(k,function(L){return b.delete(L.clientId)}).next(function(){return k})})}).catch(function(){return[]})]);case 1:if(i=m.sent(),this.Ga)for(s=0,c=i;s<c.length;s++)this.Ga.removeItem(this.hc(c[s].clientId));m.label=2;case 2:return[2]}})})},a.prototype.Ja=function(){var i=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return i.za().then(function(){return i.ac()}).then(function(){return i.Ja()})})},a.prototype.rc=function(i){return!!i&&i.ownerId===this.clientId},a.prototype.nc=function(i){var s=this;return this.ka?he.resolve(!0):du(i).get(nt.key).next(function(c){if(null!==c&&s.cc(c.leaseTimestampMs,5e3)&&!s.lc(c.ownerId)){if(s.rc(c)&&s.networkEnabled)return!0;if(!s.rc(c)){if(!c.allowTabSynchronization)throw new H(U.FAILED_PRECONDITION,hu);return!1}}return!(!s.networkEnabled||!s.inForeground)||pu(i).ts().next(function(f){return void 0===s.uc(f,5e3).find(function(p){return!(s.clientId===p.clientId||!(!s.networkEnabled&&p.networkEnabled||!s.inForeground&&p.inForeground&&s.networkEnabled===p.networkEnabled))})})}).next(function(c){return s.isPrimary!==c&&W("IndexedDbPersistence","Client "+(c?"is":"is not")+" eligible for a primary lease."),c})},a.prototype.Di=function(){return N.__awaiter(this,void 0,void 0,function(){var i=this;return N.__generator(this,function(s){switch(s.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[nt.store,or.store],function(c){var f=new _c(c,Ir.ai);return i.sc(f).next(function(){return i.oc(f)})})];case 1:return s.sent(),this.ja.close(),this.wc(),[2]}})})},a.prototype.uc=function(i,s){var c=this;return i.filter(function(f){return c.cc(f.updateTimeMs,s)&&!c.lc(f.clientId)})},a.prototype.pi=function(){var i=this;return this.runTransaction("getActiveClients","readonly",function(s){return pu(s).ts().next(function(c){return i.uc(c,18e5).map(function(f){return f.clientId})})})},Object.defineProperty(a.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),a.prototype.mc=function(i){return ii.xo(i,this.serializer,this.Dr,this.No)},a.prototype.Tc=function(){return this.Ka},a.prototype.Ec=function(){return this.vr},a.prototype.Ic=function(){return this.Dr},a.prototype.runTransaction=function(i,s,c){var p,f=this;return W("IndexedDbPersistence","Starting transaction:",i),this.ja.runTransaction(i,"readonly"===s?"readonly":"readwrite",gh,function(y){return p=new _c(y,f.Ma?f.Ma.next():Ir.ai),"readwrite-primary"===s?f.ec(p).next(function(b){return!!b||f.nc(p)}).next(function(b){if(!b)throw ye("Failed to obtain primary lease for action '"+i+"'."),f.isPrimary=!1,f.fn.Cs(function(){return f.Qa(!1)}),new H(U.FAILED_PRECONDITION,fh);return c(p)}).next(function(b){return f.ic(p).next(function(){return b})}):f.Ac(p).next(function(){return c(p)})}).then(function(y){return p.br(),y})},a.prototype.Ac=function(i){var s=this;return du(i).get(nt.key).next(function(c){if(null!==c&&s.cc(c.leaseTimestampMs,5e3)&&!s.lc(c.ownerId)&&!s.rc(c)&&!(s.ka||s.allowTabSynchronization&&c.allowTabSynchronization))throw new H(U.FAILED_PRECONDITION,hu)})},a.prototype.ic=function(i){var s=new nt(this.clientId,this.allowTabSynchronization,Date.now());return du(i).put(nt.key,s)},a.Ln=function(){return mn.Ln()},a.prototype.sc=function(i){var s=this,c=du(i);return c.get(nt.key).next(function(f){return s.rc(f)?(W("IndexedDbPersistence","Releasing primary lease."),c.delete(nt.key)):he.resolve()})},a.prototype.cc=function(i,s){var c=Date.now();return!(i<c-s||i>c&&(ye("Detected an update time that is in the future: "+i+" > "+c),1))},a.prototype.Ha=function(){var i=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){i.fn.ws(function(){return i.inForeground="visible"===i.document.visibilityState,i.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},a.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},a.prototype.Ya=function(){var i,s=this;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.La=function(){s._c(),s.fn.ws(function(){return s.Di()})},this.window.addEventListener("unload",this.La))},a.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},a.prototype.lc=function(i){var s;try{var c=null!==(null===(s=this.Ga)||void 0===s?void 0:s.getItem(this.hc(i)));return W("IndexedDbPersistence","Client '"+i+"' "+(c?"is":"is not")+" zombied in LocalStorage"),c}catch(f){return ye("IndexedDbPersistence","Failed to get zombied client id.",f),!1}},a.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(i){ye("Failed to set zombie client id.",i)}},a.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(i){}},a.prototype.hc=function(i){return"firestore_zombie_"+this.persistenceKey+"_"+i},a}();function du(a){return jr.Qn(a,nt.store)}function pu(a){return jr.Qn(a,or.store)}var wc=function(){function a(i,s){this.db=i,this.wo=new Rl(this,s)}return a.prototype.Po=function(i){var s=this.Rc(i);return this.db.Tc().ba(i).next(function(c){return s.next(function(f){return c+f})})},a.prototype.Rc=function(i){var s=0;return this.Vo(i,function(c){s++}).next(function(){return s})},a.prototype.Ce=function(i,s){return this.db.Tc().Ce(i,s)},a.prototype.Vo=function(i,s){return this.gc(i,function(c,f){return s(f)})},a.prototype.Da=function(i,s,c){return gu(i,c)},a.prototype.Na=function(i,s,c){return gu(i,c)},a.prototype.po=function(i,s,c){return this.db.Tc().po(i,s,c)},a.prototype.Go=function(i,s){return gu(i,s)},a.prototype.Pc=function(i,s){return f=s,p=!1,Ll(c=i).os(function(m){return kl(c,m,f).next(function(y){return y&&(p=!0),he.resolve(!y)})}).next(function(){return p});var c,f,p},a.prototype.bo=function(i,s){var c=this,f=this.db.Ec().ra(),p=[],m=0;return this.gc(i,function(y,b){if(b<=s){var A=c.Pc(i,y).next(function(R){if(!R)return m++,f.Rr(i,y).next(function(){return f.Ar(y),lo(i).delete([0,Bi(y.path)])})});p.push(A)}}).next(function(){return he.$n(p)}).next(function(){return f.apply(i)}).next(function(){return m})},a.prototype.removeTarget=function(i,s){var c=s.st(i.xa);return this.db.Tc().ya(i,c)},a.prototype.yc=function(i,s){return gu(i,s)},a.prototype.gc=function(i,s){var c,f=lo(i),p=Ir.ai;return f.rs({index:ir.documentTargetsIndex},function(m,y){var A=y.path,R=y.sequenceNumber;0===m[0]?(p!==Ir.ai&&s(new I(jt(c)),p),p=R,c=A):p=Ir.ai}).next(function(){p!==Ir.ai&&s(new I(jt(c)),p)})},a.prototype.So=function(i){return this.db.Ec().aa(i)},a}();function gu(a,i){return lo(a).put((c=a.xa,new ir(0,Bi(i.path),c)));var c}function bc(a,i){var s=a.projectId;return a.j||(s+="."+a.database),"firestore/"+i+"/"+s+"/"}var yh=function(){function a(i,s,c){this.persistence=i,this.Vc=s,this.bc=new on(xe),this.vc=new wo(function(f){return q(f)},Ne),this.Sc=$e.min(),this.Sr=i.mc(c),this.Dc=i.Ec(),this.Ka=i.Tc(),this.Cc=new hh(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return a.prototype.Io=function(i){var s=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(c){return i.vo(c,s.bc)})},a}();function _h(a,i){var s=le(a);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(c){var m,y,b,A,R,k,L,f=i.batch.keys(),p=s.Dc.ra({oa:!0});return(m=s,y=c,b=i,A=p,R=b.batch,k=R.keys(),L=he.resolve(),k.forEach(function(G){L=L.next(function(){return A.Rr(y,G)}).next(function(Z){var re=Z,Ae=b.dr.get(G);ge(null!==Ae),(!re||re.version.L(Ae)<0)&&(re=R.cr(G,re,b))&&A.Er(re,b._r)})}),L.next(function(){return m.Sr.Wo(y,R)})).next(function(){return p.apply(c)}).next(function(){return s.Sr.zo(c)}).next(function(){return s.Cc.kr(c,f)})})}function mu(a){var i=le(a);return i.persistence.runTransaction("Get last remote snapshot version","readonly",function(s){return i.Ka.Ea(s)})}function Kp(a,i){var s=le(a),c=i.nt,f=s.bc;return s.persistence.runTransaction("Apply remote event","readwrite-primary",function(p){var m=s.Dc.ra({oa:!0});f=s.bc;var y=[];i.zt.forEach(function(k,L){var Ae,De,Ve,G=f.get(L);if(G){y.push(s.Ka.Ca(p,k.se,L).next(function(){return s.Ka.Sa(p,k.ee,L)}));var Z=k.resumeToken;if(Z.O()>0){var re=G.it(Z,c).st(p.xa);f=f.ot(L,re),Ae=G,Ve=k,ge((De=re).resumeToken.O()>0),(0===Ae.resumeToken.O()||De.nt.X()-Ae.nt.X()>=3e8||Ve.ee.size+Ve.ne.size+Ve.se.size>0)&&y.push(s.Ka.ya(p,re))}}});var b=Oi(),A=$t();if(i.Yt.forEach(function(k,L){A=A.add(k)}),y.push(m.getEntries(p,A).next(function(k){i.Yt.forEach(function(L,G){var Z=k.get(L);G instanceof Lt&&G.version.isEqual($e.min())?(m.Ar(L,c),b=b.ot(L,G)):null==Z||G.version.L(Z.version)>0||0===G.version.L(Z.version)&&Z.hasPendingWrites?(m.Er(G,c),b=b.ot(L,G)):W("LocalStore","Ignoring outdated watch update for ",L,". Current version:",Z.version," Watch version:",G.version),i.Jt.has(L)&&y.push(s.persistence.No.yc(p,L))})})),!c.isEqual($e.min())){var R=s.Ka.Ea(p).next(function(k){return s.Ka.Aa(p,p.xa,c)});y.push(R)}return he.$n(y).next(function(){return m.apply(p)}).next(function(){return s.Cc.Mr(p,b)})}).then(function(p){return s.bc=f,p})}function Yp(a,i){var s=le(a);return s.persistence.runTransaction("Get next mutation batch","readonly",function(c){return void 0===i&&(i=-1),s.Sr.Bo(c,i)})}function zn(a,i){var s=le(a);return s.persistence.runTransaction("Allocate target","readwrite",function(c){var f;return s.Ka.va(c,i).next(function(p){return p?he.resolve(f=p):s.Ka.wa(c).next(function(m){return f=new xt(i,m,0,c.xa),s.Ka.Ra(c,f).next(function(){return f})})})}).then(function(c){var f=s.bc.get(c.targetId);return(null===f||c.nt.L(f.nt)>0)&&(s.bc=s.bc.ot(c.targetId,c),s.vc.set(i,c.targetId)),c})}function ai(a,i,s){return N.__awaiter(this,void 0,void 0,function(){var c,f,p,m;return N.__generator(this,function(y){switch(y.label){case 0:c=le(a),f=c.bc.get(i),p=s?"readwrite":"readwrite-primary",y.label=1;case 1:return y.trys.push([1,4,,5]),s?[3,3]:[4,c.persistence.runTransaction("Release target",p,function(b){return c.persistence.No.removeTarget(b,f)})];case 2:y.sent(),y.label=3;case 3:return[3,5];case 4:if(!ni(m=y.sent()))throw m;return W("LocalStore","Failed to update sequence numbers for target "+i+": "+m),[3,5];case 5:return c.bc=c.bc.remove(i),c.vc.delete(f.target),[2]}})})}function nn(a,i,s){var c=le(a),f=$e.min(),p=$t();return c.persistence.runTransaction("Execute query","readonly",function(m){return(y=c,b=m,A=$n(i),R=le(y),k=R.vc.get(A),void 0!==k?he.resolve(R.bc.get(k)):R.Ka.va(b,A)).next(function(y){if(y)return f=y.lastLimboFreeSnapshotVersion,c.Ka.Fa(m,y.targetId).next(function(b){p=b})}).next(function(){return c.Vc.Lr(m,i,s?f:$e.min(),s?p:$t())}).next(function(y){return{documents:y,Fc:p}});var y,b,A,R,k})}function wh(a,i){var s=le(a),c=le(s.Ka),f=s.bc.get(i);return f?Promise.resolve(f.target):s.persistence.runTransaction("Get target data","readonly",function(p){return c.Ue(p,i).next(function(m){return m?m.target:null})})}function Zp(a){var i=le(a);return i.persistence.runTransaction("Get new document changes","readonly",function(s){return f=s,p=i.Sc,m=le(i.Dc),y=Oi(),b=Fl(p),A=os(f),R=IDBKeyRange.lowerBound(b,!0),A.rs({index:an.readTimeIndex,range:R},function(k,L){var G=Pl(m.serializer,L);y=y.ot(G.key,G),b=L.readTime}).next(function(){return{xc:y,readTime:zp(b)}});var f,p,m,y,b,A,R}).then(function(s){var c=s.xc;return i.Sc=s.readTime,c})}function Xp(a){return N.__awaiter(this,void 0,void 0,function(){var i;return N.__generator(this,function(s){return[2,(i=le(a)).persistence.runTransaction("Synchronize last document change read time","readonly",function(c){return p=os(c),m=$e.min(),p.rs({index:an.readTimeIndex,reverse:!0},function(y,b,A){b.readTime&&(m=zp(b.readTime)),A.done()}).next(function(){return m});var p,m}).then(function(c){i.Sc=c})]})})}function Us(a){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(i){if(a.code!==U.FAILED_PRECONDITION||a.message!==fh)throw a;return W("LocalStore","Unexpectedly lost primary lease"),[2]})})}var jl=function(){function a(){this.$c=new hn(Wn.kc),this.Mc=new hn(Wn.Oc)}return a.prototype.m=function(){return this.$c.m()},a.prototype.Da=function(i,s){var c=new Wn(i,s);this.$c=this.$c.add(c),this.Mc=this.Mc.add(c)},a.prototype.Lc=function(i,s){var c=this;i.forEach(function(f){return c.Da(f,s)})},a.prototype.Na=function(i,s){this.Bc(new Wn(i,s))},a.prototype.qc=function(i,s){var c=this;i.forEach(function(f){return c.Na(f,s)})},a.prototype.Uc=function(i){var s=this,c=new I(new Ge([])),f=new Wn(c,i),p=new Wn(c,i+1),m=[];return this.Mc.Ft([f,p],function(y){s.Bc(y),m.push(y.key)}),m},a.prototype.Qc=function(){var i=this;this.$c.forEach(function(s){return i.Bc(s)})},a.prototype.Bc=function(i){this.$c=this.$c.delete(i),this.Mc=this.Mc.delete(i)},a.prototype.Wc=function(i){var s=new I(new Ge([])),c=new Wn(s,i),f=new Wn(s,i+1),p=$t();return this.Mc.Ft([c,f],function(m){p=p.add(m.key)}),p},a.prototype.Ho=function(i){var s=new Wn(i,0),c=this.$c.$t(s);return null!==c&&i.isEqual(c.key)},a}(),Wn=function(){function a(i,s){this.key=i,this.jc=s}return a.kc=function(i,s){return I.i(i.key,s.key)||xe(i.jc,s.jc)},a.Oc=function(i,s){return xe(i.jc,s.jc)||I.i(i.key,s.key)},a}(),Ec=function(a,i){this.user=i,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+a},vu=function(){function a(){this.Gc=null}return a.prototype.getToken=function(){return Promise.resolve(null)},a.prototype.zc=function(){},a.prototype.Hc=function(i){this.Gc=i,i(pr.UNAUTHENTICATED)},a.prototype.Yc=function(){this.Gc=null},a}(),Dc=function(){function a(i){var s=this;this.Jc=null,this.currentUser=pr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){s.Zc++,s.currentUser=s.tu(),s.Xc=!0,s.Gc&&s.Gc(s.currentUser)},this.Zc=0,this.auth=i.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),i.get().then(function(c){s.auth=c,s.Jc&&s.auth.addAuthTokenListener(s.Jc)},function(){}))}return a.prototype.getToken=function(){var i=this,s=this.Zc,c=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(c).then(function(f){return i.Zc!==s?(W("FirebaseCredentialsProvider","getToken aborted due to token change."),i.getToken()):f?(ge("string"==typeof f.accessToken),new Ec(f.accessToken,i.currentUser)):null}):Promise.resolve(null)},a.prototype.zc=function(){this.forceRefresh=!0},a.prototype.Hc=function(i){this.Gc=i,this.Xc&&i(this.currentUser)},a.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},a.prototype.tu=function(){var i=this.auth&&this.auth.getUid();return ge(null===i||"string"==typeof i),new pr(i)},a}(),Bl=function(){function a(i,s){this.eu=i,this.nu=s,this.type="FirstParty",this.user=pr.ni}return Object.defineProperty(a.prototype,"Kc",{get:function(){var i={"X-Goog-AuthUser":this.nu},s=this.eu.auth.getAuthHeaderValueForFirstParty([]);return s&&(i.Authorization=s),i},enumerable:!1,configurable:!0}),a}(),bh=function(){function a(i,s){this.eu=i,this.nu=s}return a.prototype.getToken=function(){return Promise.resolve(new Bl(this.eu,this.nu))},a.prototype.Hc=function(i){i(pr.ni)},a.prototype.Yc=function(){},a.prototype.zc=function(){},a}(),Eh=function(){function a(i,s,c,f,p,m){this.fn=i,this.su=c,this.iu=f,this.ru=p,this.listener=m,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new ba(i,s)}return a.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},a.prototype.uu=function(){return 2===this.state},a.prototype.start=function(){3!==this.state?this.auth():this.hu()},a.prototype.stop=function(){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(i){switch(i.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},a.prototype.lu=function(){this.state=0,this.ys.reset()},a.prototype._u=function(){var i=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return i.fu()}))},a.prototype.du=function(i){this.wu(),this.stream.send(i)},a.prototype.fu=function(){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(i){return this.uu()?[2,this.close(0)]:[2]})})},a.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},a.prototype.close=function(i,s){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(c){switch(c.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==i?this.ys.reset():s&&s.code===U.RESOURCE_EXHAUSTED?(ye(s.toString()),ye("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):s&&s.code===U.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=i,[4,this.listener.Tu(s)];case 1:return c.sent(),[2]}})})},a.prototype.mu=function(){},a.prototype.auth=function(){var i=this;this.state=1;var s=this.Eu(this.ou),c=this.ou;this.ru.getToken().then(function(f){i.ou===c&&i.Iu(f)},function(f){s(function(){var p=new H(U.UNKNOWN,"Fetching auth token failed: "+f.message);return i.Au(p)})})},a.prototype.Iu=function(i){var s=this,c=this.Eu(this.ou);this.stream=this.Ru(i),this.stream.gu(function(){c(function(){return s.state=2,s.listener.gu()})}),this.stream.Tu(function(f){c(function(){return s.Au(f)})}),this.stream.onMessage(function(f){c(function(){return s.onMessage(f)})})},a.prototype.hu=function(){var i=this;this.state=4,this.ys.gn(function(){return N.__awaiter(i,void 0,void 0,function(){return N.__generator(this,function(s){return this.state=0,this.start(),[2]})})})},a.prototype.Au=function(i){return W("PersistentStream","close with error: "+i),this.stream=null,this.close(3,i)},a.prototype.Eu=function(i){var s=this;return function(c){s.fn.ws(function(){return s.ou===i?c():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},a}(),ss=function(a){function i(s,c,f,p,m){var y=this;return(y=a.call(this,s,"listen_stream_connection_backoff","listen_stream_idle",c,f,m)||this).serializer=p,y}return N.__extends(i,a),i.prototype.Ru=function(s){return this.iu.Pu("Listen",s)},i.prototype.onMessage=function(s){this.ys.reset();var c=function(p,m){var y,li;if("targetChange"in m){var b="NO_CHANGE"===(li=m.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===li?1:"REMOVE"===li?2:"CURRENT"===li?3:"RESET"===li?4:ae(),A=m.targetChange.targetIds||[],R=function(li,Ys){return li.Qe?(ge(void 0===Ys||"string"==typeof Ys),dt.fromBase64String(Ys||"")):(ge(void 0===Ys||Ys instanceof Uint8Array),dt.fromUint8Array(Ys||new Uint8Array))}(p,m.targetChange.resumeToken),k=m.targetChange.cause,L=k&&function(li){var Ys=void 0===li.code?U.UNKNOWN:fn(li.code);return new H(Ys,li.message||"")}(k);y=new Ko(b,A,R,L||null)}else if("documentChange"in m){var G=m.documentChange,Z=_n(p,G.document.name),re=tn(G.document.updateTime),Ae=new wn({mapValue:{fields:G.document.fields}}),De=new Ot(Z,re,Ae,{});y=new Ss(G.targetIds||[],G.removedTargetIds||[],De.key,De)}else if("documentDelete"in m){var _t=m.documentDelete,Bt=_n(p,_t.document),Pt=_t.readTime?tn(_t.readTime):$e.min(),Br=new Lt(Bt,Pt);y=new Ss([],_t.removedTargetIds||[],Br.key,Br)}else if("documentRemove"in m){var Ks=m.documentRemove,ku=_n(p,Ks.document);y=new Ss([],Ks.removedTargetIds||[],ku,null)}else{if(!("filter"in m))return ae();var Lu=m.filter,Vu=new kn(Lu.count||0);y=new ca(Lu.targetId,Vu)}return y}(this.serializer,s),f=function(p){if(!("targetChange"in p))return $e.min();var m=p.targetChange;return m.targetIds&&m.targetIds.length?$e.min():m.readTime?tn(m.readTime):$e.min()}(s);return this.listener.yu(c,f)},i.prototype.Vu=function(s){var p,m,y,b,c={};c.database=eo(this.serializer),c.addTarget=(p=this.serializer,(y=ut(b=(m=s).target)?{documents:su(p,b)}:{query:fr(p,b)}).targetId=m.targetId,m.resumeToken.O()>0&&(y.resumeToken=oc(p,m.resumeToken)),y);var f=function(p,m){var y=function(b,A){switch(A){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ae()}}(0,m.et);return null==y?null:{"goog-listen-tags":y}}(0,s);f&&(c.labels=f),this.du(c)},i.prototype.pu=function(s){var c={};c.database=eo(this.serializer),c.removeTarget=s,this.du(c)},i}(Eh),yu=function(a){function i(s,c,f,p,m){var y=this;return(y=a.call(this,s,"write_stream_connection_backoff","write_stream_idle",c,f,m)||this).serializer=p,y.bu=!1,y}return N.__extends(i,a),Object.defineProperty(i.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,a.prototype.start.call(this)},i.prototype.mu=function(){this.bu&&this.Su([])},i.prototype.Ru=function(s){return this.iu.Pu("Write",s)},i.prototype.onMessage=function(s){if(ge(!!s.streamToken),this.lastStreamToken=s.streamToken,this.bu){this.ys.reset();var c=(m=s.commitTime,(p=s.writeResults)&&p.length>0?(ge(void 0!==m),p.map(function(y){return function(b,A){var R=tn(b.updateTime?b.updateTime:A);R.isEqual($e.min())&&(R=tn(A));var k=null;return b.transformResults&&b.transformResults.length>0&&(k=b.transformResults),new Xr(R,k)}(y,m)})):[]),f=tn(s.commitTime);return this.listener.Du(f,c)}var p,m;return ge(!s.writeResults||0===s.writeResults.length),this.bu=!0,this.listener.Cu()},i.prototype.Nu=function(){var s={};s.database=eo(this.serializer),this.du(s)},i.prototype.Su=function(s){var c=this,f={streamToken:this.lastStreamToken,writes:s.map(function(p){return Xo(c.serializer,p)})};this.du(f)},i}(Eh),Jp=function(a){function i(s,c,f){var p=this;return(p=a.call(this)||this).credentials=s,p.iu=c,p.serializer=f,p.Fu=!1,p}return N.__extends(i,a),i.prototype.xu=function(){if(this.Fu)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.$u=function(s,c,f){var p=this;return this.xu(),this.credentials.getToken().then(function(m){return p.iu.$u(s,c,f,m)}).catch(function(m){throw m.code===U.UNAUTHENTICATED&&p.credentials.zc(),m})},i.prototype.ku=function(s,c,f){var p=this;return this.xu(),this.credentials.getToken().then(function(m){return p.iu.ku(s,c,f,m)}).catch(function(m){throw m.code===U.UNAUTHENTICATED&&p.credentials.zc(),m})},i.prototype.terminate=function(){this.Fu=!1},i}(function(){}),eg=function(){function a(i,s){this.cs=i,this.di=s,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return a.prototype.Bu=function(){var i=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return i.Ou=null,i.Uu("Backend didn't respond within 10 seconds."),i.qu("Offline"),Promise.resolve()}))},a.prototype.Qu=function(i){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+i.toString()),this.qu("Offline")))},a.prototype.set=function(i){this.Wu(),this.Mu=0,"Online"===i&&(this.Lu=!1),this.qu(i)},a.prototype.qu=function(i){i!==this.state&&(this.state=i,this.di(i))},a.prototype.Uu=function(i){var s="Could not reach Cloud Firestore backend. "+i+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(ye(s),this.Lu=!1):W("OnlineStateTracker",s)},a.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},a}(),_u=function(a,i,s,c,f){var p=this;this.ju=a,this.Ku=i,this.cs=s,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=f,this.Xu.Zu(function(m){s.ws(function(){return N.__awaiter(p,void 0,void 0,function(){return N.__generator(this,function(y){switch(y.label){case 0:return No(this)?(W("RemoteStore","Restarting streams for network reachability change."),[4,function(b){return N.__awaiter(this,void 0,void 0,function(){var A;return N.__generator(this,function(R){switch(R.label){case 0:return(A=le(b)).Yu.add(4),[4,Sa(A)];case 1:return R.sent(),A.th.set("Unknown"),A.Yu.delete(4),[4,js(A)];case 2:return R.sent(),[2]}})})}(this)]):[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})}),this.th=new eg(s,c)};function js(a){return N.__awaiter(this,void 0,void 0,function(){var i,s;return N.__generator(this,function(c){switch(c.label){case 0:if(!No(a))return[3,4];i=0,s=a.Ju,c.label=1;case 1:return i<s.length?[4,(0,s[i])(!0)]:[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function Sa(a){return N.__awaiter(this,void 0,void 0,function(){var i,s;return N.__generator(this,function(c){switch(c.label){case 0:i=0,s=a.Ju,c.label=1;case 1:return i<s.length?[4,(0,s[i])(!1)]:[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function Dh(a){return N.__awaiter(this,void 0,void 0,function(){var i;return N.__generator(this,function(s){switch(s.label){case 0:return i=le(a),W("RemoteStore","RemoteStore shutting down."),i.Yu.add(5),[4,Sa(i)];case 1:return s.sent(),i.Xu.Di(),i.th.set("Unknown"),[2]}})})}function Hl(a,i){var s=le(a);s.Hu.has(i.targetId)||(s.Hu.set(i.targetId,i),Ma(s)?wu(s):Ro(s).uu()&&Ta(s,i))}function Cc(a,i){var s=le(a),c=Ro(s);s.Hu.delete(i),c.uu()&&Gl(s,i),0===s.Hu.size&&(c.uu()?c._u():No(s)&&s.th.set("Unknown"))}function Ta(a,i){a.eh.Ie(i.targetId),Ro(a).Vu(i)}function Gl(a,i){a.eh.Ie(i),Ro(a).pu(i)}function wu(a){a.eh=new nu({qe:function(i){return a.Gu.qe(i)},Ue:function(i){return a.Hu.get(i)||null}}),Ro(a).start(),a.th.Bu()}function Ma(a){return No(a)&&!Ro(a).cu()&&a.Hu.size>0}function No(a){return 0===le(a).Yu.size}function $l(a){a.eh=void 0}function xa(a){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(i){return a.Hu.forEach(function(s,c){Ta(a,s)}),[2]})})}function tg(a,i){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(s){return $l(a),Ma(a)?(a.th.Qu(i),wu(a)):a.th.set("Unknown"),[2]})})}function Na(a,i,s){return N.__awaiter(this,void 0,void 0,function(){var c,f,p;return N.__generator(this,function(m){switch(m.label){case 0:if(a.th.set("Online"),!(i instanceof Ko&&2===i.state&&i.cause))return[3,6];m.label=1;case 1:return m.trys.push([1,3,,5]),[4,function(y,b){return N.__awaiter(this,void 0,void 0,function(){var A,R,k,L;return N.__generator(this,function(G){switch(G.label){case 0:A=b.cause,R=0,k=b.targetIds,G.label=1;case 1:return R<k.length?y.Hu.has(L=k[R])?[4,y.Gu.nh(L,A)]:[3,3]:[3,5];case 2:G.sent(),y.Hu.delete(L),y.eh.removeTarget(L),G.label=3;case 3:G.label=4;case 4:return R++,[3,1];case 5:return[2]}})})}(a,i)];case 2:return m.sent(),[3,5];case 3:return c=m.sent(),W("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),c),[4,Ra(a,c)];case 4:return m.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof Ss?a.eh.be(i):i instanceof ca?a.eh.$e(i):a.eh.De(i),s.isEqual($e.min()))return[3,13];m.label=7;case 7:return m.trys.push([7,11,,13]),[4,mu(a.ju)];case 8:return f=m.sent(),s.L(f)>=0?[4,(y=a,b=s,A=y.eh.Oe(b),A.zt.forEach(function(R,k){if(R.resumeToken.O()>0){var L=y.Hu.get(k);L&&y.Hu.set(k,L.it(R.resumeToken,b))}}),A.Ht.forEach(function(R){var k=y.Hu.get(R);if(k){y.Hu.set(R,k.it(dt.B,k.nt)),Gl(y,R);var L=new xt(k.target,R,1,k.sequenceNumber);Ta(y,L)}}),y.Gu.sh(A))]:[3,10];case 9:m.sent(),m.label=10;case 10:return[3,13];case 11:return W("RemoteStore","Failed to raise snapshot:",p=m.sent()),[4,Ra(a,p)];case 12:return m.sent(),[3,13];case 13:return[2]}var y,b,A})})}function Ra(a,i,s){return N.__awaiter(this,void 0,void 0,function(){var c=this;return N.__generator(this,function(f){switch(f.label){case 0:if(!ni(i))throw i;return a.Yu.add(1),[4,Sa(a)];case 1:return f.sent(),a.th.set("Offline"),s||(s=function(){return mu(a.ju)}),a.cs.Cs(function(){return N.__awaiter(c,void 0,void 0,function(){return N.__generator(this,function(p){switch(p.label){case 0:return W("RemoteStore","Retrying IndexedDB access"),[4,s()];case 1:return p.sent(),a.Yu.delete(1),[4,js(a)];case 2:return p.sent(),[2]}})})}),[2]}})})}function bu(a,i){return i().catch(function(s){return Ra(a,s,i)})}function Eu(a){return N.__awaiter(this,void 0,void 0,function(){var i,s,c,f,p;return N.__generator(this,function(m){switch(m.label){case 0:i=le(a),s=Hi(i),c=i.zu.length>0?i.zu[i.zu.length-1].batchId:-1,m.label=1;case 1:if(!(No(y=i)&&y.zu.length<10))return[3,7];m.label=2;case 2:return m.trys.push([2,4,,6]),[4,Yp(i.ju,c)];case 3:return null===(f=m.sent())?(0===i.zu.length&&s._u(),[3,7]):(c=f.batchId,function(y,b){y.zu.push(b);var A=Hi(y);A.uu()&&A.vu&&A.Su(b.mutations)}(i,f),[3,6]);case 4:return p=m.sent(),[4,Ra(i,p)];case 5:return m.sent(),[3,6];case 6:return[3,1];case 7:return ql(i)&&zl(i),[2]}var y})})}function ql(a){return No(a)&&!Hi(a).cu()&&a.zu.length>0}function zl(a){Hi(a).start()}function ng(a){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(i){return Hi(a).Nu(),[2]})})}function rg(a){return N.__awaiter(this,void 0,void 0,function(){var i,s,c;return N.__generator(this,function(p){for(i=Hi(a),s=0,c=a.zu;s<c.length;s++)i.Su(c[s].mutations);return[2]})})}function Du(a,i,s){return N.__awaiter(this,void 0,void 0,function(){var c,f;return N.__generator(this,function(p){switch(p.label){case 0:return c=a.zu.shift(),f=lh.from(c,i,s),[4,bu(a,function(){return a.Gu.ih(f)})];case 1:return p.sent(),[4,Eu(a)];case 2:return p.sent(),[2]}})})}function Wl(a,i){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(s){switch(s.label){case 0:return i&&Hi(a).vu?[4,function(c,f){return N.__awaiter(this,void 0,void 0,function(){var p,m;return N.__generator(this,function(y){switch(y.label){case 0:return An(m=f.code)&&m!==U.ABORTED?(p=c.zu.shift(),Hi(c).lu(),[4,bu(c,function(){return c.Gu.rh(p.batchId,f)})]):[3,3];case 1:return y.sent(),[4,Eu(c)];case 2:y.sent(),y.label=3;case 3:return[2]}})})}(a,i)]:[3,2];case 1:s.sent(),s.label=2;case 2:return ql(a)&&zl(a),[2]}})})}function Cu(a,i){return N.__awaiter(this,void 0,void 0,function(){var s;return N.__generator(this,function(f){switch(f.label){case 0:return s=le(a),i?(s.Yu.delete(2),[4,js(s)]):[3,2];case 1:return f.sent(),[3,5];case 2:return i?[3,4]:(s.Yu.add(2),[4,Sa(s)]);case 3:f.sent(),s.th.set("Unknown"),f.label=4;case 4:f.label=5;case 5:return[2]}})})}function Ro(a){var s,c,f,p,i=this;return a.oh||(a.oh=(s=a.Ku,c=a.cs,f={gu:xa.bind(null,a),Tu:tg.bind(null,a),yu:Na.bind(null,a)},(p=le(s)).xu(),new ss(c,p.iu,p.credentials,p.serializer,f)),a.Ju.push(function(s){return N.__awaiter(i,void 0,void 0,function(){return N.__generator(this,function(c){switch(c.label){case 0:return s?(a.oh.lu(),Ma(a)?wu(a):a.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,a.oh.stop()];case 2:c.sent(),$l(a),c.label=3;case 3:return[2]}})})})),a.oh}function Hi(a){var s,c,f,p,i=this;return a.ah||(a.ah=(s=a.Ku,c=a.cs,f={gu:ng.bind(null,a),Tu:Wl.bind(null,a),Cu:rg.bind(null,a),Du:Du.bind(null,a)},(p=le(s)).xu(),new yu(c,p.iu,p.credentials,p.serializer,f)),a.Ju.push(function(s){return N.__awaiter(i,void 0,void 0,function(){return N.__generator(this,function(c){switch(c.label){case 0:return s?(a.ah.lu(),[4,Eu(a)]):[3,2];case 1:return c.sent(),[3,4];case 2:return[4,a.ah.stop()];case 3:c.sent(),a.zu.length>0&&(W("RemoteStore","Stopping write stream with "+a.zu.length+" pending writes"),a.zu=[]),c.label=4;case 4:return[2]}})})})),a.ah}var Ch=function(a){this.key=a},Ql=function(a){this.key=a},Kl=function(){function a(i,s){this.query=i,this.uh=s,this.hh=null,this.te=!1,this.lh=$t(),this.Wt=$t(),this._h=Zt(i),this.fh=new yn(this._h)}return Object.defineProperty(a.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),a.prototype.wh=function(i,s){var c=this,f=s?s.mh:new bo,p=s?s.fh:this.fh,m=s?s.Wt:this.Wt,y=p,b=!1,A=gn(this.query)&&p.size===this.query.limit?p.last():null,R=Pr(this.query)&&p.size===this.query.limit?p.first():null;if(i.ht(function(L,G){var Z=p.get(L),re=G instanceof Ot?G:null;re&&(re=Ye(c.query,re)?re:null);var Ae=!!Z&&c.Wt.has(Z.key),De=!!re&&(re.Je||c.Wt.has(re.key)&&re.hasCommittedMutations),Ve=!1;Z&&re?Z.data().isEqual(re.data())?Ae!==De&&(f.track({type:3,doc:re}),Ve=!0):c.Th(Z,re)||(f.track({type:2,doc:re}),Ve=!0,(A&&c._h(re,A)>0||R&&c._h(re,R)<0)&&(b=!0)):!Z&&re?(f.track({type:0,doc:re}),Ve=!0):Z&&!re&&(f.track({type:1,doc:Z}),Ve=!0,(A||R)&&(b=!0)),Ve&&(re?(y=y.add(re),m=De?m.add(L):m.delete(L)):(y=y.delete(L),m=m.delete(L)))}),gn(this.query)||Pr(this.query))for(;y.size>this.query.limit;){var k=gn(this.query)?y.last():y.first();y=y.delete(k.key),m=m.delete(k.key),f.track({type:1,doc:k})}return{fh:y,mh:f,Eh:b,Wt:m}},a.prototype.Th=function(i,s){return i.Je&&s.hasCommittedMutations&&!s.Je},a.prototype.yr=function(i,s,c){var f=this,p=this.fh;this.fh=i.fh,this.Wt=i.Wt;var m=i.mh.Ut();m.sort(function(R,k){return G=k.type,(Z=function(re){switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}})(R.type)-Z(G)||f._h(R.doc,k.doc);var G,Z}),this.Ih(c);var y=s?this.Ah():[],b=0===this.lh.size&&this.te?1:0,A=b!==this.hh;return this.hh=b,0!==m.length||A?{snapshot:new lr(this.query,i.fh,p,m,i.Wt,0===b,A,!1),Rh:y}:{Rh:y}},a.prototype.Qs=function(i){return this.te&&"Offline"===i?(this.te=!1,this.yr({fh:this.fh,mh:new bo,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},a.prototype.gh=function(i){return!this.uh.has(i)&&!!this.fh.has(i)&&!this.fh.get(i).Je},a.prototype.Ih=function(i){var s=this;i&&(i.ee.forEach(function(c){return s.uh=s.uh.add(c)}),i.ne.forEach(function(c){}),i.se.forEach(function(c){return s.uh=s.uh.delete(c)}),this.te=i.te)},a.prototype.Ah=function(){var i=this;if(!this.te)return[];var s=this.lh;this.lh=$t(),this.fh.forEach(function(f){i.gh(f.key)&&(i.lh=i.lh.add(f.key))});var c=[];return s.forEach(function(f){i.lh.has(f)||c.push(new Ql(f))}),this.lh.forEach(function(f){s.has(f)||c.push(new Ch(f))}),c},a.prototype.Ph=function(i){this.uh=i.Fc,this.lh=$t();var s=this.wh(i.documents);return this.yr(s,!0)},a.prototype.yh=function(){return lr.Gt(this.query,this.fh,this.Wt,0===this.hh)},a}(),Ih=function(a,i,s){this.query=a,this.targetId=i,this.view=s},Ah=function(a){this.key=a,this.Vh=!1},ig=function(){function a(i,s,c,f,p,m){this.ju=i,this.ph=s,this.bh=c,this.Sh=f,this.currentUser=p,this.Dh=m,this.Ch={},this.Nh=new wo(function(y){return hr(y)},ji),this.Fh=new Map,this.xh=[],this.$h=new on(I.i),this.kh=new Map,this.Mh=new jl,this.Oh={},this.Lh=new Map,this.Bh=yc.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(a.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),a}();function og(a,i){return N.__awaiter(this,void 0,void 0,function(){var s,f,p,m,y;return N.__generator(this,function(b){switch(b.label){case 0:return s=Gs(a),(p=s.Nh.get(i))?(s.Sh.Oi(p.targetId),f=p.view.yh(),[3,4]):[3,1];case 1:return[4,zn(s.ju,$n(i))];case 2:return m=b.sent(),y=s.Sh.Oi(m.targetId),[4,Oa(s,i,m.targetId,"current"===y)];case 3:f=b.sent(),s.Uh&&Hl(s.ph,m),b.label=4;case 4:return[2,f]}})})}function Oa(a,i,s,c){return N.__awaiter(this,void 0,void 0,function(){var f,p,m,y,b,A;return N.__generator(this,function(R){switch(R.label){case 0:return a.Qh=function(k,L,G){return function(Z,re,Ae,De){return N.__awaiter(this,void 0,void 0,function(){var Ve,st,_t;return N.__generator(this,function(Bt){switch(Bt.label){case 0:return(Ve=re.view.wh(Ae)).Eh?[4,nn(Z.ju,re.query,!1).then(function(Pt){return re.view.wh(Pt.documents,Ve)})]:[3,2];case 1:Ve=Bt.sent(),Bt.label=2;case 2:return st=De&&De.zt.get(re.targetId),_t=re.view.yr(Ve,Z.Uh,st),[2,(as(Z,re.targetId,_t.Rh),_t.snapshot)]}})})}(a,k,L,G)},[4,nn(a.ju,i,!0)];case 1:return f=R.sent(),p=new Kl(i,f.Fc),m=p.wh(f.documents),y=As.Zt(s,c&&"Offline"!==a.onlineState),b=p.yr(m,a.Uh,y),as(a,s,b.Rh),A=new Ih(i,s,p),[2,(a.Nh.set(i,A),a.Fh.has(s)?a.Fh.get(s).push(i):a.Fh.set(s,[i]),b.snapshot)]}})})}function Iu(a,i){return N.__awaiter(this,void 0,void 0,function(){var s,c,f;return N.__generator(this,function(p){switch(p.label){case 0:return s=le(a),c=s.Nh.get(i),(f=s.Fh.get(c.targetId)).length>1?[2,(s.Fh.set(c.targetId,f.filter(function(m){return!ji(m,i)})),void s.Nh.delete(i))]:s.Uh?(s.Sh.Bi(c.targetId),s.Sh.Fi(c.targetId)?[3,2]:[4,ai(s.ju,c.targetId,!1).then(function(){s.Sh.Ui(c.targetId),Cc(s.ph,c.targetId),Gi(s,c.targetId)}).catch(Us)]):[3,3];case 1:p.sent(),p.label=2;case 2:return[3,5];case 3:return Gi(s,c.targetId),[4,ai(s.ju,c.targetId,!0)];case 4:p.sent(),p.label=5;case 5:return[2]}})})}function Sh(a,i){return N.__awaiter(this,void 0,void 0,function(){var s,c;return N.__generator(this,function(f){switch(f.label){case 0:s=le(a),f.label=1;case 1:return f.trys.push([1,4,,6]),[4,Kp(s.ju,i)];case 2:return c=f.sent(),i.zt.forEach(function(p,m){var y=s.kh.get(m);y&&(ge(p.ee.size+p.ne.size+p.se.size<=1),p.ee.size>0?y.Vh=!0:p.ne.size>0?ge(y.Vh):p.se.size>0&&(ge(y.Vh),y.Vh=!1))}),[4,Ai(s,c,i)];case 3:return f.sent(),[3,6];case 4:return[4,Us(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}})})}function Yl(a,i,s){var c=le(a);if(c.Uh&&0===s||!c.Uh&&1===s){var f=[];c.Nh.forEach(function(p,m){var y=m.view.Qs(i);y.snapshot&&f.push(y.snapshot)}),function(p,m){var y=le(p);y.onlineState=m;var b=!1;y.Bs.forEach(function(A,R){for(var k=0,L=R.listeners;k<L.length;k++)L[k].Qs(m)&&(b=!0)}),b&&Ea(y)}(c.bh,i),f.length&&c.Ch.yu(f),c.onlineState=i,c.Uh&&c.Sh.Ki(i)}}function Th(a,i,s){return N.__awaiter(this,void 0,void 0,function(){var c,f,p,m,y,b;return N.__generator(this,function(A){switch(A.label){case 0:return(c=le(a)).Sh.Qi(i,"rejected",s),f=c.kh.get(i),(p=f&&f.key)?(m=(m=new on(I.i)).ot(p,new Lt(p,$e.min())),y=$t().add(p),b=new nc($e.min(),new Map,new hn(xe),m,y),[4,Sh(c,b)]):[3,2];case 1:return A.sent(),c.$h=c.$h.remove(p),c.kh.delete(i),Su(c),[3,4];case 2:return[4,ai(c.ju,i,!1).then(function(){return Gi(c,i,s)}).catch(Us)];case 3:A.sent(),A.label=4;case 4:return[2]}})})}function Pa(a,i){return N.__awaiter(this,void 0,void 0,function(){var s,c,f;return N.__generator(this,function(p){switch(p.label){case 0:s=le(a),c=i.batch.batchId,p.label=1;case 1:return p.trys.push([1,4,,6]),[4,_h(s.ju,i)];case 2:return f=p.sent(),Bs(s,c,null),Au(s,c),s.Sh.ki(c,"acknowledged"),[4,Ai(s,f)];case 3:return p.sent(),[3,6];case 4:return[4,Us(p.sent())];case 5:return p.sent(),[3,6];case 6:return[2]}})})}function vr(a,i,s){return N.__awaiter(this,void 0,void 0,function(){var c,f;return N.__generator(this,function(p){switch(p.label){case 0:c=le(a),p.label=1;case 1:return p.trys.push([1,4,,6]),[4,(m=c.ju,y=i,b=le(m),b.persistence.runTransaction("Reject batch","readwrite-primary",function(A){var R;return b.Sr.Oo(A,y).next(function(k){return ge(null!==k),R=k.keys(),b.Sr.Wo(A,k)}).next(function(){return b.Sr.zo(A)}).next(function(){return b.Cc.kr(A,R)})}))];case 2:return f=p.sent(),Bs(c,i,s),Au(c,i),c.Sh.ki(i,"rejected",s),[4,Ai(c,f)];case 3:return p.sent(),[3,6];case 4:return[4,Us(p.sent())];case 5:return p.sent(),[3,6];case 6:return[2]}var m,y,b})})}function Au(a,i){(a.Lh.get(i)||[]).forEach(function(s){s.resolve()}),a.Lh.delete(i)}function Bs(a,i,s){var c=le(a),f=c.Oh[c.currentUser.ti()];if(f){var p=f.get(i);p&&(s?p.reject(s):p.resolve(),f=f.remove(i)),c.Oh[c.currentUser.ti()]=f}}function Gi(a,i,s){void 0===s&&(s=null),a.Sh.Bi(i);for(var c=0,f=a.Fh.get(i);c<f.length;c++){var p=f[c];a.Nh.delete(p),s&&a.Ch.Wh(p,s)}a.Fh.delete(i),a.Uh&&a.Mh.Uc(i).forEach(function(m){a.Mh.Ho(m)||Hs(a,m)})}function Hs(a,i){var s=a.$h.get(i);null!==s&&(Cc(a.ph,s),a.$h=a.$h.remove(i),a.kh.delete(s),Su(a))}function as(a,i,s){for(var c=0,f=s;c<f.length;c++){var p=f[c];p instanceof Ch?(a.Mh.Da(p.key,i),Mh(a,p)):p instanceof Ql?(W("SyncEngine","Document no longer in limbo: "+p.key),a.Mh.Na(p.key,i),a.Mh.Ho(p.key)||Hs(a,p.key)):ae()}}function Mh(a,i){var s=i.key;a.$h.get(s)||(W("SyncEngine","New document in limbo: "+s),a.xh.push(s),Su(a))}function Su(a){for(;a.xh.length>0&&a.$h.size<a.Dh;){var i=a.xh.shift(),s=a.Bh.next();a.kh.set(s,new Ah(i)),a.$h=a.$h.ot(i,s),Hl(a.ph,new xt($n(bn(i.path)),s,2,Ir.ai))}}function Ai(a,i,s){return N.__awaiter(this,void 0,void 0,function(){var c,f,p,m;return N.__generator(this,function(y){switch(y.label){case 0:return c=le(a),f=[],p=[],m=[],c.Nh.m()?[3,3]:(c.Nh.forEach(function(b,A){m.push(c.Qh(A,i,s).then(function(R){if(R){c.Uh&&c.Sh.Qi(A.targetId,R.fromCache?"not-current":"current"),f.push(R);var k=Ci.zr(A.targetId,R);p.push(k)}}))}),[4,Promise.all(m)]);case 1:return y.sent(),c.Ch.yu(f),[4,function(b,A){return N.__awaiter(this,void 0,void 0,function(){var R,k,L,G,Z,re,Ae,Ve;return N.__generator(this,function(st){switch(st.label){case 0:R=le(b),st.label=1;case 1:return st.trys.push([1,3,,4]),[4,R.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(_t){return he.forEach(A,function(Bt){return he.forEach(Bt.Kr,function(Pt){return R.persistence.No.Da(_t,Bt.targetId,Pt)}).next(function(){return he.forEach(Bt.Gr,function(Pt){return R.persistence.No.Na(_t,Bt.targetId,Pt)})})})})];case 2:return st.sent(),[3,4];case 3:if(!ni(k=st.sent()))throw k;return W("LocalStore","Failed to update sequence numbers: "+k),[3,4];case 4:for(L=0,G=A;L<G.length;L++)re=(Z=G[L]).targetId,Z.fromCache||(Ae=R.bc.get(re),Ve=Ae.rt(Ae.nt),R.bc=R.bc.ot(re,Ve));return[2]}})})}(c.ju,p)];case 2:y.sent(),y.label=3;case 3:return[2]}})})}function $y(a,i){return N.__awaiter(this,void 0,void 0,function(){var s,c;return N.__generator(this,function(f){switch(f.label){case 0:return(s=le(a)).currentUser.isEqual(i)?[3,3]:(W("SyncEngine","User change. New user:",i.ti()),[4,function(p,m){return N.__awaiter(this,void 0,void 0,function(){var y,b,A,R;return N.__generator(this,function(k){switch(k.label){case 0:return y=le(p),b=y.Sr,A=y.Cc,[4,y.persistence.runTransaction("Handle user change","readonly",function(L){var G;return y.Sr.Uo(L).next(function(Z){return G=Z,b=y.persistence.mc(m),A=new hh(y.Dc,b,y.persistence.Ic()),b.Uo(L)}).next(function(Z){for(var re=[],Ae=[],De=$t(),Ve=0,st=G;Ve<st.length;Ve++){var _t=st[Ve];re.push(_t.batchId);for(var Bt=0,Pt=_t.mutations;Bt<Pt.length;Bt++)De=De.add(Pt[Bt].key)}for(var ho=0,Ks=Z;ho<Ks.length;ho++){var ku=Ks[ho];Ae.push(ku.batchId);for(var Rc=0,Lu=ku.mutations;Rc<Lu.length;Rc++)De=De.add(Lu[Rc].key)}return A.kr(L,De).next(function(Vu){return{jh:Vu,Kh:re,Gh:Ae}})})})];case 1:return R=k.sent(),[2,(y.Sr=b,y.Cc=A,y.Vc.Nc(y.Cc),R)]}})})}(s.ju,i)]);case 1:return c=f.sent(),s.currentUser=i,(p=s).Lh.forEach(function(y){y.forEach(function(b){b.reject(new H(U.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Lh.clear(),s.Sh.ji(i,c.Kh,c.Gh),[4,Ai(s,c.jh)];case 2:f.sent(),f.label=3;case 3:return[2]}var p})})}function sg(a,i){var s=le(a),c=s.kh.get(i);if(c&&c.Vh)return $t().add(c.key);var f=$t(),p=s.Fh.get(i);if(!p)return f;for(var m=0,y=p;m<y.length;m++){var A=s.Nh.get(y[m]);f=f.kt(A.view.dh)}return f}function ot(a,i){return N.__awaiter(this,void 0,void 0,function(){var s,c,f;return N.__generator(this,function(p){switch(p.label){case 0:return[4,nn((s=le(a)).ju,i.query,!0)];case 1:return c=p.sent(),f=i.view.Ph(c),[2,(s.Uh&&as(s,i.targetId,f.Rh),f)]}})})}function ag(a,i,s,c){return N.__awaiter(this,void 0,void 0,function(){var f,p;return N.__generator(this,function(m){switch(m.label){case 0:return[4,(y=(f=le(a)).ju,b=i,A=le(y),R=le(A.Sr),A.persistence.runTransaction("Lookup mutation documents","readonly",function(k){return R.Lo(k,b).next(function(L){return L?A.Cc.kr(k,L):he.resolve(null)})}))];case 1:return null===(p=m.sent())?[3,6]:"pending"!==s?[3,3]:[4,Eu(f.ph)];case 2:return m.sent(),[3,4];case 3:"acknowledged"===s||"rejected"===s?(Bs(f,i,c||null),Au(f,i),function(y,b){le(le(y).Sr).Ko(b)}(f.ju,i)):ae(),m.label=4;case 4:return[4,Ai(f,p)];case 5:return m.sent(),[3,7];case 6:W("SyncEngine","Cannot apply mutation batch with id: "+i),m.label=7;case 7:return[2]}var y,b,A,R})})}function qy(a,i){return N.__awaiter(this,void 0,void 0,function(){var s,c,f,p,m,b,A;return N.__generator(this,function(R){switch(R.label){case 0:return Gs(s=le(a)),xh(s),!0!==i||!0===s.qh?[3,3]:(c=s.Sh.Ci(),[4,ug(s,c.A())]);case 1:return f=R.sent(),s.qh=!0,[4,Cu(s.ph,!0)];case 2:for(R.sent(),p=0,m=f;p<m.length;p++)Hl(s.ph,m[p]);return[3,7];case 3:return!1!==i||!1===s.qh?[3,7]:(b=[],A=Promise.resolve(),s.Fh.forEach(function(k,L){s.Sh.qi(L)?b.push(L):A=A.then(function(){return Gi(s,L),ai(s.ju,L,!0)}),Cc(s.ph,L)}),[4,A]);case 4:return R.sent(),[4,ug(s,b)];case 5:return R.sent(),(L=le(s)).kh.forEach(function(G,Z){Cc(L.ph,Z)}),L.Mh.Qc(),L.kh=new Map,L.$h=new on(I.i),s.qh=!1,[4,Cu(s.ph,!1)];case 6:R.sent(),R.label=7;case 7:return[2]}var L})})}function ug(a,i,s){return N.__awaiter(this,void 0,void 0,function(){var c,f,p,m,y,b,A,R,k,L,Z,re,Ae;return N.__generator(this,function(De){switch(De.label){case 0:c=le(a),f=[],p=[],m=0,y=i,De.label=1;case 1:return m<y.length?(A=void 0,(R=c.Fh.get(b=y[m]))&&0!==R.length?[4,zn(c.ju,$n(R[0]))]:[3,7]):[3,13];case 2:A=De.sent(),k=0,L=R,De.label=3;case 3:return k<L.length?(Z=c.Nh.get(L[k]),[4,ot(c,Z)]):[3,6];case 4:(re=De.sent()).snapshot&&p.push(re.snapshot),De.label=5;case 5:return k++,[3,3];case 6:return[3,11];case 7:return[4,wh(c.ju,b)];case 8:return Ae=De.sent(),[4,zn(c.ju,Ae)];case 9:return A=De.sent(),[4,Oa(c,cg(Ae),b,!1)];case 10:De.sent(),De.label=11;case 11:f.push(A),De.label=12;case 12:return m++,[3,1];case 13:return[2,(c.Ch.yu(p),f)]}})})}function cg(a){return Be(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function zy(a){var i=le(a);return le(le(i.ju).persistence).pi()}function Wy(a,i,s,c){return N.__awaiter(this,void 0,void 0,function(){var f,p,m;return N.__generator(this,function(y){switch(y.label){case 0:return(f=le(a)).qh?(W("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!f.Fh.has(i))return[3,8];switch(s){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Zp(f.ju)];case 3:return p=y.sent(),m=nc.Xt(i,"current"===s),[4,Ai(f,p,m)];case 4:return y.sent(),[3,8];case 5:return[4,ai(f.ju,i,!0)];case 6:return y.sent(),Gi(f,i,c),[3,8];case 7:ae(),y.label=8;case 8:return[2]}})})}function Qy(a,i,s){return N.__awaiter(this,void 0,void 0,function(){var c,f,p,m,y,b,A,R,k;return N.__generator(this,function(G){switch(G.label){case 0:if(!(c=Gs(a)).qh)return[3,10];f=0,p=i,G.label=1;case 1:return f<p.length?c.Fh.has(m=p[f])?(W("SyncEngine","Adding an already active target "+m),[3,5]):[4,wh(c.ju,m)]:[3,6];case 2:return y=G.sent(),[4,zn(c.ju,y)];case 3:return b=G.sent(),[4,Oa(c,cg(y),b.targetId,!1)];case 4:G.sent(),Hl(c.ph,b),G.label=5;case 5:return f++,[3,1];case 6:A=function(Z){return N.__generator(this,function(re){switch(re.label){case 0:return c.Fh.has(Z)?[4,ai(c.ju,Z,!1).then(function(){Cc(c.ph,Z),Gi(c,Z)}).catch(Us)]:[3,2];case 1:re.sent(),re.label=2;case 2:return[2]}})},R=0,k=s,G.label=7;case 7:return R<k.length?[5,A(k[R])]:[3,10];case 8:G.sent(),G.label=9;case 9:return R++,[3,7];case 10:return[2]}})})}function Gs(a){var i=le(a);return i.ph.Gu.sh=Sh.bind(null,i),i.ph.Gu.qe=sg.bind(null,i),i.ph.Gu.nh=Th.bind(null,i),i.Ch.yu=Di.bind(null,i.bh),i.Ch.Wh=ri.bind(null,i.bh),i}function xh(a){var i=le(a);return i.ph.Gu.ih=Pa.bind(null,i),i.ph.Gu.rh=vr.bind(null,i),i}var jn=function(){function a(){}return a.prototype.Nc=function(i){this.zh=i},a.prototype.Lr=function(i,s,c,f){var m,p=this;return 0===(m=s).filters.length&&null===m.limit&&null==m.startAt&&null==m.endAt&&(0===m.on.length||1===m.on.length&&m.on[0].field.p())||c.isEqual($e.min())?this.Hh(i,s):this.zh.kr(i,f).next(function(m){var y=p.Yh(s,m);return(gn(s)||Pr(s))&&p.Eh(s.an,y,f,c)?p.Hh(i,s):(me()<=Ue.LogLevel.DEBUG&&W("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),_e(s)),p.zh.Lr(i,s,c).next(function(b){return y.forEach(function(A){b=b.ot(A.key,A)}),b}))})},a.prototype.Yh=function(i,s){var c=new hn(Zt(i));return s.forEach(function(f,p){p instanceof Ot&&Ye(i,p)&&(c=c.add(p))}),c},a.prototype.Eh=function(i,s,c,f){if(c.size!==s.size)return!0;var p="F"===i?s.last():s.first();return!!p&&(p.hasPendingWrites||p.version.L(f)>0)},a.prototype.Hh=function(i,s){return me()<=Ue.LogLevel.DEBUG&&W("IndexFreeQueryEngine","Using full collection scan to execute query:",_e(s)),this.zh.Lr(i,s,$e.min())},a}(),Zl=function(){function a(i,s){this.Dr=i,this.No=s,this.Sr=[],this.Jh=1,this.Xh=new hn(Wn.kc)}return a.prototype.$o=function(i){return he.resolve(0===this.Sr.length)},a.prototype.ko=function(i,s,c,f){var p=this.Jh;this.Jh++;var m=new xl(p,s,c,f);this.Sr.push(m);for(var y=0,b=f;y<b.length;y++){var A=b[y];this.Xh=this.Xh.add(new Wn(A.key,p)),this.Dr.Mo(i,A.key.path.h())}return he.resolve(m)},a.prototype.Oo=function(i,s){return he.resolve(this.Zh(s))},a.prototype.Bo=function(i,s){var f=this.tl(s+1),p=f<0?0:f;return he.resolve(this.Sr.length>p?this.Sr[p]:null)},a.prototype.qo=function(){return he.resolve(0===this.Sr.length?-1:this.Jh-1)},a.prototype.Uo=function(i){return he.resolve(this.Sr.slice())},a.prototype.Nr=function(i,s){var c=this,f=new Wn(s,0),p=new Wn(s,Number.POSITIVE_INFINITY),m=[];return this.Xh.Ft([f,p],function(y){var b=c.Zh(y.jc);m.push(b)}),he.resolve(m)},a.prototype.Or=function(i,s){var c=this,f=new hn(xe);return s.forEach(function(p){var m=new Wn(p,0),y=new Wn(p,Number.POSITIVE_INFINITY);c.Xh.Ft([m,y],function(b){f=f.add(b.jc)})}),he.resolve(this.el(f))},a.prototype.Wr=function(i,s){var c=s.path,f=c.length+1,p=c;I.F(p)||(p=p.child(""));var m=new Wn(new I(p),0),y=new hn(xe);return this.Xh.xt(function(b){var A=b.key.path;return!!c.T(A)&&(A.length===f&&(y=y.add(b.jc)),!0)},m),he.resolve(this.el(y))},a.prototype.el=function(i){var s=this,c=[];return i.forEach(function(f){var p=s.Zh(f);null!==p&&c.push(p)}),c},a.prototype.Wo=function(i,s){var c=this;ge(0===this.nl(s.batchId,"removed")),this.Sr.shift();var f=this.Xh;return he.forEach(s.mutations,function(p){var m=new Wn(p.key,s.batchId);return f=f.delete(m),c.No.Go(i,p.key)}).next(function(){c.Xh=f})},a.prototype.Ko=function(i){},a.prototype.Ho=function(i,s){var c=new Wn(s,0),f=this.Xh.$t(c);return he.resolve(s.isEqual(f&&f.key))},a.prototype.zo=function(i){return he.resolve()},a.prototype.nl=function(i,s){return this.tl(i)},a.prototype.tl=function(i){return 0===this.Sr.length?0:i-this.Sr[0].batchId},a.prototype.Zh=function(i){var s=this.tl(i);return s<0||s>=this.Sr.length?null:this.Sr[s]},a}(),Tu=function(){function a(i,s){this.Dr=i,this.sl=s,this.docs=new on(I.i),this.size=0}return a.prototype.Er=function(i,s,c){var f=s.key,p=this.docs.get(f),m=p?p.size:0,y=this.sl(s);return this.docs=this.docs.ot(f,{ta:s,size:y,readTime:c}),this.size+=y-m,this.Dr.Mo(i,f.path.h())},a.prototype.Ar=function(i){var s=this.docs.get(i);s&&(this.docs=this.docs.remove(i),this.size-=s.size)},a.prototype.Rr=function(i,s){var c=this.docs.get(s);return he.resolve(c?c.ta:null)},a.prototype.getEntries=function(i,s){var c=this,f=Wo();return s.forEach(function(p){var m=c.docs.get(p);f=f.ot(p,m?m.ta:null)}),he.resolve(f)},a.prototype.Lr=function(i,s,c){for(var f=Zi(),p=new I(s.path.child("")),m=this.docs.ft(p);m.At();){var y=m.It(),A=y.value,R=A.ta,k=A.readTime;if(!s.path.T(y.key.path))break;k.L(c)<=0||R instanceof Ot&&Ye(s,R)&&(f=f.ot(R.key,R))}return he.resolve(f)},a.prototype.il=function(i,s){return he.forEach(this.docs,function(c){return s(c)})},a.prototype.ra=function(i){return new Ky(this)},a.prototype.aa=function(i){return he.resolve(this.size)},a}(),Ky=function(a){function i(s){var c=this;return(c=a.call(this)||this).ca=s,c}return N.__extends(i,a),i.prototype.yr=function(s){var c=this,f=[];return this.wr.forEach(function(p,m){m?f.push(c.ca.Er(s,m,c.readTime)):c.ca.Ar(p)}),he.$n(f)},i.prototype.gr=function(s,c){return this.ca.Rr(s,c)},i.prototype.Pr=function(s,c){return this.ca.getEntries(s,c)},i}(Nl),lg=function(){function a(i){this.persistence=i,this.rl=new wo(function(s){return q(s)},Ne),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.ol=0,this.al=new jl,this.targetCount=0,this.cl=yc.fa()}return a.prototype.Ce=function(i,s){return this.rl.forEach(function(c,f){return s(f)}),he.resolve()},a.prototype.Ea=function(i){return he.resolve(this.lastRemoteSnapshotVersion)},a.prototype.Ia=function(i){return he.resolve(this.ol)},a.prototype.wa=function(i){return this.highestTargetId=this.cl.next(),he.resolve(this.highestTargetId)},a.prototype.Aa=function(i,s,c){return c&&(this.lastRemoteSnapshotVersion=c),s>this.ol&&(this.ol=s),he.resolve()},a.prototype.ga=function(i){this.rl.set(i.target,i);var s=i.targetId;s>this.highestTargetId&&(this.cl=new yc(s),this.highestTargetId=s),i.sequenceNumber>this.ol&&(this.ol=i.sequenceNumber)},a.prototype.Ra=function(i,s){return this.ga(s),this.targetCount+=1,he.resolve()},a.prototype.ya=function(i,s){return this.ga(s),he.resolve()},a.prototype.Va=function(i,s){return this.rl.delete(s.target),this.al.Uc(s.targetId),this.targetCount-=1,he.resolve()},a.prototype.po=function(i,s,c){var f=this,p=0,m=[];return this.rl.forEach(function(y,b){b.sequenceNumber<=s&&null===c.get(b.targetId)&&(f.rl.delete(y),m.push(f.pa(i,b.targetId)),p++)}),he.$n(m).next(function(){return p})},a.prototype.ba=function(i){return he.resolve(this.targetCount)},a.prototype.va=function(i,s){var c=this.rl.get(s)||null;return he.resolve(c)},a.prototype.Sa=function(i,s,c){return this.al.Lc(s,c),he.resolve()},a.prototype.Ca=function(i,s,c){this.al.qc(s,c);var f=this.persistence.No,p=[];return f&&s.forEach(function(m){p.push(f.Go(i,m))}),he.$n(p)},a.prototype.pa=function(i,s){return this.al.Uc(s),he.resolve()},a.prototype.Fa=function(i,s){var c=this.al.Wc(s);return he.resolve(c)},a.prototype.Ho=function(i,s){return he.resolve(this.al.Ho(s))},a}(),Si=function(){function a(i){var s=this;this.ul={},this.Ma=new Ir(0),this.Oa=!1,this.Oa=!0,this.No=i(this),this.Ka=new lg(this),this.Dr=new ph,this.vr=new Tu(this.Dr,function(p){return s.No.hl(p)})}return a.prototype.start=function(){return Promise.resolve()},a.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(a.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),a.prototype.Za=function(){},a.prototype.tc=function(){},a.prototype.Ic=function(){return this.Dr},a.prototype.mc=function(i){var s=this.ul[i.ti()];return s||(s=new Zl(this.Dr,this.No),this.ul[i.ti()]=s),s},a.prototype.Tc=function(){return this.Ka},a.prototype.Ec=function(){return this.vr},a.prototype.runTransaction=function(i,s,c){var f=this;W("MemoryPersistence","Starting transaction:",i);var p=new fo(this.Ma.next());return this.No.ll(),c(p).next(function(m){return f.No._l(p).next(function(){return m})}).Fn().then(function(m){return p.br(),m})},a.prototype.fl=function(i,s){return he.kn(Object.values(this.ul).map(function(c){return function(){return c.Ho(i,s)}}))},a}(),fo=function(a){function i(s){var c=this;return(c=a.call(this)||this).xa=s,c}return N.__extends(i,a),i}(hc),Nh=function(){function a(i){this.persistence=i,this.dl=new jl,this.wl=null}return a.ml=function(i){return new a(i)},Object.defineProperty(a.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw ae()},enumerable:!1,configurable:!0}),a.prototype.Da=function(i,s,c){return this.dl.Da(c,s),this.Tl.delete(c.toString()),he.resolve()},a.prototype.Na=function(i,s,c){return this.dl.Na(c,s),this.Tl.add(c.toString()),he.resolve()},a.prototype.Go=function(i,s){return this.Tl.add(s.toString()),he.resolve()},a.prototype.removeTarget=function(i,s){var c=this;this.dl.Uc(s.targetId).forEach(function(p){return c.Tl.add(p.toString())});var f=this.persistence.Tc();return f.Fa(i,s.targetId).next(function(p){p.forEach(function(m){return c.Tl.add(m.toString())})}).next(function(){return f.Va(i,s)})},a.prototype.ll=function(){this.wl=new Set},a.prototype._l=function(i){var s=this,c=this.persistence.Ec().ra();return he.forEach(this.Tl,function(f){var p=I.D(f);return s.El(i,p).next(function(m){m||c.Ar(p)})}).next(function(){return s.wl=null,c.apply(i)})},a.prototype.yc=function(i,s){var c=this;return this.El(i,s).next(function(f){f?c.Tl.delete(s.toString()):c.Tl.add(s.toString())})},a.prototype.hl=function(i){return 0},a.prototype.El=function(i,s){var c=this;return he.kn([function(){return he.resolve(c.dl.Ho(s))},function(){return c.persistence.Tc().Ho(i,s)},function(){return c.persistence.fl(i,s)}])},a}(),Ic=function(){function a(i){this.Il=i.Il,this.Al=i.Al}return a.prototype.gu=function(i){this.Rl=i},a.prototype.Tu=function(i){this.gl=i},a.prototype.onMessage=function(i){this.Pl=i},a.prototype.close=function(){this.Al()},a.prototype.send=function(i){this.Il(i)},a.prototype.yl=function(){this.Rl()},a.prototype.Vl=function(i){this.gl(i)},a.prototype.pl=function(i){this.Pl(i)},a}(),Mu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Rh=function(a){function i(s){var c=this;return(c=a.call(this,s)||this).forceLongPolling=s.forceLongPolling,c.W=s.W,c}return N.__extends(i,a),i.prototype.Nl=function(s,c,f,p){return new Promise(function(m,y){var b=new se.XhrIo;b.listenOnce(se.EventType.COMPLETE,function(){try{switch(b.getLastErrorCode()){case se.ErrorCode.NO_ERROR:var R=b.getResponseJson();W("Connection","XHR received:",JSON.stringify(R)),m(R);break;case se.ErrorCode.TIMEOUT:W("Connection",'RPC "'+s+'" timed out'),y(new H(U.DEADLINE_EXCEEDED,"Request time out"));break;case se.ErrorCode.HTTP_ERROR:var k=b.getStatus();if(W("Connection",'RPC "'+s+'" failed with status:',k,"response text:",b.getResponseText()),k>0){var L=b.getResponseJson().error;if(L&&L.status&&L.message){var G=(re=L.status.toLowerCase().replace("_","-"),Object.values(U).indexOf(re)>=0?re:U.UNKNOWN);y(new H(G,L.message))}else y(new H(U.UNKNOWN,"Server responded with status "+b.getStatus()))}else y(new H(U.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{W("Connection",'RPC "'+s+'" completed.')}var re});var A=JSON.stringify(p);b.send(c,"POST",A,f,15)})},i.prototype.Pu=function(s,c){var f=[this.vl,"/","google.firestore.v1.Firestore","/",s,"/channel"],p=se.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(m.initMessageHeaders,c),Se.isMobileCordova()||Se.isReactNative()||Se.isElectron()||Se.isIE()||Se.isUWP()||Se.isBrowserExtension()||(m.httpHeadersOverwriteParam="$httpHeaders");var y=f.join("");W("Connection","Creating WebChannel: "+y,m);var b=p.createWebChannel(y,m),A=!1,R=!1,k=new Ic({Il:function(G){R?W("Connection","Not sending because WebChannel is closed:",G):(A||(W("Connection","Opening WebChannel transport."),b.open(),A=!0),W("Connection","WebChannel sending:",G),b.send(G))},Al:function(){return b.close()}}),L=function(G,Z){b.listen(G,function(re){try{Z(re)}catch(Ae){setTimeout(function(){throw Ae},0)}})};return L(se.WebChannel.EventType.OPEN,function(){R||W("Connection","WebChannel transport opened.")}),L(se.WebChannel.EventType.CLOSE,function(){R||(R=!0,W("Connection","WebChannel transport closed"),k.Vl())}),L(se.WebChannel.EventType.ERROR,function(G){R||(R=!0,At("Connection","WebChannel transport errored:",G),k.Vl(new H(U.UNAVAILABLE,"The operation could not be completed")))}),L(se.WebChannel.EventType.MESSAGE,function(G){var Z;if(!R){var re=G.data[0];ge(!!re);var De=re.error||(null===(Z=re[0])||void 0===Z?void 0:Z.error);if(De){W("Connection","WebChannel received error:",De);var Ve=De.status,st=function(Bt){var Pt=Ke[Bt];if(void 0!==Pt)return fn(Pt)}(Ve),_t=De.message;void 0===st&&(st=U.INTERNAL,_t="Unknown error status: "+Ve+" with message "+De.message),R=!0,k.Vl(new H(st,_t)),b.close()}else W("Connection","WebChannel received:",re),k.pl(re)}}),setTimeout(function(){k.yl()},0),k},i}(function(){function a(i){this.bl=i,this.U=i.U,this.vl=(i.ssl?"https":"http")+"://"+i.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return a.prototype.$u=function(i,s,c,f){var p=this.Dl(i,s);W("RestConnection","Sending: ",p,c);var m={};return this.Cl(m,f),this.Nl(i,p,m,c).then(function(y){return W("RestConnection","Received: ",y),y},function(y){throw At("RestConnection",i+" failed with error: ",y,"url: ",p,"request:",c),y})},a.prototype.ku=function(i,s,c,f){return this.$u(i,s,c,f)},a.prototype.Cl=function(i,s){if(i["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",i["Content-Type"]="text/plain",s)for(var c in s.Kc)s.Kc.hasOwnProperty(c)&&(i[c]=s.Kc[c])},a.prototype.Dl=function(i,s){return this.vl+"/v1/"+s+":"+Mu[i]},a}()),Oh=function(){function a(){var i=this;this.Fl=function(){return i.xl()},this.$l=function(){return i.kl()},this.Ml=[],this.Ol()}return a.prototype.Zu=function(i){this.Ml.push(i)},a.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},a.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},a.prototype.xl=function(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var i=0,s=this.Ml;i<s.length;i++)(0,s[i])(0)},a.prototype.kl=function(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var i=0,s=this.Ml;i<s.length;i++)(0,s[i])(1)},a.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},a}(),fg=function(){function a(){}return a.prototype.Zu=function(i){},a.prototype.Di=function(){},a}();function Ph(a){return new ha(a,!0)}var hg="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",xu=function(){function a(){}return a.prototype.initialize=function(i){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(s){switch(s.label){case 0:return this.Sh=this.Ll(i),this.persistence=this.Bl(i),[4,this.persistence.start()];case 1:return s.sent(),this.ql=this.Ul(i),this.ju=this.Ql(i),[2]}})})},a.prototype.Ul=function(i){return null},a.prototype.Ql=function(i){return s=this.persistence,c=new jn,new yh(s,c,i.Wl);var s,c},a.prototype.Bl=function(i){if(i.persistenceSettings.jl)throw new H(U.FAILED_PRECONDITION,hg);return new Si(Nh.ml)},a.prototype.Ll=function(i){return new Ml},a.prototype.terminate=function(){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(i){switch(i.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return i.sent(),[4,this.persistence.Di()];case 2:return i.sent(),[2]}})})},a.prototype.clearPersistence=function(i,s){throw new H(U.FAILED_PRECONDITION,hg)},a}(),ui=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return N.__extends(i,a),i.prototype.initialize=function(s){return N.__awaiter(this,void 0,void 0,function(){var c,f=this;return N.__generator(this,function(p){switch(p.label){case 0:return[4,a.prototype.initialize.call(this,s)];case 1:return p.sent(),c=this.Kl.fi,this.Sh instanceof fc?(this.Sh.fi={er:ag.bind(null,c),nr:Wy.bind(null,c),sr:Qy.bind(null,c),pi:zy.bind(null,c)},[4,this.Sh.start()]):[3,3];case 2:p.sent(),p.label=3;case 3:return[4,this.persistence.Xa(function(m){return N.__awaiter(f,void 0,void 0,function(){return N.__generator(this,function(y){switch(y.label){case 0:return[4,qy(this.Kl.fi,m)];case 1:return y.sent(),this.ql&&(m&&!this.ql.Ei?this.ql.start(this.ju):m||this.ql.stop()),[2]}})})})];case 4:return p.sent(),[2]}})})},i.prototype.Ll=function(s){if(s.persistenceSettings.jl&&s.persistenceSettings.synchronizeTabs){var c=_();if(!fc.Ln(c))throw new H(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var f=bc(s.bl.U,s.bl.persistenceKey);return new fc(c,s.cs,f,s.clientId,s.Wl)}return new Ml},i}(function(a){function i(s){var c=this;return(c=a.call(this)||this).Kl=s,c}return N.__extends(i,a),i.prototype.initialize=function(s){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(c){switch(c.label){case 0:return[4,a.prototype.initialize.call(this,s)];case 1:return c.sent(),[4,Xp(this.ju)];case 2:return c.sent(),[4,this.Kl.initialize(this,s)];case 3:return c.sent(),[4,xh(this.Kl.fi)];case 4:return c.sent(),[4,Eu(this.Kl.ph)];case 5:return c.sent(),[2]}})})},i.prototype.Ul=function(s){return new $p(this.persistence.No.wo,s.cs)},i.prototype.Bl=function(s){var c=bc(s.bl.U,s.bl.persistenceKey),f=Ph(s.bl.U);return new jr(s.persistenceSettings.synchronizeTabs,c,s.clientId,Tn.ao(s.persistenceSettings.cacheSizeBytes),s.cs,_(),E(),f,this.Sh,s.persistenceSettings.ka)},i.prototype.Ll=function(s){return new Ml},i.prototype.clearPersistence=function(s,c){return function(f){return N.__awaiter(this,void 0,void 0,function(){return N.__generator(this,function(m){switch(m.label){case 0:return mn.Ln()?[4,mn.delete(f+"main")]:[2,Promise.resolve()];case 1:return m.sent(),[2]}})})}(bc(s,c))},i}(xu)),Fa=function(){function a(){}return a.prototype.initialize=function(i,s){return N.__awaiter(this,void 0,void 0,function(){var c=this;return N.__generator(this,function(f){switch(f.label){case 0:return this.ju?[3,2]:(this.ju=i.ju,this.Sh=i.Sh,this.Ku=this.Gl(s),this.ph=this.zl(s),this.bh=this.Hl(s),this.fi=this.Yl(s),this.Sh.di=function(p){return Yl(c.fi,p,1)},this.ph.Gu.Jl=$y.bind(null,this.fi),[4,Cu(this.ph,this.fi.Uh)]);case 1:f.sent(),f.label=2;case 2:return[2]}})})},a.prototype.Hl=function(i){return new Ct},a.prototype.Gl=function(i){var c=Ph(i.bl.U),f=new Rh(i.bl);return new Jp(i.credentials,f,c)},a.prototype.zl=function(i){var s,c,f,p,m,y=this;return s=this.ju,c=this.Ku,f=i.cs,p=function(b){return Yl(y.fi,b,0)},m=Oh.Ln()?new Oh:new fg,new _u(s,c,f,p,m)},a.prototype.Yl=function(i){return b=!i.persistenceSettings.jl||!i.persistenceSettings.synchronizeTabs,A=new ig(this.ju,this.ph,this.bh,this.Sh,i.Wl,i.Dh),b&&(A.qh=!0),A;var b,A},a.prototype.terminate=function(){return Dh(this.ph)},a}(),Oo=function(){function a(i){this.observer=i,this.muted=!1}return a.prototype.next=function(i){this.observer.next&&this.Xl(this.observer.next,i)},a.prototype.error=function(i){this.observer.error?this.Xl(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)},a.prototype.Zl=function(){this.muted=!0},a.prototype.Xl=function(i,s){var c=this;this.muted||setTimeout(function(){c.muted||i(s)},0)},a}(),Fh=function(a){!function(s,c,f,p){if(!(c instanceof Array)||c.length<1)throw new H(U.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Tr(1,"element")+".")}(0,a);for(var i=0;i<a.length;++i)if(te("FieldPath","string",i,a[i]),0===a[i].length)throw new H(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new x(a)},us=function(a){function i(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return a.call(this,s)||this}return N.__extends(i,a),i.documentId=function(){return new i(x.v().R())},i.prototype.isEqual=function(s){if(!(s instanceof i))throw Rn("isEqual","FieldPath",1,s);return this.t_.isEqual(s.t_)},i}(Fh),dg=new RegExp("[~\\*/\\[\\]]"),$s=function(a){this.e_=a},Nu=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return N.__extends(i,a),i.prototype.n_=function(s){if(2!==s.s_)throw s.i_(1===s.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return s.We.push(s.path),null},i.prototype.isEqual=function(s){return s instanceof i},i}($s);function kh(a,i,s){return new tf({s_:3,r_:i.settings.r_,methodName:a.e_,o_:s},i.U,i.serializer,i.ignoreUndefinedProperties)}var pg=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return N.__extends(i,a),i.prototype.n_=function(s){return new Zr(s.path,new Le)},i.prototype.isEqual=function(s){return s instanceof i},i}($s),Lh=function(a){function i(s,c){var f=this;return(f=a.call(this,s)||this).a_=c,f}return N.__extends(i,a),i.prototype.n_=function(s){var c=kh(this,s,!0),f=this.a_.map(function(m){return fs(m,c)}),p=new Er(f);return new Zr(s.path,p)},i.prototype.isEqual=function(s){return this===s},i}($s),Xl=function(a){function i(s,c){var f=this;return(f=a.call(this,s)||this).a_=c,f}return N.__extends(i,a),i.prototype.n_=function(s){var c=kh(this,s,!0),f=this.a_.map(function(m){return fs(m,c)}),p=new tr(f);return new Zr(s.path,p)},i.prototype.isEqual=function(s){return this===s},i}($s),Ac=function(a){function i(s,c){var f=this;return(f=a.call(this,s)||this).c_=c,f}return N.__extends(i,a),i.prototype.n_=function(s){var c=new Os(s.serializer,da(s.serializer,this.c_));return new Zr(s.path,c)},i.prototype.isEqual=function(s){return this===s},i}($s),Jl=function(){function a(i,s){if(F("GeoPoint",arguments,2),te("GeoPoint","number",1,i),te("GeoPoint","number",2,s),!isFinite(i)||i<-90||i>90)throw new H(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(s)||s<-180||s>180)throw new H(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this.u_=i,this.h_=s}return Object.defineProperty(a.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(i){return this.u_===i.u_&&this.h_===i.h_},a.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},a.prototype.Y=function(i){return xe(this.u_,i.u_)||xe(this.h_,i.h_)},a}(),cs=function(a){this.l_=a},ef=/^__.*__$/,ls=function(a,i,s){this.__=a,this.f_=i,this.d_=s},gg=function(){function a(i,s,c){this.data=i,this.We=s,this.fieldTransforms=c}return a.prototype.w_=function(i,s){var c=[];return c.push(null!==this.We?new Dr(i,this.data,this.We,s):new Rt(i,this.data,s)),this.fieldTransforms.length>0&&c.push(new bi(i,this.fieldTransforms)),c},a}(),Vh=function(){function a(i,s,c){this.data=i,this.We=s,this.fieldTransforms=c}return a.prototype.w_=function(i,s){var c=[new Dr(i,this.data,this.We,s)];return this.fieldTransforms.length>0&&c.push(new bi(i,this.fieldTransforms)),c},a}();function Uh(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var tf=function(){function a(i,s,c,f,p,m){this.settings=i,this.U=s,this.serializer=c,this.ignoreUndefinedProperties=f,void 0===p&&this.m_(),this.fieldTransforms=p||[],this.We=m||[]}return Object.defineProperty(a.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),a.prototype.T_=function(i){return new a(Object.assign(Object.assign({},this.settings),i),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},a.prototype.E_=function(i){var s,c=null===(s=this.path)||void 0===s?void 0:s.child(i),f=this.T_({path:c,o_:!1});return f.I_(i),f},a.prototype.A_=function(i){var s,c=null===(s=this.path)||void 0===s?void 0:s.child(i),f=this.T_({path:c,o_:!1});return f.m_(),f},a.prototype.R_=function(i){return this.T_({path:void 0,o_:!0})},a.prototype.i_=function(i){return of(i,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},a.prototype.contains=function(i){return void 0!==this.We.find(function(s){return i.T(s)})||void 0!==this.fieldTransforms.find(function(s){return i.T(s.field)})},a.prototype.m_=function(){if(this.path)for(var i=0;i<this.path.length;i++)this.I_(this.path.get(i))},a.prototype.I_=function(i){if(0===i.length)throw this.i_("Document fields must not be empty");if(Uh(this.s_)&&ef.test(i))throw this.i_('Document fields cannot begin and end with "__"')},a}(),mg=function(){function a(i,s,c){this.U=i,this.ignoreUndefinedProperties=s,this.serializer=c||Ph(i)}return a.prototype.P_=function(i,s,c,f){return void 0===f&&(f=!1),new tf({s_:i,methodName:s,r_:c,path:x.P(),o_:!1,g_:f},this.U,this.serializer,this.ignoreUndefinedProperties)},a}();function qs(a,i,s,c,f,p){void 0===p&&(p={});var m=a.P_(p.merge||p.mergeFields?2:0,i,s,f);zs("Data must be an object, but it was:",m,c);var y,b,A=vg(c,m);if(p.merge)y=new ki(m.We),b=m.fieldTransforms;else if(p.mergeFields){for(var R=[],k=0,L=p.mergeFields;k<L.length;k++){var G=L[k],Z=void 0;if(G instanceof Fh)Z=G.t_;else{if("string"!=typeof G)throw ae();Z=rf(i,G,s)}if(!m.contains(Z))throw new H(U.INVALID_ARGUMENT,"Field '"+Z+"' is specified in your field mask but missing from your input data.");ka(R,Z)||R.push(Z)}y=new ki(R),b=m.fieldTransforms.filter(function(re){return y.Ye(re.field)})}else y=null,b=m.fieldTransforms;return new gg(new wn(A),y,b)}function Sc(a,i,s,c){var f=a.P_(1,i,s);zs("Data must be an object, but it was:",f,c);var p=[],m=new no;it(c,function(b,A){var R=rf(i,b,s),k=f.A_(R);if(A instanceof Nu||A instanceof cs&&A.l_ instanceof Nu)p.push(R);else{var L=fs(A,k);null!=L&&(p.push(R),m.set(R,L))}});var y=new ki(p);return new Vh(m.Xe(),y,f.fieldTransforms)}function nf(a,i,s,c,f,p){var m=a.P_(1,i,s),y=[Ru(i,c,s)],b=[f];if(p.length%2!=0)throw new H(U.INVALID_ARGUMENT,"Function "+i+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var A=0;A<p.length;A+=2)y.push(Ru(i,p[A])),b.push(p[A+1]);for(var R=[],k=new no,L=y.length-1;L>=0;--L)if(!ka(R,y[L])){var G=y[L],Z=b[L],re=m.A_(G);if(Z instanceof Nu||Z instanceof cs&&Z.l_ instanceof Nu)R.push(G);else{var Ae=fs(Z,re);null!=Ae&&(R.push(G),k.set(G,Ae))}}var De=new ki(R);return new Vh(k.Xe(),De,m.fieldTransforms)}function fe(a,i,s,c){return void 0===c&&(c=!1),fs(s,a.P_(c?4:3,i))}function fs(a,i){if(a instanceof cs&&(a=a.l_),Tc(a))return zs("Unsupported field value:",i,a),vg(a,i);if(a instanceof $s)return function(s,c){if(!Uh(c.s_))throw c.i_(s.e_+"() can only be used with update() and set()");if(!c.path)throw c.i_(s.e_+"() is not currently supported inside arrays");var f=s.n_(c);f&&c.fieldTransforms.push(f)}(a,i),null;if(i.path&&i.We.push(i.path),a instanceof Array){if(i.settings.o_&&4!==i.s_)throw i.i_("Nested arrays are not supported");return function(s,c){for(var f=[],p=0,m=0,y=s;m<y.length;m++){var b=fs(y[m],c.R_(p));null==b&&(b={nullValue:"NULL_VALUE"}),f.push(b),p++}return{arrayValue:{values:f}}}(a,i)}return function(s,c){if(null===s)return{nullValue:"NULL_VALUE"};if("number"==typeof s)return da(c.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){var f=kt.fromDate(s);return{timestampValue:pa(c.serializer,f)}}if(s instanceof kt){var p=new kt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pa(c.serializer,p)}}if(s instanceof Jl)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:oc(c.serializer,s.q)};if(s instanceof ls){var m=c.U,y=s.__;if(!y.isEqual(m))throw c.i_("Document reference is for database "+y.projectId+"/"+y.database+" but should be for database "+m.projectId+"/"+m.database);return{referenceValue:iu(s.__||c.U,s.f_.path)}}if(void 0===s&&c.ignoreUndefinedProperties)return null;throw c.i_("Unsupported field value: "+Ht(s))}(a,i)}function vg(a,i){var s={};return en(a)?i.path&&i.path.length>0&&i.We.push(i.path):it(a,function(c,f){var p=fs(f,i.E_(c));null!=p&&(s[c]=p)}),{mapValue:{fields:s}}}function Tc(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof kt||a instanceof Jl||a instanceof On||a instanceof ls||a instanceof $s)}function zs(a,i,s){if(!Tc(s)||!gt(s)){var c=Ht(s);throw i.i_("an object"===c?a+" a custom object":a+" "+c)}}function Ru(a,i,s){if(i instanceof Fh)return i.t_;if("string"==typeof i)return rf(a,i);throw of("Field path arguments must be of type string or FieldPath.",a,!1,void 0,s)}function rf(a,i,s){try{return function(f){if(f.search(dg)>=0)throw new H(U.INVALID_ARGUMENT,"Invalid field path ("+f+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(us.bind.apply(us,N.__spreadArrays([void 0],f.split("."))))}catch(p){throw new H(U.INVALID_ARGUMENT,"Invalid field path ("+f+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(i).t_}catch(f){throw of((c=f)instanceof Error?c.message:c.toString(),a,!1,void 0,s)}var c}function of(a,i,s,c,f){var p=c&&!c.m(),m=void 0!==f,y="Function "+i+"() called with invalid data";s&&(y+=" (via `toFirestore()`)");var b="";return(p||m)&&(b+=" (found",p&&(b+=" in field "+c),m&&(b+=" in document "+f),b+=")"),new H(U.INVALID_ARGUMENT,(y+=". ")+a+b)}function ka(a,i){return a.some(function(s){return s.isEqual(i)})}var $i=function(){function a(i){this.Ku=i,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return a.prototype.v_=function(i){return N.__awaiter(this,void 0,void 0,function(){var s,c=this;return N.__generator(this,function(f){switch(f.label){case 0:if(this.S_(),this.mutations.length>0)throw new H(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(p,m){return N.__awaiter(this,void 0,void 0,function(){var y,b,A,R,k,L;return N.__generator(this,function(G){switch(G.label){case 0:return y=le(p),b=eo(y.serializer)+"/documents",A={documents:m.map(function(Z){return Do(y.serializer,Z)})},[4,y.ku("BatchGetDocuments",b,A)];case 1:return R=G.sent(),k=new Map,R.forEach(function(Z){var Ae,De,re=(Ae=y.serializer,"found"in(De=Z)?function(Ve,st){ge(!!st.found);var _t=_n(Ve,st.found.name),Bt=tn(st.found.updateTime),Pt=new wn({mapValue:{fields:st.found.fields}});return new Ot(_t,Bt,Pt,{})}(Ae,De):"missing"in De?function(Ve,st){ge(!!st.missing),ge(!!st.readTime);var _t=_n(Ve,st.missing),Bt=tn(st.readTime);return new Lt(_t,Bt)}(Ae,De):ae());k.set(re.key.toString(),re)}),L=[],[2,(m.forEach(function(Z){var re=k.get(Z.toString());ge(!!re),L.push(re)}),L)]}})})}(this.Ku,i)];case 1:return[2,((s=f.sent()).forEach(function(p){p instanceof Lt||p instanceof Ot?c.D_(p):ae()}),s)]}})})},a.prototype.set=function(i,s){this.write(s.w_(i,this.Ge(i))),this.b_.add(i.toString())},a.prototype.update=function(i,s){try{this.write(s.w_(i,this.C_(i)))}catch(c){this.p_=c}this.b_.add(i.toString())},a.prototype.delete=function(i){this.write([new Li(i,this.Ge(i))]),this.b_.add(i.toString())},a.prototype.commit=function(){return N.__awaiter(this,void 0,void 0,function(){var i,s=this;return N.__generator(this,function(c){switch(c.label){case 0:if(this.S_(),this.p_)throw this.p_;return i=this.y_,this.mutations.forEach(function(f){i.delete(f.key.toString())}),i.forEach(function(f,p){var m=I.D(p);s.mutations.push(new cu(m,s.Ge(m)))}),[4,function(f,p){return N.__awaiter(this,void 0,void 0,function(){var m,y,b;return N.__generator(this,function(A){switch(A.label){case 0:return m=le(f),y=eo(m.serializer)+"/documents",b={writes:p.map(function(R){return Xo(m.serializer,R)})},[4,m.$u("Commit",y,b)];case 1:return A.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return c.sent(),this.V_=!0,[2]}})})},a.prototype.D_=function(i){var s;if(i instanceof Ot)s=i.version;else{if(!(i instanceof Lt))throw ae();s=$e.min()}var c=this.y_.get(i.key.toString());if(c){if(!s.isEqual(c))throw new H(U.ABORTED,"Document version changed between two reads.")}else this.y_.set(i.key.toString(),s)},a.prototype.Ge=function(i){var s=this.y_.get(i.toString());return!this.b_.has(i.toString())&&s?Vn.updateTime(s):Vn.ze()},a.prototype.C_=function(i){var s=this.y_.get(i.toString());if(!this.b_.has(i.toString())&&s){if(s.isEqual($e.min()))throw new H(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vn.updateTime(s)}return Vn.exists(!0)},a.prototype.write=function(i){this.S_(),this.mutations=this.mutations.concat(i)},a.prototype.S_=function(){},a}(),jh=function(){function a(i,s,c,f){this.cs=i,this.Ku=s,this.updateFunction=c,this.ls=f,this.N_=5,this.ys=new ba(this.cs,"transaction_retry")}return a.prototype.run=function(){this.F_()},a.prototype.F_=function(){var i=this;this.ys.gn(function(){return N.__awaiter(i,void 0,void 0,function(){var s,c,f=this;return N.__generator(this,function(p){return s=new $i(this.Ku),(c=this.x_(s))&&c.then(function(m){f.cs.ws(function(){return s.commit().then(function(){f.ls.resolve(m)}).catch(function(y){f.k_(y)})})}).catch(function(m){f.k_(m)}),[2]})})})},a.prototype.x_=function(i){try{var s=this.updateFunction(i);return!Ni(s)&&s.catch&&s.then?s:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(c){return this.ls.reject(c),null}},a.prototype.k_=function(i){var s=this;this.N_>0&&this.M_(i)?(this.N_-=1,this.cs.ws(function(){return s.F_(),Promise.resolve()})):this.ls.reject(i)},a.prototype.M_=function(i){if("FirebaseError"===i.name){var s=i.code;return"aborted"===s||"failed-precondition"===s||!An(s)}return!1},a}(),La=function(){function a(i,s){this.credentials=i,this.cs=s,this.clientId=Et.k(),this.O_=new He}return a.prototype.start=function(i,s,c,f){var p=this;this.L_(),this.bl=i;var m=new He,y=!1;return this.credentials.Hc(function(b){if(!y)return y=!0,W("FirestoreClient","Initializing. user=",b.uid),p.B_(s,c,f,b,m).then(p.O_.resolve,p.O_.reject);p.cs.Cs(function(){return function(A,R){return N.__awaiter(this,void 0,void 0,function(){var k,L;return N.__generator(this,function(G){switch(G.label){case 0:return(k=le(A)).cs.xs(),W("RemoteStore","RemoteStore received new credentials"),L=No(k),k.Yu.add(3),[4,Sa(k)];case 1:return G.sent(),L&&k.th.set("Unknown"),[4,k.Gu.Jl(R)];case 2:return G.sent(),k.Yu.delete(3),[4,js(k)];case 3:return G.sent(),[2]}})})}(p.ph,b)})}),this.cs.ws(function(){return p.O_.promise}),m.promise},a.prototype.enableNetwork=function(){var i=this;return this.L_(),this.cs.enqueue(function(){return i.persistence.tc(!0),(c=le(i.ph)).Yu.delete(0),js(c);var c})},a.prototype.B_=function(i,s,c,f,p){return N.__awaiter(this,void 0,void 0,function(){var m,y,b=this;return N.__generator(this,function(A){switch(A.label){case 0:return A.trys.push([0,3,,4]),[4,i.initialize(m={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:f,Dh:100,persistenceSettings:c})];case 1:return A.sent(),[4,s.initialize(i,m)];case 2:return A.sent(),this.persistence=i.persistence,this.Sh=i.Sh,this.ju=i.ju,this.ql=i.ql,this.Ku=s.Ku,this.ph=s.ph,this.fi=s.fi,this.q_=s.bh,this.q_.Us=og.bind(null,this.fi),this.q_.js=Iu.bind(null,this.fi),this.persistence.Za(function(){return N.__awaiter(b,void 0,void 0,function(){return N.__generator(this,function(R){switch(R.label){case 0:return[4,this.terminate()];case 1:return R.sent(),[2]}})})}),p.resolve(),[3,4];case 3:if(y=A.sent(),p.reject(y),!this.U_(y))throw y;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+y),this.B_(new xu,new Fa,{jl:!1},f,p))];case 4:return[2]}})})},a.prototype.U_=function(i){return"FirebaseError"===i.name?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code},a.prototype.L_=function(){if(this.cs.ps)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.")},a.prototype.disableNetwork=function(){var i=this;return this.L_(),this.cs.enqueue(function(){return i.persistence.tc(!1),function(s){return N.__awaiter(this,void 0,void 0,function(){var c;return N.__generator(this,function(f){switch(f.label){case 0:return(c=le(s)).Yu.add(0),[4,Sa(c)];case 1:return f.sent(),c.th.set("Offline"),[2]}})})}(i.ph)})},a.prototype.terminate=function(){var i=this;this.cs.Ds();var s=new He;return this.cs.bs(function(){return N.__awaiter(i,void 0,void 0,function(){var c,f;return N.__generator(this,function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Dh(this.ph)];case 1:return p.sent(),[4,this.Sh.Di()];case 2:return p.sent(),[4,this.persistence.Di()];case 3:return p.sent(),this.credentials.Yc(),s.resolve(),[3,5];case 4:return c=p.sent(),f=Y(c,"Failed to shutdown persistence"),s.reject(f),[3,5];case 5:return[2]}})})}),s.promise},a.prototype.waitForPendingWrites=function(){var i=this;this.L_();var s=new He;return this.cs.ws(function(){return function(c,f){return N.__awaiter(this,void 0,void 0,function(){var p,m,y,b,A;return N.__generator(this,function(R){switch(R.label){case 0:No((p=le(c)).ph)||W("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),R.label=1;case 1:return R.trys.push([1,3,,4]),[4,(k=p.ju,L=le(k),L.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(G){return L.Sr.qo(G)}))];case 2:return-1===(m=R.sent())?[2,void f.resolve()]:((y=p.Lh.get(m)||[]).push(f),p.Lh.set(m,y),[3,4]);case 3:return b=R.sent(),A=Y(b,"Initialization of waitForPendingWrites() operation failed"),f.reject(A),[3,4];case 4:return[2]}var k,L})})}(i.fi,s)}),s.promise},a.prototype.listen=function(i,s,c){var f=this;this.L_();var p=new Oo(c),m=new Fs(i,p,s);return this.cs.ws(function(){return yt(f.q_,m)}),function(){p.Zl(),f.cs.ws(function(){return Un(f.q_,m)})}},a.prototype.Q_=function(i){return N.__awaiter(this,void 0,void 0,function(){var s,c=this;return N.__generator(this,function(f){switch(f.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return f.sent(),s=new He,[2,(this.cs.ws(function(){return function(p,m,y){return N.__awaiter(this,void 0,void 0,function(){var b,A,R;return N.__generator(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,(L=p,G=m,Z=le(L),Z.persistence.runTransaction("read document","readonly",function(re){return Z.Cc.Cr(re,G)}))];case 1:return(b=k.sent())instanceof Ot?y.resolve(b):b instanceof Lt?y.resolve(null):y.reject(new H(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return A=k.sent(),R=Y(A,"Failed to get document '"+m+" from cache"),y.reject(R),[3,3];case 3:return[2]}var L,G,Z})})}(c.ju,i,s)}),s.promise)]}})})},a.prototype.W_=function(i,s){return void 0===s&&(s={}),N.__awaiter(this,void 0,void 0,function(){var c,f=this;return N.__generator(this,function(p){switch(p.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return p.sent(),c=new He,[2,(this.cs.ws(function(){return m=f.q_,y=f.cs,b=i,A=s,R=c,k=new Oo({next:function(G){y.ws(function(){return Un(m,L)});var Z=G.docs.has(b);!Z&&G.fromCache?R.reject(new H(U.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&G.fromCache&&A&&"server"===A.source?R.reject(new H(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):R.resolve(G)},error:function(G){return R.reject(G)}}),L=new Fs(bn(b.path),k,{includeMetadataChanges:!0,Xs:!0}),yt(m,L);var m,y,b,A,R,k,L}),c.promise)]}})})},a.prototype.j_=function(i){return N.__awaiter(this,void 0,void 0,function(){var s,c=this;return N.__generator(this,function(f){switch(f.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return f.sent(),s=new He,[2,(this.cs.ws(function(){return function(p,m,y){return N.__awaiter(this,void 0,void 0,function(){var b,A,R,k,L,G;return N.__generator(this,function(Z){switch(Z.label){case 0:return Z.trys.push([0,2,,3]),[4,nn(p,m,!0)];case 1:return b=Z.sent(),A=new Kl(m,b.Fc),R=A.wh(b.documents),k=A.yr(R,!1),y.resolve(k.snapshot),[3,3];case 2:return L=Z.sent(),G=Y(L,"Failed to execute query '"+m+" against cache"),y.reject(G),[3,3];case 3:return[2]}})})}(c.ju,i,s)}),s.promise)]}})})},a.prototype.K_=function(i,s){return void 0===s&&(s={}),N.__awaiter(this,void 0,void 0,function(){var c,f=this;return N.__generator(this,function(p){switch(p.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return p.sent(),c=new He,[2,(this.cs.ws(function(){return m=f.q_,y=f.cs,b=i,A=s,R=c,k=new Oo({next:function(G){y.ws(function(){return Un(m,L)}),G.fromCache&&"server"===A.source?R.reject(new H(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):R.resolve(G)},error:function(G){return R.reject(G)}}),L=new Fs(b,k,{includeMetadataChanges:!0,Xs:!0}),yt(m,L);var m,y,b,A,R,k,L}),c.promise)]}})})},a.prototype.write=function(i){var s=this;this.L_();var c=new He;return this.cs.ws(function(){return function(f,p,m){return N.__awaiter(this,void 0,void 0,function(){var y,b,A,R;return N.__generator(this,function(k){switch(k.label){case 0:y=xh(f),k.label=1;case 1:return k.trys.push([1,5,,6]),[4,(L=y.ju,G=p,re=le(L),Ae=kt.now(),De=G.reduce(function(Ve,st){return Ve.add(st.key)},$t()),re.persistence.runTransaction("Locally write mutations","readwrite",function(Ve){return re.Cc.kr(Ve,De).next(function(st){Z=st;for(var _t=[],Bt=0,Pt=G;Bt<Pt.length;Bt++){var Br=Pt[Bt],ho=Al(Br,Z.get(Br.key));null!=ho&&_t.push(new Dr(Br.key,ho,lu(ho.proto.mapValue),Vn.exists(!0)))}return re.Sr.ko(Ve,Ae,_t,G)})}).then(function(Ve){var st=Ve.lr(Z);return{batchId:Ve.batchId,wr:st}}))];case 2:return b=k.sent(),y.Sh.xi(b.batchId),function(L,G,Z){var re=L.Oh[L.currentUser.ti()];re||(re=new on(xe)),re=re.ot(G,Z),L.Oh[L.currentUser.ti()]=re}(y,b.batchId,m),[4,Ai(y,b.wr)];case 3:return k.sent(),[4,Eu(y.ph)];case 4:return k.sent(),[3,6];case 5:return A=k.sent(),R=Y(A,"Failed to persist write"),m.reject(R),[3,6];case 6:return[2]}var L,G,Z,re,Ae,De})})}(s.fi,i,c)}),c.promise},a.prototype.U=function(){return this.bl.U},a.prototype.G_=function(i){var s=this;this.L_();var c=new Oo(i);return this.cs.ws(function(){return N.__awaiter(s,void 0,void 0,function(){return N.__generator(this,function(f){return[2,(p=this.q_,m=c,le(p).qs.add(m),void m.next())];var p,m})})}),function(){c.Zl(),s.cs.ws(function(){return N.__awaiter(s,void 0,void 0,function(){return N.__generator(this,function(f){return[2,(p=this.q_,m=c,void le(p).qs.delete(m))];var p,m})})})}},Object.defineProperty(a.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),a.prototype.transaction=function(i){var s=this;this.L_();var c=new He;return this.cs.ws(function(){return new jh(s.cs,s.Ku,i,c).run(),Promise.resolve()}),c.promise},a}();function Ou(a){return function(i,s){if("object"!=typeof i||null===i)return!1;for(var c=i,f=0,p=["next","error","complete"];f<p.length;f++){var m=p[f];if(m in c&&"function"==typeof c[m])return!0}return!1}(a)}var sf=function(){function a(i,s,c,f,p){this.U=i,this.timestampsInSnapshots=s,this.H_=c,this.Y_=f,this.J_=p}return a.prototype.X_=function(i){switch(Yr(i)){case 0:return null;case 1:return i.booleanValue;case 2:return qe(i.integerValue||i.doubleValue);case 3:return this.Z_(i.timestampValue);case 4:return this.tf(i);case 5:return i.stringValue;case 6:return this.J_(Nr(i.bytesValue));case 7:return this.ef(i.referenceValue);case 8:return this.nf(i.geoPointValue);case 9:return this.sf(i.arrayValue);case 10:return this.if(i.mapValue);default:throw ae()}},a.prototype.if=function(i){var s=this,c={};return it(i.fields||{},function(f,p){c[f]=s.X_(p)}),c},a.prototype.nf=function(i){return new Jl(qe(i.latitude),qe(i.longitude))},a.prototype.sf=function(i){var s=this;return(i.values||[]).map(function(c){return s.X_(c)})},a.prototype.tf=function(i){switch(this.H_){case"previous":var s=ru(i);return null==s?null:this.X_(s);case"estimate":return this.Z_(Yo(i));default:return null}},a.prototype.Z_=function(i){var s=xr(i),c=new kt(s.seconds,s.nanos);return this.timestampsInSnapshots?c:c.toDate()},a.prototype.ef=function(i){var s=Ge.g(i);ge(ya(s));var c=new zo(s.get(1),s.get(3)),f=new I(s.u(5));return c.isEqual(this.U)||ye("Document "+f+" contains a document reference within a different database ("+c.projectId+"/"+c.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(f)},a}(),Mc=Tn.ho,Pu=function(){function a(i){var s,c,f,p,m;if(void 0===i.host){if(void 0!==i.ssl)throw new H(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Q("settings","non-empty string","host",i.host),this.host=i.host,we("settings","boolean","ssl",i.ssl),this.ssl=null===(s=i.ssl)||void 0===s||s;if(mt("settings",i,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),we("settings","object","credentials",i.credentials),this.credentials=i.credentials,we("settings","boolean","timestampsInSnapshots",i.timestampsInSnapshots),we("settings","boolean","ignoreUndefinedProperties",i.ignoreUndefinedProperties),!0===i.timestampsInSnapshots?ye("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===i.timestampsInSnapshots&&ye("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(c=i.timestampsInSnapshots)||void 0===c||c,this.ignoreUndefinedProperties=null!==(f=i.ignoreUndefinedProperties)&&void 0!==f&&f,we("settings","number","cacheSizeBytes",i.cacheSizeBytes),void 0===i.cacheSizeBytes)this.cacheSizeBytes=Tn._o;else{if(i.cacheSizeBytes!==Mc&&i.cacheSizeBytes<Tn.lo)throw new H(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Tn.lo);this.cacheSizeBytes=i.cacheSizeBytes}we("settings","boolean","experimentalForceLongPolling",i.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(p=i.experimentalForceLongPolling)&&void 0!==p&&p,we("settings","boolean","experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(m=i.experimentalAutoDetectLongPolling)&&void 0!==m&&m,function(y,b,A,R){if(!0===b&&!0===R)throw new H(U.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,i.experimentalForceLongPolling,0,i.experimentalAutoDetectLongPolling)}return a.prototype.isEqual=function(i){return this.host===i.host&&this.ssl===i.ssl&&this.timestampsInSnapshots===i.timestampsInSnapshots&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties},a}(),xc=function(){function a(i,s,c,f){var p=this;if(void 0===c&&(c=new xu),void 0===f&&(f=new Fa),this.rf=c,this.af=f,this.cf=null,this.uf=new V,this.INTERNAL={delete:function(){return N.__awaiter(p,void 0,void 0,function(){return N.__generator(this,function(b){switch(b.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return b.sent(),[2]}})})}},"object"==typeof i.options){var m=i;this.cf=m,this.__=a._f(m),this.ff=m.name,this.df=new Dc(s)}else{var y=i;if(!y.projectId)throw new H(U.INVALID_ARGUMENT,"Must provide projectId");this.__=new zo(y.projectId,y.database),this.ff="[DEFAULT]",this.df=new vu}this.wf=new Pu({})}return Object.defineProperty(a.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new mg(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),a.prototype.settings=function(i){F("Firestore.settings",arguments,1),te("Firestore.settings","object",1,i),i.merge&&delete(i=Object.assign(Object.assign({},this.wf),i)).merge;var s=new Pu(i);if(this.lf&&!this.wf.isEqual(s))throw new H(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=s,void 0!==s.credentials&&(this.df=function(c){if(!c)return new vu;switch(c.type){case"gapi":var f=c.client;return ge(!("object"!=typeof f||null===f||!f.auth||!f.auth.getAuthHeaderValueForFirstParty)),new bh(f,c.sessionIndex||"0");case"provider":return c.client;default:throw new H(U.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(s.credentials))},a.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},a.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},a.prototype.enablePersistence=function(i){var s,c;if(this.lf)throw new H(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var f=!1,p=!1;if(i&&(void 0!==i.experimentalTabSynchronization&&ye("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),f=null!==(c=null!==(s=i.synchronizeTabs)&&void 0!==s?s:i.experimentalTabSynchronization)&&void 0!==c&&c,p=!!i.experimentalForceOwningTab&&i.experimentalForceOwningTab,f&&p))throw new H(U.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:f,ka:p})},a.prototype.clearPersistence=function(){return N.__awaiter(this,void 0,void 0,function(){var i,s=this;return N.__generator(this,function(c){if(void 0!==this.lf&&!this.lf.z_)throw new H(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return i=new He,[2,(this.uf.bs(function(){return N.__awaiter(s,void 0,void 0,function(){var f;return N.__generator(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return p.sent(),i.resolve(),[3,3];case 2:return f=p.sent(),i.reject(f),[3,3];case 3:return[2]}})})}),i.promise)]})})},a.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(a.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),a.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},a.prototype.onSnapshotsInSync=function(i){return this.hf(),Ou(i)?this.lf.G_(i):(te("Firestore.onSnapshotsInSync","function",1,i),this.lf.G_({next:i}))},a.prototype.hf=function(){return this.lf||this.Ef(new xu,new Fa,{jl:!1}),this.lf},a.prototype.Af=function(){return new vi(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},a.prototype.Ef=function(i,s,c){var f=this.Af();return this.lf=new La(this.df,this.uf),this.lf.start(f,i,s,c)},a._f=function(i){if(!Object.prototype.hasOwnProperty.call(i.options,"projectId"))throw new H(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var c=i.options.projectId;if(!c||"string"!=typeof c)throw new H(U.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new zo(c)},Object.defineProperty(a.prototype,"app",{get:function(){if(!this.cf)throw new H(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),a.prototype.collection=function(i){return F("Firestore.collection",arguments,1),te("Firestore.collection","non-empty string",1,i),this.hf(),new Po(Ge.g(i),this,null)},a.prototype.doc=function(i){return F("Firestore.doc",arguments,1),te("Firestore.doc","non-empty string",1,i),this.hf(),ci.Rf(Ge.g(i),this,null)},a.prototype.collectionGroup=function(i){if(F("Firestore.collectionGroup",arguments,1),te("Firestore.collectionGroup","non-empty string",1,i),i.indexOf("/")>=0)throw new H(U.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new Qs((s=i,new Ei(Ge.P(),s)),this,null);var s},a.prototype.runTransaction=function(i){var s=this;return F("Firestore.runTransaction",arguments,1),te("Firestore.runTransaction","function",1,i),this.hf().transaction(function(c){return i(new Bh(s,c))})},a.prototype.batch=function(){return this.hf(),new Hh(this)},Object.defineProperty(a,"logLevel",{get:function(){switch(me()){case Ue.LogLevel.DEBUG:return"debug";case Ue.LogLevel.ERROR:return"error";case Ue.LogLevel.SILENT:return"silent";case Ue.LogLevel.WARN:return"warn";case Ue.LogLevel.INFO:return"info";case Ue.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),a.setLogLevel=function(i){F("Firestore.setLogLevel",arguments,1),ie("setLogLevel",["debug","error","silent","warn","info","verbose"],1,i),Me.setLogLevel(i)},a.prototype.gf=function(){return this.wf.timestampsInSnapshots},a.prototype.Pf=function(){return this.wf},a}(),Bh=function(){function a(i,s){this.yf=i,this.Vf=s}return a.prototype.get=function(i){var s=this;F("Transaction.get",arguments,1);var c=Ti("Transaction.get",i,this.yf);return this.Vf.v_([c.f_]).then(function(f){if(!f||1!==f.length)return ae();var p=f[0];if(p instanceof Lt)return new Ws(s.yf,c.f_,null,!1,!1,c.d_);if(p instanceof Ot)return new Ws(s.yf,c.f_,p,!1,!1,c.d_);throw ae()})},a.prototype.set=function(i,s,c){z("Transaction.set",arguments,2,3);var f=Ti("Transaction.set",i,this.yf);c=af("Transaction.set",c);var p=Nc(f.d_,s,c),m=qs(this.yf.mf,"Transaction.set",f.f_,p,null!==f.d_,c);return this.Vf.set(f.f_,m),this},a.prototype.update=function(i,s,c){for(var f,p,m=[],y=3;y<arguments.length;y++)m[y-3]=arguments[y];return"string"==typeof s||s instanceof us?(M("Transaction.update",arguments,3),f=Ti("Transaction.update",i,this.yf),p=nf(this.yf.mf,"Transaction.update",f.f_,s,c,m)):(F("Transaction.update",arguments,2),f=Ti("Transaction.update",i,this.yf),p=Sc(this.yf.mf,"Transaction.update",f.f_,s)),this.Vf.update(f.f_,p),this},a.prototype.delete=function(i){F("Transaction.delete",arguments,1);var s=Ti("Transaction.delete",i,this.yf);return this.Vf.delete(s.f_),this},a}(),Hh=function(){function a(i){this.yf=i,this.pf=[],this.bf=!1}return a.prototype.set=function(i,s,c){z("WriteBatch.set",arguments,2,3),this.vf();var f=Ti("WriteBatch.set",i,this.yf);c=af("WriteBatch.set",c);var p=Nc(f.d_,s,c),m=qs(this.yf.mf,"WriteBatch.set",f.f_,p,null!==f.d_,c);return this.pf=this.pf.concat(m.w_(f.f_,Vn.ze())),this},a.prototype.update=function(i,s,c){for(var f,p,m=[],y=3;y<arguments.length;y++)m[y-3]=arguments[y];return this.vf(),"string"==typeof s||s instanceof us?(M("WriteBatch.update",arguments,3),f=Ti("WriteBatch.update",i,this.yf),p=nf(this.yf.mf,"WriteBatch.update",f.f_,s,c,m)):(F("WriteBatch.update",arguments,2),f=Ti("WriteBatch.update",i,this.yf),p=Sc(this.yf.mf,"WriteBatch.update",f.f_,s)),this.pf=this.pf.concat(p.w_(f.f_,Vn.exists(!0))),this},a.prototype.delete=function(i){F("WriteBatch.delete",arguments,1),this.vf();var s=Ti("WriteBatch.delete",i,this.yf);return this.pf=this.pf.concat(new Li(s.f_,Vn.ze())),this},a.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},a.prototype.vf=function(){if(this.bf)throw new H(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},a}(),ci=function(a){function i(s,c,f){var p=this;return(p=a.call(this,c.__,s,f)||this).f_=s,p.firestore=c,p.d_=f,p.lf=p.firestore.hf(),p}return N.__extends(i,a),i.Rf=function(s,c,f){if(s.length%2!=0)throw new H(U.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s.R()+" has "+s.length);return new i(new I(s),c,f)},Object.defineProperty(i.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new Po(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),i.prototype.collection=function(s){if(F("DocumentReference.collection",arguments,1),te("DocumentReference.collection","non-empty string",1,s),!s)throw new H(U.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var c=Ge.g(s);return new Po(this.f_.path.child(c),this.firestore,null)},i.prototype.isEqual=function(s){if(!(s instanceof i))throw Rn("isEqual","DocumentReference",1,s);return this.firestore===s.firestore&&this.f_.isEqual(s.f_)&&this.d_===s.d_},i.prototype.set=function(s,c){z("DocumentReference.set",arguments,1,2),c=af("DocumentReference.set",c);var f=Nc(this.d_,s,c),p=qs(this.firestore.mf,"DocumentReference.set",this.f_,f,null!==this.d_,c);return this.lf.write(p.w_(this.f_,Vn.ze()))},i.prototype.update=function(s,c){for(var f,p=[],m=2;m<arguments.length;m++)p[m-2]=arguments[m];return"string"==typeof s||s instanceof us?(M("DocumentReference.update",arguments,2),f=nf(this.firestore.mf,"DocumentReference.update",this.f_,s,c,p)):(F("DocumentReference.update",arguments,1),f=Sc(this.firestore.mf,"DocumentReference.update",this.f_,s)),this.lf.write(f.w_(this.f_,Vn.exists(!0)))},i.prototype.delete=function(){return F("DocumentReference.delete",arguments,0),this.lf.write([new Li(this.f_,Vn.ze())])},i.prototype.onSnapshot=function(){for(var s,c,f,p=this,m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];z("DocumentReference.onSnapshot",arguments,1,4);var b={includeMetadataChanges:!1},A=0;"object"!=typeof m[A]||Ou(m[A])||(mt("DocumentReference.onSnapshot",b=m[A],["includeMetadataChanges"]),we("DocumentReference.onSnapshot","boolean","includeMetadataChanges",b.includeMetadataChanges),A++);var R={includeMetadataChanges:b.includeMetadataChanges};if(Ou(m[A])){var k=m[A];m[A]=null===(s=k.next)||void 0===s?void 0:s.bind(k),m[A+1]=null===(c=k.error)||void 0===c?void 0:c.bind(k),m[A+2]=null===(f=k.complete)||void 0===f?void 0:f.bind(k)}else te("DocumentReference.onSnapshot","function",A,m[A]),ve("DocumentReference.onSnapshot","function",A+1,m[A+1]),ve("DocumentReference.onSnapshot","function",A+2,m[A+2]);var L={next:function(G){m[A]&&m[A](p.Sf(G))},error:m[A+1],complete:m[A+2]};return this.lf.listen(bn(this.f_.path),R,L)},i.prototype.get=function(s){var c=this;z("DocumentReference.get",arguments,0,1),wg("DocumentReference.get",s);var f=this.firestore.hf();return s&&"cache"===s.source?f.Q_(this.f_).then(function(p){return new Ws(c.firestore,c.f_,p,!0,p instanceof Ot&&p.Je,c.d_)}):f.W_(this.f_,s).then(function(p){return c.Sf(p)})},i.prototype.withConverter=function(s){return new i(this.f_,this.firestore,s)},i.prototype.Sf=function(s){var c=s.docs.get(this.f_);return new Ws(this.firestore,this.f_,c,s.fromCache,s.hasPendingWrites,this.d_)},i}(ls),Va=function(){function a(i,s){this.hasPendingWrites=i,this.fromCache=s}return a.prototype.isEqual=function(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache},a}(),Ws=function(){function a(i,s,c,f,p,m){this.yf=i,this.f_=s,this.Df=c,this.Cf=f,this.Nf=p,this.d_=m}return a.prototype.data=function(i){var s=this;if(z("DocumentSnapshot.data",arguments,0,1),i=Qh("DocumentSnapshot.data",i),this.Df){if(this.d_){var c=new Gh(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(c,i)}return new sf(this.yf.__,this.yf.gf(),i.serverTimestamps||"none",function(f){return new ci(f,s.yf,null)},function(f){return new Fn(f)}).X_(this.Df.rn())}},a.prototype.get=function(i,s){var c=this;if(z("DocumentSnapshot.get",arguments,1,2),s=Qh("DocumentSnapshot.get",s),this.Df){var f=this.Df.data().field(Ru("DocumentSnapshot.get",i,this.f_));if(null!==f)return new sf(this.yf.__,this.yf.gf(),s.serverTimestamps||"none",function(p){return new ci(p,c.yf,c.d_)},function(p){return new Fn(p)}).X_(f)}},Object.defineProperty(a.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ref",{get:function(){return new ci(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return new Va(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(i){if(!(i instanceof a))throw Rn("isEqual","DocumentSnapshot",1,i);return this.yf===i.yf&&this.Cf===i.Cf&&this.f_.isEqual(i.f_)&&(null===this.Df?null===i.Df:this.Df.isEqual(i.Df))&&this.d_===i.d_},a}(),Gh=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return N.__extends(i,a),i.prototype.data=function(s){return a.prototype.data.call(this,s)},i}(Ws);function $h(a,i,s,c,f,p,m){var y;if(f.p()){if("array-contains"===p||"array-contains-any"===p)throw new H(U.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if("in"===p||"not-in"===p){qh(m,p);for(var b=[],A=0,R=m;A<R.length;A++)b.push(_g(c,a,R[A]));y={arrayValue:{values:b}}}else y=_g(c,a,m)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||qh(m,p),y=fe(s,i,m,"in"===p||"not-in"===p);var L=Yt.create(f,p,y);return function(G,Z){if(Z.hn()){var re=nr(G);if(null!==re&&!re.isEqual(Z.field))throw new H(U.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+re.toString()+"' and '"+Z.field.toString()+"'");var Ae=Fr(G);null!==Ae&&zh(0,Z.field,Ae)}var De=function(Ve,st){for(var _t=0,Bt=Ve.filters;_t<Bt.length;_t++){var Pt=Bt[_t];if(st.indexOf(Pt.op)>=0)return Pt.op}return null}(G,function(Ve){switch(Ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Z.op));if(null!==De)throw new H(U.INVALID_ARGUMENT,De===Z.op?"Invalid query. You cannot use more than one '"+Z.op.toString()+"' filter.":"Invalid query. You cannot use '"+Z.op.toString()+"' filters with '"+De.toString()+"' filters.")}(a,L),L}function yg(a,i,s){if(null!==a.startAt)throw new H(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new H(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new ti(i,s);return function(f,p){if(null===Fr(f)){var m=nr(f);null!==m&&zh(0,m,p.field)}}(a,c),c}function _g(a,i,s){if("string"==typeof s){if(""===s)throw new H(U.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cr(i)&&-1!==s.indexOf("/"))throw new H(U.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+s+"' contains a '/' character.");var c=i.path.child(Ge.g(s));if(!I.F(c))throw new H(U.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+c+"' is not because it has an odd number of segments ("+c.length+").");return St(a,new I(c))}if(s instanceof ls)return St(a,s.f_);throw new H(U.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ht(s)+".")}function qh(a,i){if(!Array.isArray(a)||0===a.length)throw new H(U.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+i.toString()+"' filters.");if(a.length>10)throw new H(U.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===i||"array-contains-any"===i){if(a.indexOf(null)>=0)throw new H(U.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters cannot contain 'null' in the value array.");if(a.filter(function(s){return Number.isNaN(s)}).length>0)throw new H(U.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters cannot contain 'NaN' in the value array.")}}function zh(a,i,s){if(!s.isEqual(i))throw new H(U.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+i.toString()+"' and so you must also use '"+i.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+s.toString()+"' instead.")}function Wh(a){if(Pr(a)&&0===a.on.length)throw new H(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qs=function(){function a(i,s,c){this.Ff=i,this.firestore=s,this.d_=c}return a.prototype.where=function(i,s,c){F("Query.where",arguments,3),Gt("Query.where",3,c);var y,A,f=ie("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,s),p=Ru("Query.where",i),m=$h(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,p,f,c);return new a((A=(y=this.Ff).filters.concat([m]),new Ei(y.path,y.collectionGroup,y.on.slice(),A,y.limit,y.an,y.startAt,y.endAt)),this.firestore,this.d_)},a.prototype.orderBy=function(i,s){var c;if(z("Query.orderBy",arguments,1,2),ve("Query.orderBy","non-empty string",2,s),void 0===s||"asc"===s)c="asc";else{if("desc"!==s)throw new H(U.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+s+"', expected 'asc' or 'desc'.");c="desc"}var m,b,f=Ru("Query.orderBy",i),p=yg(this.Ff,f,c);return new a((b=(m=this.Ff).on.concat([p]),new Ei(m.path,m.collectionGroup,b,m.filters.slice(),m.limit,m.an,m.startAt,m.endAt)),this.firestore,this.d_)},a.prototype.limit=function(i){return F("Query.limit",arguments,1),te("Query.limit","number",1,i),ke("Query.limit",1,i),new a(Vi(this.Ff,i,"F"),this.firestore,this.d_)},a.prototype.limitToLast=function(i){return F("Query.limitToLast",arguments,1),te("Query.limitToLast","number",1,i),ke("Query.limitToLast",1,i),new a(Vi(this.Ff,i,"L"),this.firestore,this.d_)},a.prototype.startAt=function(i){for(var s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];M("Query.startAt",arguments,1);var f=this.xf("Query.startAt",i,s,!0);return new a(Ui(this.Ff,f),this.firestore,this.d_)},a.prototype.startAfter=function(i){for(var s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];M("Query.startAfter",arguments,1);var f=this.xf("Query.startAfter",i,s,!1);return new a(Ui(this.Ff,f),this.firestore,this.d_)},a.prototype.endBefore=function(i){for(var s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];M("Query.endBefore",arguments,1);var f=this.xf("Query.endBefore",i,s,!0);return new a(En(this.Ff,f),this.firestore,this.d_)},a.prototype.endAt=function(i){for(var s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];M("Query.endAt",arguments,1);var f=this.xf("Query.endAt",i,s,!1);return new a(En(this.Ff,f),this.firestore,this.d_)},a.prototype.isEqual=function(i){if(!(i instanceof a))throw Rn("isEqual","Query",1,i);return this.firestore===i.firestore&&ji(this.Ff,i.Ff)&&this.d_===i.d_},a.prototype.withConverter=function(i){return new a(this.Ff,this.firestore,i)},a.prototype.xf=function(i,s,c,f){if(Gt(i,1,s),s instanceof Ws)return F(i,N.__spreadArrays([s],c),1),function(m,y,b,A,R){if(!A)throw new H(U.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+b+"().");for(var k=[],L=0,G=ro(m);L<G.length;L++){var Z=G[L];if(Z.field.p())k.push(St(y,A.key));else{var re=A.field(Z.field);if(Eo(re))throw new H(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Z.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===re){var Ae=Z.field.R();throw new H(U.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Ae+"' (used as the orderBy) does not exist.")}k.push(re)}}return new ei(k,R)}(this.Ff,this.firestore.__,i,s.Df,f);var p=[s].concat(c);return function(m,y,b,A,R,k){var L=m.on;if(R.length>L.length)throw new H(U.INVALID_ARGUMENT,"Too many arguments provided to "+A+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var G=[],Z=0;Z<R.length;Z++){var re=R[Z];if(L[Z].field.p()){if("string"!=typeof re)throw new H(U.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+A+"(), but got a "+typeof re);if(!Cr(m)&&-1!==re.indexOf("/"))throw new H(U.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+A+"() must be a plain document ID, but '"+re+"' contains a slash.");var Ae=m.path.child(Ge.g(re));if(!I.F(Ae))throw new H(U.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+A+"() must result in a valid document path, but '"+Ae+"' is not because it contains an odd number of segments.");var De=new I(Ae);G.push(St(y,De))}else{var Ve=fe(b,A,re);G.push(Ve)}}return new ei(G,k)}(this.Ff,this.firestore.__,this.firestore.mf,i,p,f)},a.prototype.onSnapshot=function(){for(var i,s,c,f=this,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];z("Query.onSnapshot",arguments,1,4);var y={},b=0;if("object"!=typeof p[b]||Ou(p[b])||(mt("Query.onSnapshot",y=p[b],["includeMetadataChanges"]),we("Query.onSnapshot","boolean","includeMetadataChanges",y.includeMetadataChanges),b++),Ou(p[b])){var A=p[b];p[b]=null===(i=A.next)||void 0===i?void 0:i.bind(A),p[b+1]=null===(s=A.error)||void 0===s?void 0:s.bind(A),p[b+2]=null===(c=A.complete)||void 0===c?void 0:c.bind(A)}else te("Query.onSnapshot","function",b,p[b]),ve("Query.onSnapshot","function",b+1,p[b+1]),ve("Query.onSnapshot","function",b+2,p[b+2]);var R={next:function(k){p[b]&&p[b](new Fu(f.firestore,f.Ff,k,f.d_))},error:p[b+1],complete:p[b+2]};return Wh(this.Ff),this.firestore.hf().listen(this.Ff,y,R)},a.prototype.get=function(i){var s=this;z("Query.get",arguments,0,1),wg("Query.get",i),Wh(this.Ff);var c=this.firestore.hf();return(i&&"cache"===i.source?c.j_(this.Ff):c.K_(this.Ff,i)).then(function(f){return new Fu(s.firestore,s.Ff,f,s.d_)})},a}(),Fu=function(){function a(i,s,c,f){this.yf=i,this.$f=s,this.kf=c,this.d_=f,this.Mf=null,this.Of=null,this.metadata=new Va(c.hasPendingWrites,c.fromCache)}return Object.defineProperty(a.prototype,"docs",{get:function(){var i=[];return this.forEach(function(s){return i.push(s)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(i,s){var c=this;z("QuerySnapshot.forEach",arguments,1,2),te("QuerySnapshot.forEach","function",1,i),this.kf.docs.forEach(function(f){i.call(s,c.Lf(f,c.metadata.fromCache,c.kf.Wt.has(f.key)))})},Object.defineProperty(a.prototype,"query",{get:function(){return new Qs(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),a.prototype.docChanges=function(i){i&&(mt("QuerySnapshot.docChanges",i,["includeMetadataChanges"]),we("QuerySnapshot.docChanges","boolean","includeMetadataChanges",i.includeMetadataChanges));var s=!(!i||!i.includeMetadataChanges);if(s&&this.kf.Kt)throw new H(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===s||(this.Mf=function(c,f,p){if(c.Qt.m()){var m=0;return c.docChanges.map(function(b){return{type:"added",doc:p(b.doc,c.fromCache,c.Wt.has(b.doc.key)),oldIndex:-1,newIndex:m++}})}var y=c.Qt;return c.docChanges.filter(function(b){return f||3!==b.type}).map(function(b){var A=p(b.doc,c.fromCache,c.Wt.has(b.doc.key)),R=-1,k=-1;return 0!==b.type&&(R=y.indexOf(b.doc.key),y=y.delete(b.doc.key)),1!==b.type&&(k=(y=y.add(b.doc)).indexOf(b.doc.key)),{type:uf(b.type),doc:A,oldIndex:R,newIndex:k}})}(this.kf,s,this.Lf.bind(this)),this.Of=s),this.Mf},a.prototype.isEqual=function(i){if(!(i instanceof a))throw Rn("isEqual","QuerySnapshot",1,i);return this.yf===i.yf&&ji(this.$f,i.$f)&&this.kf.isEqual(i.kf)&&this.d_===i.d_},a.prototype.Lf=function(i,s,c){return new Gh(this.yf,i.key,i,s,c,this.d_)},a}(),Po=function(a){function i(s,c,f){var p=this;if((p=a.call(this,bn(s),c,f)||this).Bf=s,s.length%2!=1)throw new H(U.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+s.R()+" has "+s.length);return p}return N.__extends(i,a),Object.defineProperty(i.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var s=this.Ff.path.h();return s.m()?null:new ci(new I(s),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),i.prototype.doc=function(s){z("CollectionReference.doc",arguments,0,1),0===arguments.length&&(s=Et.k()),te("CollectionReference.doc","non-empty string",1,s);var c=Ge.g(s);return ci.Rf(this.Ff.path.child(c),this.firestore,this.d_)},i.prototype.add=function(s){F("CollectionReference.add",arguments,1);var c=this.d_?this.d_.toFirestore(s):s;te("CollectionReference.add","object",1,c);var f=this.doc();return new ci(f.f_,this.firestore,null).set(c).then(function(){return f})},i.prototype.withConverter=function(s){return new i(this.Bf,this.firestore,s)},i}(Qs);function af(a,i){if(void 0===i)return{merge:!1};if(mt(a,i,["merge","mergeFields"]),we(a,"boolean","merge",i.merge),void 0!==(p=i.mergeFields)&&function(y,b,A,R,k){if(!(R instanceof Array))throw new H(U.INVALID_ARGUMENT,"Function "+y+"() requires its "+b+" option to be an array, but it was: "+Ht(R));for(var L=0;L<R.length;++L)if(!k(R[L]))throw new H(U.INVALID_ARGUMENT,"Function "+y+"() requires all "+b+" elements to be a string or a FieldPath, but the value at index "+L+" was: "+Ht(R[L]))}(a,"mergeFields",0,p,function(s){return"string"==typeof s||s instanceof us}),void 0!==i.mergeFields&&void 0!==i.merge)throw new H(U.INVALID_ARGUMENT,"Invalid options passed to function "+a+'(): You cannot specify both "merge" and "mergeFields".');var p;return i}function Qh(a,i){return void 0===i?{}:(mt(a,i,["serverTimestamps"]),Te(a,0,"serverTimestamps",i.serverTimestamps,["estimate","previous","none"]),i)}function wg(a,i){ve(a,"object",1,i),i&&(mt(a,i,["source"]),Te(a,0,"source",i.source,["default","server","cache"]))}function Ti(a,i,s){if(i instanceof ls){if(i.firestore!==s)throw new H(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}throw Rn(a,"DocumentReference",1,i)}function uf(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}function Nc(a,i,s){return a?s&&(s.merge||s.mergeFields)?a.toFirestore(i,s):a.toFirestore(i):i}var Kh=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return N.__extends(i,a),i.serverTimestamp=function(){P("FieldValue.serverTimestamp",arguments);var s=new pg("serverTimestamp");return s.e_="FieldValue.serverTimestamp",new i(s)},i.delete=function(){P("FieldValue.delete",arguments);var s=new Nu("deleteField");return s.e_="FieldValue.delete",new i(s)},i.arrayUnion=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];M("FieldValue.arrayUnion",arguments,1);var f=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];return M("arrayUnion()",arguments,1),new Lh("arrayUnion",p)}.apply(void 0,s);return f.e_="FieldValue.arrayUnion",new i(f)},i.arrayRemove=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];M("FieldValue.arrayRemove",arguments,1);var f=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];return M("arrayRemove()",arguments,1),new Xl("arrayRemove",p)}.apply(void 0,s);return f.e_="FieldValue.arrayRemove",new i(f)},i.increment=function(s){te("FieldValue.increment","number",1,s),F("FieldValue.increment",arguments,1);var c=new Ac("increment",s);return c.e_="FieldValue.increment",new i(c)},i.prototype.isEqual=function(s){return this.l_.isEqual(s.l_)},i}(cs),Yh={Firestore:xc,GeoPoint:Jl,Timestamp:kt,Blob:Fn,Transaction:Bh,WriteBatch:Hh,DocumentReference:ci,DocumentSnapshot:Ws,Query:Qs,QueryDocumentSnapshot:Gh,QuerySnapshot:Fu,CollectionReference:Po,FieldPath:us,FieldValue:Kh,setLogLevel:xc.setLogLevel,CACHE_SIZE_UNLIMITED:Mc};function cf(a){a.INTERNAL.registerComponent(new Wt.Component("firestore",function(c){return f=c.getProvider("app").getImmediate(),p=c.getProvider("auth-internal"),m=new Fa,y=new ui(m),new xc(f,p,y,m);var f,p,m,y},"PUBLIC").setServiceProps(Object.assign({},Yh))),a.registerVersion("@firebase/firestore","1.18.0")}cf(rn.default),de.__PRIVATE_registerFirestore=cf},3:(Wr,de,rt)=>{function N(){for(var me=0,W=0,ye=arguments.length;W<ye;W++)me+=arguments[W].length;var At=Array(me),Qe=0;for(W=0;W<ye;W++)for(var ae=arguments[W],ge=0,le=ae.length;ge<le;ge++,Qe++)At[Qe]=ae[ge];return At}rt.r(de),rt.d(de,{LogLevel:()=>Se,Logger:()=>U,setLogLevel:()=>H,setUserLogHandler:()=>Me});var lt,Ue=[],Se=(()=>{return(me=Se||(Se={}))[me.DEBUG=0]="DEBUG",me[me.VERBOSE=1]="VERBOSE",me[me.INFO=2]="INFO",me[me.WARN=3]="WARN",me[me.ERROR=4]="ERROR",me[me.SILENT=5]="SILENT",Se;var me})(),se={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},Wt=Se.INFO,Ie=((lt={})[Se.DEBUG]="log",lt[Se.VERBOSE]="log",lt[Se.INFO]="info",lt[Se.WARN]="warn",lt[Se.ERROR]="error",lt),rn=function(me,W){for(var ye=[],At=2;At<arguments.length;At++)ye[At-2]=arguments[At];if(!(W<me.logLevel)){var Qe=(new Date).toISOString(),ae=Ie[W];if(!ae)throw new Error("Attempted to log a message with an invalid logType (value: "+W+")");console[ae].apply(console,N(["["+Qe+"]  "+me.name+":"],ye))}},U=function(){function me(W){this.name=W,this._logLevel=Wt,this._logHandler=rn,this._userLogHandler=null,Ue.push(this)}return Object.defineProperty(me.prototype,"logLevel",{get:function(){return this._logLevel},set:function(W){if(!(W in Se))throw new TypeError('Invalid value "'+W+'" assigned to `logLevel`');this._logLevel=W},enumerable:!1,configurable:!0}),me.prototype.setLogLevel=function(W){this._logLevel="string"==typeof W?se[W]:W},Object.defineProperty(me.prototype,"logHandler",{get:function(){return this._logHandler},set:function(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W},enumerable:!1,configurable:!0}),Object.defineProperty(me.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(W){this._userLogHandler=W},enumerable:!1,configurable:!0}),me.prototype.debug=function(){for(var W=[],ye=0;ye<arguments.length;ye++)W[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,N([this,Se.DEBUG],W)),this._logHandler.apply(this,N([this,Se.DEBUG],W))},me.prototype.log=function(){for(var W=[],ye=0;ye<arguments.length;ye++)W[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,N([this,Se.VERBOSE],W)),this._logHandler.apply(this,N([this,Se.VERBOSE],W))},me.prototype.info=function(){for(var W=[],ye=0;ye<arguments.length;ye++)W[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,N([this,Se.INFO],W)),this._logHandler.apply(this,N([this,Se.INFO],W))},me.prototype.warn=function(){for(var W=[],ye=0;ye<arguments.length;ye++)W[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,N([this,Se.WARN],W)),this._logHandler.apply(this,N([this,Se.WARN],W))},me.prototype.error=function(){for(var W=[],ye=0;ye<arguments.length;ye++)W[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,N([this,Se.ERROR],W)),this._logHandler.apply(this,N([this,Se.ERROR],W))},me}();function H(me){Ue.forEach(function(W){W.setLogLevel(me)})}function Me(me,W){for(var ye=function(ge){var le=null;W&&W.level&&(le=se[W.level]),ge.userLogHandler=null===me?null:function(pt,it){for(var en=[],pn=2;pn<arguments.length;pn++)en[pn-2]=arguments[pn];var Ge=en.map(function(C){if(null==C)return null;if("string"==typeof C)return C;if("number"==typeof C||"boolean"==typeof C)return C.toString();if(C instanceof Error)return C.message;try{return JSON.stringify(C)}catch(x){return null}}).filter(function(C){return C}).join(" ");it>=(null!=le?le:pt.logLevel)&&me({level:Se[it].toLowerCase(),message:Ge,args:en,type:pt.name})}},At=0,Qe=Ue;At<Qe.length;At++)ye(Qe[At])}},270:(Wr,de,rt)=>{Object.defineProperty(de,"__esModule",{value:!0});var N=rt(713),lt={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Ue=function($,j){if(!$)throw Se(j)},Se=function($){return new Error("Firebase Database ("+lt.SDK_VERSION+") INTERNAL ASSERT FAILED: "+$)},se=function($){for(var j=[],K=0,X=0;X<$.length;X++){var q=$.charCodeAt(X);q<128?j[K++]=q:q<2048?(j[K++]=q>>6|192,j[K++]=63&q|128):55296==(64512&q)&&X+1<$.length&&56320==(64512&$.charCodeAt(X+1))?(q=65536+((1023&q)<<10)+(1023&$.charCodeAt(++X)),j[K++]=q>>18|240,j[K++]=q>>12&63|128,j[K++]=q>>6&63|128,j[K++]=63&q|128):(j[K++]=q>>12|224,j[K++]=q>>6&63|128,j[K++]=63&q|128)}return j},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function($,j){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var K=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[],q=0;q<$.length;q+=3){var Ne=$[q],ut=q+1<$.length,Ke=ut?$[q+1]:0,Re=q+2<$.length,xt=Re?$[q+2]:0,fn=(15&Ke)<<2|xt>>6,on=63&xt;Re||(on=64,ut||(fn=64)),X.push(K[Ne>>2],K[(3&Ne)<<4|Ke>>4],K[fn],K[on])}return X.join("")},encodeString:function($,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa($):this.encodeByteArray(se($),j)},decodeString:function($,j){return this.HAS_NATIVE_SUPPORT&&!j?atob($):function($){for(var j=[],K=0,X=0;K<$.length;){var q=$[K++];if(q<128)j[X++]=String.fromCharCode(q);else if(q>191&&q<224){var Ne=$[K++];j[X++]=String.fromCharCode((31&q)<<6|63&Ne)}else if(q>239&&q<365){var Re=((7&q)<<18|(63&(Ne=$[K++]))<<12|(63&(ut=$[K++]))<<6|63&$[K++])-65536;j[X++]=String.fromCharCode(55296+(Re>>10)),j[X++]=String.fromCharCode(56320+(1023&Re))}else{Ne=$[K++];var ut=$[K++];j[X++]=String.fromCharCode((15&q)<<12|(63&Ne)<<6|63&ut)}}return j.join("")}(this.decodeStringToByteArray($,j))},decodeStringToByteArray:function($,j){this.init_();for(var K=j?this.charToByteMapWebSafe_:this.charToByteMap_,X=[],q=0;q<$.length;){var Ne=K[$.charAt(q++)],Ke=q<$.length?K[$.charAt(q)]:0,xt=++q<$.length?K[$.charAt(q)]:64,An=++q<$.length?K[$.charAt(q)]:64;if(++q,null==Ne||null==Ke||null==xt||null==An)throw Error();X.push(Ne<<2|Ke>>4),64!==xt&&(X.push(Ke<<4&240|xt>>2),64!==An&&X.push(xt<<6&192|An))}return X},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},U=function($){try{return Ie.decodeString($,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function Me($,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return j}for(var X in j)!j.hasOwnProperty(X)||($[X]=Me($[X],j[X]));return $}var me=function(){function $(){var j=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(K,X){j.resolve=K,j.reject=X})}return $.prototype.wrapCallback=function(j){var K=this;return function(X,q){X?K.reject(X):K.resolve(q),"function"==typeof j&&(K.promise.catch(function(){}),1===j.length?j(X):j(X,q))}},$}();function W(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function At(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}var P=function($){function j(K,X){var q=$.call(this,X)||this;return q.code=K,q.name="FirebaseError",Object.setPrototypeOf(q,j.prototype),Error.captureStackTrace&&Error.captureStackTrace(q,F.prototype.create),q}return N.__extends(j,$),j}(Error),F=function(){function $(j,K,X){this.service=j,this.serviceName=K,this.errors=X}return $.prototype.create=function(j){for(var K=[],X=1;X<arguments.length;X++)K[X-1]=arguments[X];for(var q=K[0]||{},Ne=this.service+"/"+j,ut=this.errors[j],Ke=ut?M(ut,q):"Error",Re=this.serviceName+": "+Ke+" ("+Ne+").",xt=new P(Ne,Re),kn=0,An=Object.keys(q);kn<An.length;kn++){var fn=An[kn];"_"!==fn.slice(-1)&&(fn in xt&&console.warn('Overwriting FirebaseError base field "'+fn+'" can cause unexpected behavior.'),xt[fn]=q[fn])}return xt},$}();function M($,j){return $.replace(z,function(K,X){var q=j[X];return null!=q?String(q):"<"+X+"?>"})}var z=/\{\$([^}]+)}/g;function te($){return JSON.parse($)}var Q=function($){var j={},K={},X={},q="";try{var Ne=$.split(".");j=te(U(Ne[0])||""),K=te(U(Ne[1])||""),q=Ne[2],X=K.d||{},delete K.d}catch(ut){}return{header:j,claims:K,data:X,signature:q}},cr=function(){function $(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}return $.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},$.prototype.compress_=function(j,K){K||(K=0);var X=this.W_;if("string"==typeof j)for(var q=0;q<16;q++)X[q]=j.charCodeAt(K)<<24|j.charCodeAt(K+1)<<16|j.charCodeAt(K+2)<<8|j.charCodeAt(K+3),K+=4;else for(q=0;q<16;q++)X[q]=j[K]<<24|j[K+1]<<16|j[K+2]<<8|j[K+3],K+=4;for(q=16;q<80;q++)X[q]=4294967295&((Ne=X[q-3]^X[q-8]^X[q-14]^X[q-16])<<1|Ne>>>31);var An,fn,ut=this.chain_[0],Ke=this.chain_[1],Re=this.chain_[2],xt=this.chain_[3],kn=this.chain_[4];for(q=0;q<80;q++){q<40?q<20?(An=xt^Ke&(Re^xt),fn=1518500249):(An=Ke^Re^xt,fn=1859775393):q<60?(An=Ke&Re|xt&(Ke|Re),fn=2400959708):(An=Ke^Re^xt,fn=3395469782);var Ne=(ut<<5|ut>>>27)+An+kn+fn+X[q]&4294967295;kn=xt,xt=Re,Re=4294967295&(Ke<<30|Ke>>>2),Ke=ut,ut=Ne}this.chain_[0]=this.chain_[0]+ut&4294967295,this.chain_[1]=this.chain_[1]+Ke&4294967295,this.chain_[2]=this.chain_[2]+Re&4294967295,this.chain_[3]=this.chain_[3]+xt&4294967295,this.chain_[4]=this.chain_[4]+kn&4294967295},$.prototype.update=function(j,K){if(null!=j){void 0===K&&(K=j.length);for(var X=K-this.blockSize,q=0,Ne=this.buf_,ut=this.inbuf_;q<K;){if(0===ut)for(;q<=X;)this.compress_(j,q),q+=this.blockSize;if("string"==typeof j){for(;q<K;)if(Ne[ut]=j.charCodeAt(q),++q,++ut===this.blockSize){this.compress_(Ne),ut=0;break}}else for(;q<K;)if(Ne[ut]=j[q],++q,++ut===this.blockSize){this.compress_(Ne),ut=0;break}}this.inbuf_=ut,this.total_+=K}},$.prototype.digest=function(){var j=[],K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var X=this.blockSize-1;X>=56;X--)this.buf_[X]=255&K,K/=256;this.compress_(this.buf_);var q=0;for(X=0;X<5;X++)for(var Ne=24;Ne>=0;Ne-=8)j[q]=this.chain_[X]>>Ne&255,++q;return j},$}(),_o=function(){function $(j,K){var X=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(function(){j(X)}).catch(function(q){X.error(q)})}return $.prototype.next=function(j){this.forEachObserver(function(K){K.next(j)})},$.prototype.error=function(j){this.forEachObserver(function(K){K.error(j)}),this.close(j)},$.prototype.complete=function(){this.forEachObserver(function(j){j.complete()}),this.close()},$.prototype.subscribe=function(j,K,X){var Ne,q=this;if(void 0===j&&void 0===K&&void 0===X)throw new Error("Missing Observer.");Ne=function xe($,j){if("object"!=typeof $||null===$)return!1;for(var K=0,X=j;K<X.length;K++){var q=X[K];if(q in $&&"function"==typeof $[q])return!0}return!1}(j,["next","error","complete"])?j:{next:j,error:K,complete:X},void 0===Ne.next&&(Ne.next=ln),void 0===Ne.error&&(Ne.error=ln),void 0===Ne.complete&&(Ne.complete=ln);var ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{q.finalError?Ne.error(q.finalError):Ne.complete()}catch(Ke){}}),this.observers.push(Ne),ut},$.prototype.unsubscribeOne=function(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},$.prototype.forEachObserver=function(j){if(!this.finalized)for(var K=0;K<this.observers.length;K++)this.sendOne(K,j)},$.prototype.sendOne=function(j,K){var X=this;this.task.then(function(){if(void 0!==X.observers&&void 0!==X.observers[j])try{K(X.observers[j])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})},$.prototype.close=function(j){var K=this;this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(function(){K.observers=void 0,K.onNoObservers=void 0}))},$}();function ln(){}function dt($,j,K){var X="";switch(j){case 1:X=K?"first":"First";break;case 2:X=K?"second":"Second";break;case 3:X=K?"third":"Third";break;case 4:X=K?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return $+" failed: "+(X+" argument ")}de.CONSTANTS=lt,de.Deferred=me,de.ErrorFactory=F,de.FirebaseError=P,de.MAX_VALUE_MILLIS=144e5,de.RANDOM_FACTOR=.5,de.Sha1=cr,de.areCookiesEnabled=function x(){return!(!navigator||!navigator.cookieEnabled)},de.assert=Ue,de.assertionError=Se,de.async=function Et($,j){return function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];Promise.resolve(!0).then(function(){$.apply(void 0,K)}).catch(function(q){j&&j(q)})}},de.base64=Ie,de.base64Decode=U,de.base64Encode=function($){var j=se($);return Ie.encodeByteArray(j,!0)},de.calculateBackoffMillis=function Ni($,j,K){void 0===j&&(j=1e3),void 0===K&&(K=2);var X=j*Math.pow(K,$),q=Math.round(.5*X*(Math.random()-.5)*2);return Math.min(144e5,X+q)},de.contains=function gt($,j){return Object.prototype.hasOwnProperty.call($,j)},de.createSubscribe=function Tr($,j){var K=new _o($,j);return K.subscribe.bind(K)},de.decode=Q,de.deepCopy=function H($){return Me(void 0,$)},de.deepExtend=Me,de.errorPrefix=dt,de.getUA=W,de.isAdmin=function($){var j=Q($).claims;return"object"==typeof j&&!0===j.admin},de.isBrowser=function Qe(){return"object"==typeof self&&self.self===self},de.isBrowserExtension=function ae(){var $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id},de.isElectron=function le(){return W().indexOf("Electron/")>=0},de.isEmpty=function Gt($){for(var j in $)if(Object.prototype.hasOwnProperty.call($,j))return!1;return!0},de.isIE=function pt(){var $=W();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0},de.isIndexedDBAvailable=function Ge(){return"indexedDB"in self&&null!=indexedDB},de.isMobileCordova=function ye(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())},de.isNode=At,de.isNodeSdk=function en(){return!0===lt.NODE_CLIENT||!0===lt.NODE_ADMIN},de.isReactNative=function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product},de.isSafari=function pn(){return!At()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},de.isUWP=function it(){return W().indexOf("MSAppHost/")>=0},de.isValidFormat=function($){var K=Q($).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},de.isValidTimestamp=function($){var j=Q($).claims,K=Math.floor((new Date).getTime()/1e3),X=0,q=0;return"object"==typeof j&&(j.hasOwnProperty("nbf")?X=j.nbf:j.hasOwnProperty("iat")&&(X=j.iat),q=j.hasOwnProperty("exp")?j.exp:X+86400),!!K&&!!X&&!!q&&K>=X&&K<=q},de.issuedAtTime=function($){var j=Q($).claims;return"object"==typeof j&&j.hasOwnProperty("iat")?j.iat:null},de.jsonEval=te,de.map=function mt($,j,K){var X={};for(var q in $)Object.prototype.hasOwnProperty.call($,q)&&(X[q]=j.call(K,$[q],q,$));return X},de.querystring=function Rn($){for(var j=[],K=function(Re,xt){Array.isArray(xt)?xt.forEach(function(kn){j.push(encodeURIComponent(Re)+"="+encodeURIComponent(kn))}):j.push(encodeURIComponent(Re)+"="+encodeURIComponent(xt))},X=0,q=Object.entries($);X<q.length;X++){var Ne=q[X];K(Ne[0],Ne[1])}return j.length?"&"+j.join("&"):""},de.querystringDecode=function ke($){var j={};return $.replace(/^\?/,"").split("&").forEach(function(X){if(X){var q=X.split("=");j[q[0]]=q[1]}}),j},de.safeGet=function Ht($,j){if(Object.prototype.hasOwnProperty.call($,j))return $[j]},de.stringLength=function($){for(var j=0,K=0;K<$.length;K++){var X=$.charCodeAt(K);X<128?j++:X<2048?j+=2:X>=55296&&X<=56319?(j+=4,K++):j+=3}return j},de.stringToByteArray=function($){for(var j=[],K=0,X=0;X<$.length;X++){var q=$.charCodeAt(X);if(q>=55296&&q<=56319){var Ne=q-55296;X++,Ue(X<$.length,"Surrogate pair missing trail surrogate."),q=65536+(Ne<<10)+($.charCodeAt(X)-56320)}q<128?j[K++]=q:q<2048?(j[K++]=q>>6|192,j[K++]=63&q|128):q<65536?(j[K++]=q>>12|224,j[K++]=q>>6&63|128,j[K++]=63&q|128):(j[K++]=q>>18|240,j[K++]=q>>12&63|128,j[K++]=q>>6&63|128,j[K++]=63&q|128)}return j},de.stringify=function ve($){return JSON.stringify($)},de.validateArgCount=function($,j,K,X){var q;if(X<j?q="at least "+j:X>K&&(q=0===K?"none":"no more than "+K),q)throw new Error($+" failed: Was called with "+X+(1===X?" argument.":" arguments.")+" Expects "+q+".")},de.validateCallback=function Pn($,j,K,X){if((!X||K)&&"function"!=typeof K)throw new Error(dt($,j,X)+"must be a valid function.")},de.validateContextObject=function Qr($,j,K,X){if((!X||K)&&("object"!=typeof K||null===K))throw new Error(dt($,j,X)+"must be a valid context object.")},de.validateIndexedDBOpenable=function C(){return new Promise(function($,j){try{var K=!0,X="validate-browser-context-for-indexeddb-analytics-module",q=window.indexedDB.open(X);q.onsuccess=function(){q.result.close(),K||window.indexedDB.deleteDatabase(X),$(!0)},q.onupgradeneeded=function(){K=!1},q.onerror=function(){var Ne;j((null===(Ne=q.error)||void 0===Ne?void 0:Ne.message)||"")}}catch(Ne){j(Ne)}})},de.validateNamespace=function On($,j,K,X){if((!X||K)&&"string"!=typeof K)throw new Error(dt($,j,X)+"must be a valid firebase namespace.")}},670:(Wr,de,rt)=>{rt.r(de),rt.d(de,{default:()=>Tl,ErrorCode:()=>so,EventType:()=>ni,WebChannel:()=>ns,XhrIo:()=>Vr,createWebChannelTransport:()=>Lr});var N=function(d,_){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,T){E.__proto__=T}||function(E,T){for(var V in T)Object.prototype.hasOwnProperty.call(T,V)&&(E[V]=T[V])})(d,_)};function Ue(d){var _="function"==typeof Symbol&&Symbol.iterator,E=_&&d[_],T=0;if(E)return E.call(d);if(d&&"number"==typeof d.length)return{next:function(){return d&&T>=d.length&&(d=void 0),{value:d&&d[T++],done:!d}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}var se,Se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wt=Wt||{},Ie=Se||self;function rn(){}function U(d){var _=typeof d;return"object"!=_?_:d?Array.isArray(d)?"array":_:"null"}function H(d){var _=U(d);return"array"==_||"object"==_&&"number"==typeof d.length}function Me(d){var _=typeof d;return"object"==_&&null!=d||"function"==_}var W="closure_uid_"+(1e9*Math.random()>>>0),ye=0;function At(d,_,E){return d.call.apply(d.bind,arguments)}function Qe(d,_,E){if(!d)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,T),d.apply(_,V)}}return function(){return d.apply(_,arguments)}}function ae(d,_,E){return(ae=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?At:Qe).apply(null,arguments)}function ge(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var T=E.slice();return T.push.apply(T,arguments),d.apply(this,T)}}var le=Date.now;function pt(d,_){function E(){}E.prototype=_.prototype,d.S=_.prototype,d.prototype=new E,d.prototype.constructor=d}function it(){this.j=this.j,this.i=this.i}it.prototype.j=!1,it.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function me(d){Object.prototype.hasOwnProperty.call(d,W)&&d[W]||(d[W]=++ye)}(this)},it.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var pn=Array.prototype.indexOf?function(d,_){return Array.prototype.indexOf.call(d,_,void 0)}:function(d,_){if("string"==typeof d)return"string"!=typeof _||1!=_.length?-1:d.indexOf(_,0);for(var E=0;E<d.length;E++)if(E in d&&d[E]===_)return E;return-1},Ge=Array.prototype.forEach?function(d,_,E){Array.prototype.forEach.call(d,_,E)}:function(d,_,E){for(var T=d.length,V="string"==typeof d?d.split(""):d,Y=0;Y<T;Y++)Y in V&&_.call(E,V[Y],Y,d)};function x(d){return Array.prototype.concat.apply([],arguments)}function I(d){var _=d.length;if(0<_){for(var E=Array(_),T=0;T<_;T++)E[T]=d[T];return E}return[]}function P(d){return/^[\s\xa0]*$/.test(d)}var te,F=String.prototype.trim?function(d){return d.trim()}:function(d){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(d)[1]};function M(d,_){return-1!=d.indexOf(_)}function z(d,_){return d<_?-1:d>_?1:0}e:{var ve=Ie.navigator;if(ve){var Q=ve.userAgent;if(Q){te=Q;break e}}te=""}function we(d,_,E){for(var T in d)_.call(E,d[T],T,d)}function Te(d){var _={};for(var E in d)_[E]=d[E];return _}var ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(d,_){for(var E,T,V=1;V<arguments.length;V++){for(E in T=arguments[V])d[E]=T[E];for(var Y=0;Y<ie.length;Y++)E=ie[Y],Object.prototype.hasOwnProperty.call(T,E)&&(d[E]=T[E])}}function gt(d){return gt[" "](d),d}gt[" "]=rn;var Et,d,Gt=M(te,"Opera"),mt=M(te,"Trident")||M(te,"MSIE"),Rn=M(te,"Edge"),ke=Rn||mt,cr=M(te,"Gecko")&&!(M(te.toLowerCase(),"webkit")&&!M(te,"Edge"))&&!(M(te,"Trident")||M(te,"MSIE"))&&!M(te,"Edge"),Tr=M(te.toLowerCase(),"webkit")&&!M(te,"Edge");function _o(){var d=Ie.document;return d?d.documentMode:void 0}e:{var xe="",ln=(d=te,cr?/rv:([^\);]+)(\)|;)/.exec(d):Rn?/Edge\/([\d\.]+)/.exec(d):mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(d):Tr?/WebKit\/(\S+)/.exec(d):Gt?/(?:Version)[ \/]?(\S+)/.exec(d):void 0);if(ln&&(xe=ln?ln[1]:""),mt){var Qt=_o();if(null!=Qt&&Qt>parseFloat(xe)){Et=String(Qt);break e}}Et=xe}var dt={};function On(d){return function Ht(d,_){var E=dt;return Object.prototype.hasOwnProperty.call(E,d)?E[d]:E[d]=_(d)}(d,function(){for(var _=0,E=F(String(Et)).split("."),T=F(String(d)).split("."),V=Math.max(E.length,T.length),Y=0;0==_&&Y<V;Y++){var Ee=E[Y]||"",Ct=T[Y]||"";do{if(Ee=/(\d*)(\D*)(.*)/.exec(Ee)||["","","",""],Ct=/(\d*)(\D*)(.*)/.exec(Ct)||["","","",""],0==Ee[0].length&&0==Ct[0].length)break;_=z(0==Ee[1].length?0:parseInt(Ee[1],10),0==Ct[1].length?0:parseInt(Ct[1],10))||z(0==Ee[2].length,0==Ct[2].length)||z(Ee[2],Ct[2]),Ee=Ee[3],Ct=Ct[3]}while(0==_)}return 0<=_})}var Fn=Ie.document&&mt&&(_o()||parseInt(Et,10))||void 0,vi=!mt||9<=Number(Fn),zo=mt&&!On("9"),wo=function(){if(!Ie.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{Ie.addEventListener("test",rn,_),Ie.removeEventListener("test",rn,_)}catch(E){}return d}();function kt(d,_){this.type=d,this.a=this.target=_,this.defaultPrevented=!1}function $e(d,_){if(kt.call(this,d?d.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,d){var E=this.type=d.type,T=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.a=_,_=d.relatedTarget){if(cr){e:{try{gt(_.nodeName);var V=!0;break e}catch(Y){}V=!1}V||(_=null)}}else"mouseover"==E?_=d.fromElement:"mouseout"==E&&(_=d.toElement);this.relatedTarget=_,T?(this.clientX=void 0!==T.clientX?T.clientX:T.pageX,this.clientY=void 0!==T.clientY?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType="string"==typeof d.pointerType?d.pointerType:Ni[d.pointerType]||"",this.c=d,d.defaultPrevented&&this.b()}}kt.prototype.b=function(){this.defaultPrevented=!0},pt($e,kt);var Ni={2:"touch",3:"pen",4:"mouse"};$e.prototype.b=function(){$e.S.b.call(this);var d=this.c;if(d.preventDefault)d.preventDefault();else if(d.returnValue=!1,zo)try{(d.ctrlKey||112<=d.keyCode&&123>=d.keyCode)&&(d.keyCode=-1)}catch(_){}};var $="closure_listenable_"+(1e6*Math.random()|0),j=0;function K(d,_,E,T,V){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!T,this.ca=V,this.key=++j,this.Y=this.Z=!1}function X(d){d.Y=!0,d.listener=null,d.proxy=null,d.src=null,d.ca=null}function q(d){this.src=d,this.a={},this.b=0}function Ne(d,_){var E=_.type;if(E in d.a){var Y,T=d.a[E],V=pn(T,_);(Y=0<=V)&&Array.prototype.splice.call(T,V,1),Y&&(X(_),0==d.a[E].length&&(delete d.a[E],d.b--))}}function ut(d,_,E,T){for(var V=0;V<d.length;++V){var Y=d[V];if(!Y.Y&&Y.listener==_&&Y.capture==!!E&&Y.ca==T)return V}return-1}q.prototype.add=function(d,_,E,T,V){var Y=d.toString();(d=this.a[Y])||(d=this.a[Y]=[],this.b++);var Ee=ut(d,_,T,V);return-1<Ee?(_=d[Ee],E||(_.Z=!1)):((_=new K(_,this.src,Y,!!T,V)).Z=E,d.push(_)),_};var Ke="closure_lm_"+(1e6*Math.random()|0),Re={};function xt(d,_,E,T,V){if(T&&T.once)return fn(d,_,E,T,V);if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)xt(d,_[Y],E,T,V);return null}return E=Wo(E),d&&d[$]?d.va(_,E,Me(T)?!!T.capture:!!T,V):kn(d,_,E,!1,T,V)}function kn(d,_,E,T,V,Y){if(!_)throw Error("Invalid event type");var Ee=Me(V)?!!V.capture:!!V;if(Ee&&!vi)return null;var Ct=Mr(d);if(Ct||(d[Ke]=Ct=new q(d)),(E=Ct.add(_,E,T,Ee,Y)).proxy)return E;if(T=function An(){var d=tu,_=vi?function(E){return d.call(_.src,_.listener,E)}:function(E){if(!(E=d.call(_.src,_.listener,E)))return E};return _}(),E.proxy=T,T.src=d,T.listener=E,d.addEventListener)wo||(V=Ee),void 0===V&&(V=!1),d.addEventListener(_.toString(),T,V);else if(d.attachEvent)d.attachEvent(yi(_.toString()),T);else{if(!d.addListener||!d.removeListener)throw Error("addEventListener and attachEvent are unavailable.");d.addListener(T)}return E}function fn(d,_,E,T,V){if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)fn(d,_[Y],E,T,V);return null}return E=Wo(E),d&&d[$]?d.wa(_,E,Me(T)?!!T.capture:!!T,V):kn(d,_,E,!0,T,V)}function on(d,_,E,T,V){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)on(d,_[Y],E,T,V);else T=Me(T)?!!T.capture:!!T,E=Wo(E),d&&d[$]?(d=d.c,(_=String(_).toString())in d.a&&-1<(E=ut(Y=d.a[_],E,T,V))&&(X(Y[E]),Array.prototype.splice.call(Y,E,1),0==Y.length&&(delete d.a[_],d.b--))):d&&(d=Mr(d))&&(_=d.a[_.toString()],d=-1,_&&(d=ut(_,E,T,V)),(E=-1<d?_[d]:null)&&Ri(E))}function Ri(d){if("number"!=typeof d&&d&&!d.Y){var _=d.src;if(_&&_[$])Ne(_.c,d);else{var E=d.type,T=d.proxy;_.removeEventListener?_.removeEventListener(E,T,d.capture):_.detachEvent?_.detachEvent(yi(E),T):_.addListener&&_.removeListener&&_.removeListener(T),(E=Mr(_))?(Ne(E,d),0==E.b&&(E.src=null,_[Ke]=null)):X(d)}}}function yi(d){return d in Re?Re[d]:Re[d]="on"+d}function hn(d,_){var E=d.listener,T=d.ca||d.src;return d.Z&&Ri(d),E.call(T,_)}function tu(d,_){if(d.Y)return!0;if(!vi){if(!_)e:{_=["window","event"];for(var E=Ie,T=0;T<_.length;T++)if(null==(E=E[_[T]])){_=null;break e}_=E}return hn(d,_=new $e(_,this))}return hn(d,new $e(_,this))}function Mr(d){return(d=d[Ke])instanceof q?d:null}var Oi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wo(d){return"function"==U(d)?d:(d[Oi]||(d[Oi]=function(_){return d.handleEvent(_)}),d[Oi])}function br(){it.call(this),this.c=new q(this),this.J=this,this.C=null}function Zi(d,_,E,T){if(!(_=d.c.a[String(_)]))return!0;_=_.concat();for(var V=!0,Y=0;Y<_.length;++Y){var Ee=_[Y];if(Ee&&!Ee.Y&&Ee.capture==E){var Ct=Ee.listener,yt=Ee.ca||Ee.src;Ee.Z&&Ne(d.c,Ee),V=!1!==Ct.call(yt,T)&&V}}return V&&!T.defaultPrevented}pt(br,it),br.prototype[$]=!0,(se=br.prototype).addEventListener=function(d,_,E,T){xt(this,d,_,E,T)},se.removeEventListener=function(d,_,E,T){on(this,d,_,E,T)},se.dispatchEvent=function(d){var _,E=this.C;if(E)for(_=[];E;E=E.C)_.push(E);E=this.J;var T=d.type||d;if("string"==typeof d)d=new kt(d,E);else if(d instanceof kt)d.target=d.target||E;else{var V=d;be(d=new kt(T,E),V)}if(V=!0,_)for(var Y=_.length-1;0<=Y;Y--){var Ee=d.a=_[Y];V=Zi(Ee,T,!0,d)&&V}if(V=Zi(Ee=d.a=E,T,!0,d)&&V,V=Zi(Ee,T,!1,d)&&V,_)for(Y=0;Y<_.length;Y++)V=Zi(Ee=d.a=_[Y],T,!1,d)&&V;return V},se.G=function(){if(br.S.G.call(this),this.c){var _,d=this.c;for(_ in d.a){for(var E=d.a[_],T=0;T<E.length;T++)X(E[T]);delete d.a[_],d.b--}}this.C=null},se.va=function(d,_,E,T){return this.c.add(String(d),_,!1,E,T)},se.wa=function(d,_,E,T){return this.c.add(String(d),_,!0,E,T)};var ua=Ie.JSON.stringify;function tc(){this.b=this.a=null}var lr,$t=new(function(){function d(_,E,T){this.f=T,this.c=_,this.g=E,this.b=0,this.a=null}return d.prototype.get=function(){var _;return 0<this.b?(this.b--,this.a=(_=this.a).next,_.next=null):_=this.c(),_},d}())(function(){return new Qo},function(d){d.reset()},100);function Pi(){var d=Ss,_=null;return d.a&&(_=d.a,d.a=d.a.next,d.a||(d.b=null),_.next=null),_}function Qo(){this.next=this.b=this.a=null}function yn(d){Ie.setTimeout(function(){throw d},0)}function bo(d,_){lr||function nc(){var d=Ie.Promise.resolve(void 0);lr=function(){d.then(ca)}}(),As||(lr(),As=!0),Ss.add(d,_)}tc.prototype.add=function(d,_){var E=$t.get();E.set(d,_),this.b?this.b.next=E:this.a=E,this.b=E},Qo.prototype.set=function(d,_){this.a=d,this.b=_,this.next=null},Qo.prototype.reset=function(){this.next=this.b=this.a=null};var As=!1,Ss=new tc;function ca(){for(var d;d=Pi();){try{d.a.call(d.b)}catch(E){yn(E)}var _=$t;_.g(d),_.b<_.f&&(_.b++,d.next=_.a,_.a=d)}As=!1}function Ko(d,_){br.call(this),this.b=d||1,this.a=_||Ie,this.f=ae(this.Ya,this),this.g=le()}function Xi(d){d.aa=!1,d.M&&(d.a.clearTimeout(d.M),d.M=null)}function nu(d,_,E){if("function"==U(d))E&&(d=ae(d,E));else{if(!d||"function"!=typeof d.handleEvent)throw Error("Invalid listener argument");d=ae(d.handleEvent,d)}return 2147483647<Number(_)?-1:Ie.setTimeout(d,_||0)}function Kr(d){d.a=nu(function(){d.a=null,d.c&&(d.c=!1,Kr(d))},d.h);var _=d.b;d.b=null,d.g.apply(null,_)}pt(Ko,br),(se=Ko.prototype).aa=!1,se.M=null,se.Ya=function(){if(this.aa){var d=le()-this.g;0<d&&d<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-d):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Xi(this),this.start()))}},se.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=le())},se.G=function(){Ko.S.G.call(this),Xi(this),delete this.a};var la=function(d){function _(E,T,V){var Y=d.call(this)||this;return Y.g=null!=V?E.bind(V):E,Y.h=T,Y.b=null,Y.c=!1,Y.a=null,Y}return function lt(d,_){function E(){this.constructor=d}N(d,_),d.prototype=null===_?Object.create(_):(E.prototype=_.prototype,new E)}(_,d),_.prototype.f=function(E){this.b=arguments,this.a?this.c=!0:Kr(this)},_.prototype.G=function(){d.prototype.G.call(this),this.a&&(Ie.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},_}(it);function Eo(d){it.call(this),this.b=d,this.a={}}pt(Eo,it);var ru=[];function Yo(d,_,E,T){Array.isArray(E)||(E&&(ru[0]=E.toString()),E=ru);for(var V=0;V<E.length;V++){var Y=xt(_,E[V],T||d.handleEvent,!1,d.b||d);if(!Y)break;d.a[Y.key]=Y}}function rc(d){we(d.a,function(_,E){this.a.hasOwnProperty(E)&&Ri(_)},d),d.a={}}function Yr(){this.a=!0}function vt(d,_,E,T){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+function Zo(d,_){if(!d.a)return _;if(!_)return null;try{var E=JSON.parse(_);if(E)for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var T=E[d];if(!(2>T.length)){var V=T[1];if(Array.isArray(V)&&!(1>V.length)){var Y=V[0];if("noop"!=Y&&"stop"!=Y&&"close"!=Y)for(var Ee=1;Ee<V.length;Ee++)V[Ee]=""}}}return ua(E)}catch(Ct){return _}}(d,E)+(T?" "+T:"")})}Eo.prototype.G=function(){Eo.S.G.call(this),rc(this)},Eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yr.prototype.info=function(){};var Ms=null;function xr(){return Ms=Ms||new br}function qe(d){kt.call(this,"serverreachability",d)}function Nr(d){var _=xr();_.dispatchEvent(new qe(_,d))}function St(d){kt.call(this,"statevent",d)}function Ln(d){var _=xr();_.dispatchEvent(new St(_,d))}function fa(d){kt.call(this,"timingevent",d)}function Nt(d,_){if("function"!=U(d))throw Error("Fn must not be null and must be a function");return Ie.setTimeout(function(){d()},_)}pt(qe,kt),pt(St,kt),pt(fa,kt);var We={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},xs={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Cl(){}function ha(){}Cl.prototype.a=null;var pa,je={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Sn(){kt.call(this,"d")}function da(){kt.call(this,"c")}function oc(){}function Ji(d,_,E,T){this.g=d,this.c=_,this.f=E,this.T=T||1,this.J=new Eo(this),this.P=tn,this.R=new Ko(d=ke?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}pt(Sn,kt),pt(da,kt),pt(oc,Cl),pa=new oc;var tn=45e3,iu={},ga={};function Do(d,_,E){d.H=1,d.i=es(Gn(_)),d.j=E,d.I=!0,_n(d,null)}function _n(d,_){d.u=le(),eo(d),d.l=Gn(d.i);var E=d.l,T=d.T;Array.isArray(T)||(T=[String(T)]),Ao(E.b,"t",T),d.D=0,d.a=ti(d.g,d.g.C?_:null),0<d.O&&(d.F=new la(ae(d.Ca,d,d.a),d.O)),Yo(d.J,d.a,"readystatechange",d.Wa),_=d.B?Te(d.B):{},d.j?(d.m||(d.m="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.a.ba(d.l,d.m,d.j,_)):(d.m="GET",d.a.ba(d.l,d.m,null,_)),Nr(1),function _i(d,_,E,T,V,Y){d.info(function(){if(d.a)if(Y)for(var Ee="",Ct=Y.split("&"),yt=0;yt<Ct.length;yt++){var Un=Ct[yt].split("=");if(1<Un.length){var Di=Un[0];Un=Un[1];var ri=Di.split("_");Ee=2<=ri.length&&"type"==ri[1]?Ee+(Di+"=")+Un+"&":Ee+(Di+"=redacted&")}}else Ee=null;else Ee=Y;return"XMLHTTP REQ ("+T+") [attempt "+V+"]: "+_+"\n"+E+"\n"+Ee})}(d.c,d.m,d.l,d.f,d.T,d.j)}function ou(d,_,E){for(var T=!0;!d.A&&d.D<E.length;){var V=Il(d,E);if(V==ga){4==_&&(d.h=4,Ln(14),T=!1),vt(d.c,d.f,null,"[Incomplete Response]");break}if(V==iu){d.h=4,Ln(15),vt(d.c,d.f,E,"[Invalid Chunk]"),T=!1;break}vt(d.c,d.f,V,null),su(d,V)}4==_&&0==E.length&&(d.h=1,Ln(16),T=!1),d.b=d.b&&T,T?0<E.length&&!d.W&&(d.W=!0,(_=d.g).a==d&&_.V&&!_.F&&(_.c.info("Great, no buffering proxy detected. Bytes received: "+E.length),So(_),_.F=!0)):(vt(d.c,d.f,E,"[Invalid Chunked Response]"),Co(d),Xo(d))}function Il(d,_){var E=d.D,T=_.indexOf("\n",E);return-1==T?ga:(E=Number(_.substring(E,T)),isNaN(E)?iu:(T+=1)+E>_.length?ga:(_=_.substr(T,E),d.D=T+E,_))}function eo(d){d.U=le()+d.P,sc(d,d.P)}function sc(d,_){if(null!=d.o)throw Error("WatchDog timer not null");d.o=Nt(ae(d.Ua,d),_)}function Ns(d){d.o&&(Ie.clearTimeout(d.o),d.o=null)}function Xo(d){0==d.g.v||d.A||Ps(d.g,d)}function Co(d){Ns(d);var _=d.F;_&&"function"==typeof _.ja&&_.ja(),d.F=null,Xi(d.R),rc(d.J),d.a&&(_=d.a,d.a=null,_.abort(),_.ja())}function su(d,_){try{var E=d.g;if(0!=E.v&&(E.a==d||Dr(E.b,d)))if(E.I=d.N,!d.C&&Dr(E.b,d)&&3==E.v){try{var T=E.ka.a.parse(_)}catch(Da){T=null}if(Array.isArray(T)&&3==T.length){var V=T;if(0==V[0])e:if(E.j)E.oa=V[1],0<E.oa-E.P&&37500>V[2]&&E.H&&0==E.o&&!E.m&&(E.m=Nt(ae(E.Ra,E),6e3));else{if(E.a){if(!(E.a.u+3e3<d.u))break e;et(E),ji(E)}Jt(E),Ln(18)}if(1>=Rt(E.b)&&E.ea){try{E.ea()}catch(Da){}E.ea=void 0}}else kr(E,11)}else if((d.C||E.a==d)&&et(E),!P(_))for(_=T=E.ka.a.parse(_),T=0;T<_.length;T++)if(E.P=(V=_[T])[0],V=V[1],2==E.v)if("c"==V[0]){E.J=V[1],E.ga=V[2];var Y=V[3];null!=Y&&(E.ha=Y,E.c.info("VER="+E.ha));var Ee=V[4];null!=Ee&&(E.pa=Ee,E.c.info("SVER="+E.pa));var Ct=V[5];if(null!=Ct&&"number"==typeof Ct&&0<Ct){var yt=1.5*Ct;E.D=yt,E.c.info("backChannelRequestTimeoutMs_="+yt)}yt=E;var Un=d.a;if(Un){var Di=Un.a?Un.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(Di){var ri=yt.b;!ri.a&&(M(Di,"spdy")||M(Di,"quic")||M(Di,"h2"))&&(ri.f=ri.g,ri.a=new Set,ri.b&&(ts(ri,ri.b),ri.b=null))}if(yt.A){var Ea=Un.a?Un.a.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(yt.na=Ea,Vt(yt.B,yt.A,Ea))}}E.v=3,E.f&&E.f.ta(),E.V&&(E.N=le()-d.u,E.c.info("Handshake RTT: "+E.N+"ms"));var Fs=d;if((yt=E).la=qn(yt,yt.C?yt.ga:null,yt.fa),Fs.C){bi(yt.b,Fs);var pr=Fs,Ir=yt.D;Ir&&pr.setTimeout(Ir),pr.o&&(Ns(pr),eo(pr)),yt.a=Fs}else io(yt);0<E.g.length&&Ye(E)}else"stop"!=V[0]&&"close"!=V[0]||kr(E,7);else 3==E.v&&("stop"==V[0]||"close"==V[0]?"stop"==V[0]?kr(E,7):En(E):"noop"!=V[0]&&E.f&&E.f.sa(V),E.o=0);Nr(4)}catch(Da){}}function qt(d,_){if(d.forEach&&"function"==typeof d.forEach)d.forEach(_,void 0);else if(H(d)||"string"==typeof d)Ge(d,_,void 0);else{if(d.L&&"function"==typeof d.L)var E=d.L();else if(d.K&&"function"==typeof d.K)E=void 0;else if(H(d)||"string"==typeof d){E=[];for(var T=d.length,V=0;V<T;V++)E.push(V)}else for(V in E=[],T=0,d)E[T++]=V;T=function fr(d){if(d.K&&"function"==typeof d.K)return d.K();if("string"==typeof d)return d.split("");if(H(d)){for(var _=[],E=d.length,T=0;T<E;T++)_.push(d[T]);return _}for(T in _=[],E=0,d)_[E++]=d[T];return _}(d),V=T.length;for(var Y=0;Y<V;Y++)_.call(void 0,T[Y],E&&E[Y],d)}}function Jo(d,_){this.b={},this.a=[],this.c=0;var E=arguments.length;if(1<E){if(E%2)throw Error("Uneven number of arguments");for(var T=0;T<E;T+=2)this.set(arguments[T],arguments[T+1])}else if(d)if(d instanceof Jo)for(E=d.L(),T=0;T<E.length;T++)this.set(E[T],d.get(E[T]));else for(T in d)this.set(T,d[T])}function au(d){if(d.c!=d.a.length){for(var _=0,E=0;_<d.a.length;){var T=d.a[_];Io(d.b,T)&&(d.a[E++]=T),_++}d.a.length=E}if(d.c!=d.a.length){var V={};for(E=_=0;_<d.a.length;)Io(V,T=d.a[_])||(d.a[E++]=T,V[T]=1),_++;d.a.length=E}}function Io(d,_){return Object.prototype.hasOwnProperty.call(d,_)}(se=Ji.prototype).setTimeout=function(d){this.P=d},se.Wa=function(d){d=d.target;var _=this.F;_&&3==Cr(d)?_.f():this.Ca(d)},se.Ca=function(d){try{if(d==this.a)e:{var _=Cr(this.a),E=this.a.ua(),T=this.a.X();if(!(3>_||3==_&&!ke&&!this.a.$())){this.A||4!=_||7==E||Nr(8==E||0>=T?3:2),Ns(this);var V=this.a.X();this.N=V;var Y=this.a.$();if(this.b=200==V,function Ts(d,_,E,T,V,Y,Ee){d.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+V+"]: "+_+"\n"+E+"\n"+Y+" "+Ee})}(this.c,this.m,this.l,this.f,this.T,_,V),this.b){if(this.V&&!this.C){t:{if(this.a){var Ee,Ct=this.a;if((Ee=Ct.a?Ct.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Ee)){var yt=Ee;break t}}yt=null}if(!yt){this.b=!1,this.h=3,Ln(12),Co(this),Xo(this);break e}vt(this.c,this.f,yt,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,su(this,yt)}this.I?(ou(this,_,Y),ke&&this.b&&3==_&&(Yo(this.J,this.R,"tick",this.Va),this.R.start())):(vt(this.c,this.f,Y,null),su(this,Y)),4==_&&Co(this),this.b&&!this.A&&(4==_?Ps(this.g,this):(this.b=!1,eo(this)))}else 400==V&&0<Y.indexOf("Unknown SID")?(this.h=3,Ln(12)):(this.h=0,Ln(13)),Co(this),Xo(this)}}}catch(Un){}},se.Va=function(){if(this.a){var d=Cr(this.a),_=this.a.$();this.D<_.length&&(Ns(this),ou(this,d,_),this.b&&4!=d&&eo(this))}},se.cancel=function(){this.A=!0,Co(this)},se.Ua=function(){this.o=null;var d=le();0<=d-this.U?(function ic(d,_){d.info(function(){return"TIMEOUT: "+_})}(this.c,this.l),2!=this.H&&(Nr(3),Ln(17)),Co(this),this.h=2,Xo(this)):sc(this,this.U-d)},(se=Jo.prototype).K=function(){au(this);for(var d=[],_=0;_<this.a.length;_++)d.push(this.b[this.a[_]]);return d},se.L=function(){return au(this),this.a.concat()},se.get=function(d,_){return Io(this.b,d)?this.b[d]:_},se.set=function(d,_){Io(this.b,d)||(this.c++,this.a.push(d)),this.b[d]=_},se.forEach=function(d,_){for(var E=this.L(),T=0;T<E.length;T++){var V=E[T],Y=this.get(V);d.call(_,Y,V,this)}};var Je=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kt(d,_){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,d instanceof Kt){this.a=void 0!==_?_:d.a,Rs(this,d.f),this.j=d.j,ma(this,d.c),va(this,d.h),this.g=d.g,_=d.b;var E=new ki;E.c=_.c,_.a&&(E.a=new Jo(_.a),E.b=_.b),ya(this,E),this.i=d.i}else d&&(E=String(d).match(Je))?(this.a=!!_,Rs(this,E[1]||"",!0),this.j=Le(E[2]||""),ma(this,E[3]||"",!0),va(this,E[4]),this.g=Le(E[5]||"",!0),ya(this,E[6]||"",!0),this.i=Le(E[7]||"")):(this.a=!!_,this.b=new ki(null,this.a))}function Gn(d){return new Kt(d)}function Rs(d,_,E){d.f=E?Le(_,!0):_,d.f&&(d.f=d.f.replace(/:$/,""))}function ma(d,_,E){d.c=E?Le(_,!0):_}function va(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.h=_}else d.h=null}function ya(d,_,E){_ instanceof ki?(d.b=_,function ah(d,_){_&&!d.f&&(Zr(d),d.c=null,d.a.forEach(function(E,T){var V=T.toLowerCase();T!=V&&(Xr(this,T),Ao(this,V,E))},d)),d.f=_}(d.b,d.a)):(E||(_=Er(_,Fi)),d.b=new ki(_,d.a))}function Vt(d,_,E){d.b.set(_,E)}function es(d){return Vt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^le()).toString(36)),d}function Le(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Er(d,_,E){return"string"==typeof d?(d=encodeURI(d).replace(_,cc),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function cc(d){return"%"+((d=d.charCodeAt(0))>>4&15).toString(16)+(15&d).toString(16)}Kt.prototype.toString=function(){var d=[],_=this.f;_&&d.push(Er(_,tr,!0),":");var E=this.c;return(E||"file"==_)&&(d.push("//"),(_=this.j)&&d.push(Er(_,tr,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(E=this.h)&&d.push(":",String(E))),(E=this.g)&&(this.c&&"/"!=E.charAt(0)&&d.push("/"),d.push(Er(E,"/"==E.charAt(0)?Os:uu,!0))),(E=this.b.toString())&&d.push("?",E),(E=this.i)&&d.push("#",Er(E,Rr)),d.join("")};var tr=/[#\/\?@]/g,uu=/[#\?:]/g,Os=/[#\?]/g,Fi=/[#\?@]/g,Rr=/#/g;function ki(d,_){this.b=this.a=null,this.c=d||null,this.f=!!_}function Zr(d){d.a||(d.a=new Jo,d.b=0,d.c&&function sh(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var T=d[E].indexOf("="),V=null;if(0<=T){var Y=d[E].substring(0,T);V=d[E].substring(T+1)}else Y=d[E];_(Y,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}(d.c,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}function Xr(d,_){Zr(d),_=wi(d,_),Io(d.a.b,_)&&(d.c=null,d.b-=d.a.get(_).length,Io((d=d.a).b,_)&&(delete d.b[_],d.c--,d.a.length>2*d.c&&au(d)))}function Vn(d,_){return Zr(d),_=wi(d,_),Io(d.a.b,_)}function Ao(d,_,E){Xr(d,_),0<E.length&&(d.c=null,d.a.set(wi(d,_),I(E)),d.b+=E.length)}function wi(d,_){return _=String(_),d.f&&(_=_.toLowerCase()),_}function Ut(d,_){this.b=d,this.a=_}function Al(d){this.g=d||Sl,d=Ie.PerformanceNavigationTiming?0<(d=Ie.performance.getEntriesByType("navigation")).length&&("hq"==d[0].nextHopProtocol||"h2"==d[0].nextHopProtocol):!!(Ie.ia&&Ie.ia.ya&&Ie.ia.ya()&&Ie.ia.ya().qb),this.f=d?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(se=ki.prototype).add=function(d,_){Zr(this),this.c=null,d=wi(this,d);var E=this.a.get(d);return E||this.a.set(d,E=[]),E.push(_),this.b+=1,this},se.forEach=function(d,_){Zr(this),this.a.forEach(function(E,T){Ge(E,function(V){d.call(_,V,T,this)},this)},this)},se.L=function(){Zr(this);for(var d=this.a.K(),_=this.a.L(),E=[],T=0;T<_.length;T++)for(var V=d[T],Y=0;Y<V.length;Y++)E.push(_[T]);return E},se.K=function(d){Zr(this);var _=[];if("string"==typeof d)Vn(this,d)&&(_=x(_,this.a.get(wi(this,d))));else{d=this.a.K();for(var E=0;E<d.length;E++)_=x(_,d[E])}return _},se.set=function(d,_){return Zr(this),this.c=null,Vn(this,d=wi(this,d))&&(this.b-=this.a.get(d).length),this.a.set(d,[_]),this.b+=1,this},se.get=function(d,_){return d&&0<(d=this.K(d)).length?String(d[0]):_},se.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var d=[],_=this.a.L(),E=0;E<_.length;E++){var T=_[E],V=encodeURIComponent(String(T));T=this.K(T);for(var Y=0;Y<T.length;Y++){var Ee=V;""!==T[Y]&&(Ee+="="+encodeURIComponent(String(T[Y]))),d.push(Ee)}}return this.c=d.join("&")};var Sl=10;function to(d){return!!d.b||!!d.a&&d.a.size>=d.f}function Rt(d){return d.b?1:d.a?d.a.size:0}function Dr(d,_){return d.b?d.b==_:!!d.a&&d.a.has(_)}function ts(d,_){d.a?d.a.add(_):d.b=_}function bi(d,_){d.b&&d.b==_?d.b=null:d.a&&d.a.has(_)&&d.a.delete(_)}function _a(d){var _,E;if(null!=d.b)return d.c.concat(d.b.s);if(null!=d.a&&0!==d.a.size){var T=d.c;try{for(var V=Ue(d.a.values()),Y=V.next();!Y.done;Y=V.next())T=T.concat(Y.value.s)}catch(Ct){_={error:Ct}}finally{try{Y&&!Y.done&&(E=V.return)&&E.call(V)}finally{if(_)throw _.error}}return T}return I(d.c)}function Or(){}function Li(){this.a=new Or}function cu(d,_,E){var T=E||"";try{qt(d,function(V,Y){var Ee=V;Me(V)&&(Ee=ua(V)),_.push(T+Y+"="+encodeURIComponent(Ee))})}catch(V){throw _.push(T+"type="+encodeURIComponent("_badmap")),V}}function no(d,_,E,T,V){try{_.onload=null,_.onerror=null,_.onabort=null,_.ontimeout=null,V(T)}catch(Y){}}Al.prototype.cancel=function(){var d,_;if(this.c=_a(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var E=Ue(this.a.values()),T=E.next();!T.done;T=E.next())T.value.cancel()}catch(Y){d={error:Y}}finally{try{T&&!T.done&&(_=E.return)&&_.call(E)}finally{if(d)throw d.error}}this.a.clear()}},Or.prototype.stringify=function(d){return Ie.JSON.stringify(d,void 0)},Or.prototype.parse=function(d){return Ie.JSON.parse(d,void 0)};var lu=Ie.JSON.parse;function sn(d){br.call(this),this.headers=new Jo,this.H=d||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ot,this.D=this.F=!1}pt(sn,br);var Ot="",Lt=/^https?$/i,wa=["POST","PUT"];function Be(d){return"content-type"==d.toLowerCase()}function bn(d,_){d.b=!1,d.a&&(d.g=!0,d.a.abort(),d.g=!1),d.f=_,d.h=5,gn(d),Fr(d)}function gn(d){d.u||(d.u=!0,d.dispatchEvent("complete"),d.dispatchEvent("error"))}function Pr(d){if(d.b&&void 0!==Wt&&(!d.s[1]||4!=Cr(d)||2!=d.X()))if(d.l&&4==Cr(d))nu(d.za,0,d);else if(d.dispatchEvent("readystatechange"),4==Cr(d)){d.b=!1;try{var T,_=d.X();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}if(!(T=E)){var V;if(V=0===_){var Y=String(d.B).match(Je)[1]||null;if(!Y&&Ie.self&&Ie.self.location){var Ee=Ie.self.location.protocol;Y=Ee.substr(0,Ee.length-1)}V=!Lt.test(Y?Y.toLowerCase():"")}T=V}if(T)d.dispatchEvent("complete"),d.dispatchEvent("success");else{d.h=6;try{var Ct=2<Cr(d)?d.a.statusText:""}catch(yt){Ct=""}d.f=Ct+" ["+d.X()+"]",gn(d)}}finally{Fr(d)}}}function Fr(d,_){if(d.a){nr(d);var E=d.a,T=d.s[0]?rn:null;d.a=null,d.s=null,_||d.dispatchEvent("ready");try{E.onreadystatechange=T}catch(V){}}}function nr(d){d.a&&d.D&&(d.a.ontimeout=null),d.m&&(Ie.clearTimeout(d.m),d.m=null)}function Cr(d){return d.a?d.a.readyState:0}function $n(d,_,E){e:{for(T in E){var T=!1;break e}T=!0}T||(E=function ro(d){var _="";return we(d,function(E,T){_+=T,_+=":",_+=E,_+="\r\n"}),_}(E),"string"==typeof d?null!=E&&encodeURIComponent(String(E)):Vt(d,_,E))}function Vi(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function Ui(d){this.pa=0,this.g=[],this.c=new Yr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Vi("failFast",!1,d),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Vi("baseRetryDelayMs",5e3,d),this.Ma=Vi("retryDelaySeedMs",1e4,d),this.Ja=Vi("forwardChannelMaxRetries",2,d),this.ma=Vi("forwardChannelRequestTimeoutMs",2e4,d),this.Ka=d&&d.g||void 0,this.D=void 0,this.C=d&&d.supportsCrossDomainXhr||!1,this.J="",this.b=new Al(d&&d.concurrentRequestLimit),this.ka=new Li,this.da=d&&d.fastHandshake||!1,this.Ga=d&&d.b||!1,d&&d.f&&(this.c.a=!1),d&&d.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&d&&d.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function En(d){if(hr(d),3==d.v){var _=d.R++,E=Gn(d.B);Vt(E,"SID",d.J),Vt(E,"RID",_),Vt(E,"TYPE","terminate"),Jr(d,E),(_=new Ji(d,d.c,_,void 0)).H=2,_.i=es(Gn(E)),E=!1,Ie.navigator&&Ie.navigator.sendBeacon&&(E=Ie.navigator.sendBeacon(_.i.toString(),"")),!E&&Ie.Image&&((new Image).src=_.i,E=!0),E||(_.a=ti(_.g,null),_.a.ba(_.i)),_.u=le(),eo(_)}oo(d)}function ji(d){d.a&&(So(d),d.a.cancel(),d.a=null)}function hr(d){ji(d),d.j&&(Ie.clearTimeout(d.j),d.j=null),et(d),d.b.cancel(),d.h&&("number"==typeof d.h&&Ie.clearTimeout(d.h),d.h=null)}function _e(d,_){d.g.push(new Ut(d.La++,_)),3==d.v&&Ye(d)}function Ye(d){to(d.b)||d.h||(d.h=!0,bo(d.Ba,d),d.u=0)}function Yt(d,_){var E;E=_?_.f:d.R++;var T=Gn(d.B);Vt(T,"SID",d.J),Vt(T,"RID",E),Vt(T,"AID",d.P),Jr(d,T),d.i&&d.l&&$n(T,d.i,d.l),E=new Ji(d,d.c,E,d.u+1),null===d.i&&(E.B=d.l),_&&(d.g=_.s.concat(d.g)),_=Dn(d,E,1e3),E.setTimeout(Math.round(.5*d.ma)+Math.round(.5*d.ma*Math.random())),ts(d.b,E),Do(E,T,_)}function Jr(d,_){d.f&&qt({},function(E,T){Vt(_,T,E)})}function Dn(d,_,E){E=Math.min(d.g.length,E);var T=d.f?ae(d.f.Ha,d.f,d):null;e:for(var V=d.g,Y=-1;;){var Ee=["count="+E];-1==Y?0<E?Ee.push("ofs="+(Y=V[0].b)):Y=0:Ee.push("ofs="+Y);for(var Ct=!0,yt=0;yt<E;yt++){var Un=V[yt].b,Di=V[yt].a;if(0>(Un-=Y))Y=Math.max(0,V[yt].b-100),Ct=!1;else try{cu(Di,Ee,"req"+Un+"_")}catch(ri){T&&T(Di)}}if(Ct){T=Ee.join("&");break e}}return d=d.g.splice(0,E),_.s=d,T}function io(d){d.a||d.j||(d.U=1,bo(d.Aa,d),d.o=0)}function Jt(d){return!(d.a||d.j||3<=d.o||(d.U++,d.j=Nt(ae(d.Aa,d),ei(d,d.o)),d.o++,0))}function So(d){null!=d.s&&(Ie.clearTimeout(d.s),d.s=null)}function To(d){d.a=new Ji(d,d.c,"rpc",d.U),null===d.i&&(d.a.B=d.l),d.a.O=0;var _=Gn(d.la);Vt(_,"RID","rpc"),Vt(_,"SID",d.J),Vt(_,"CI",d.H?"0":"1"),Vt(_,"AID",d.P),Jr(d,_),Vt(_,"TYPE","xmlhttp"),d.i&&d.l&&$n(_,d.i,d.l),d.D&&d.a.setTimeout(d.D);var E=d.a;d=d.ga,E.H=1,E.i=es(Gn(_)),E.j=null,E.I=!0,_n(E,d)}function et(d){null!=d.m&&(Ie.clearTimeout(d.m),d.m=null)}function Ps(d,_){var E=null;if(d.a==_){et(d),So(d),d.a=null;var T=2}else{if(!Dr(d.b,_))return;E=_.s,bi(d.b,_),T=1}if(d.I=_.N,0!=d.v)if(_.b)if(1==T){E=_.j?_.j.length:0,_=le()-_.u;var V=d.u;(T=xr()).dispatchEvent(new fa(T,E,_,V)),Ye(d)}else io(d);else if(3==(V=_.h)||0==V&&0<d.I||!(1==T&&function Zt(d,_){return!(Rt(d.b)>=d.b.f-(d.h?1:0)||(d.h?(d.g=_.s.concat(d.g),0):1==d.v||2==d.v||d.u>=(d.Ia?0:d.Ja)||(d.h=Nt(ae(d.Ba,d,_),ei(d,d.u)),d.u++,0)))}(d,_)||2==T&&Jt(d)))switch(E&&0<E.length&&(_=d.b,_.c=_.c.concat(E)),V){case 1:kr(d,5);break;case 4:kr(d,10);break;case 3:kr(d,6);break;default:kr(d,2)}}function ei(d,_){var E=d.Fa+Math.floor(Math.random()*d.Ma);return d.f||(E*=2),E*_}function kr(d,_){if(d.c.info("Error code "+_),2==_){var E=null;d.f&&(E=null);var T=ae(d.Xa,d);E||(E=new Kt("//www.google.com/images/cleardot.gif"),Ie.location&&"http"==Ie.location.protocol||Rs(E,"https"),es(E)),function wn(d,_){var E=new Yr;if(Ie.Image){var T=new Image;T.onload=ge(no,E,T,"TestLoadImage: loaded",!0,_),T.onerror=ge(no,E,T,"TestLoadImage: error",!1,_),T.onabort=ge(no,E,T,"TestLoadImage: abort",!1,_),T.ontimeout=ge(no,E,T,"TestLoadImage: timeout",!1,_),Ie.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=d}else _(!1)}(E.toString(),T)}else Ln(2);d.v=0,d.f&&d.f.ra(_),oo(d),hr(d)}function oo(d){d.v=0,d.I=-1,d.f&&((0!=_a(d.b).length||0!=d.g.length)&&(d.b.c.length=0,I(d.g),d.g.length=0),d.f.qa())}function qn(d,_,E){var T=function ac(d){return d instanceof Kt?Gn(d):new Kt(d,void 0)}(E);if(""!=T.c)_&&ma(T,_+"."+T.c),va(T,T.h);else{var V=Ie.location;T=function uc(d,_,E,T){var V=new Kt(null,void 0);return d&&Rs(V,d),_&&ma(V,_),E&&va(V,E),T&&(V.g=T),V}(V.protocol,_?_+"."+V.hostname:V.hostname,+V.port,E)}return d.W&&we(d.W,function(Y,Ee){Vt(T,Ee,Y)}),E=d.na,(_=d.A)&&E&&Vt(T,_,E),Vt(T,"VER",d.ha),Jr(d,T),T}function ti(d,_){if(_&&!d.C)throw Error("Can't create secondary domain capable XhrIo object.");return(_=new sn(d.Ka)).F=d.C,_}function Mo(){}function dr(){if(mt&&!(10<=Number(Fn)))throw Error("Environmental error: no available transport.")}function He(d,_){br.call(this),this.a=new Ui(_),this.l=d,this.b=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.a.l=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.a&&(d?d["X-WebChannel-Client-Profile"]=_.a:d={"X-WebChannel-Client-Profile":_.a}),this.a.O=d,(d=_&&_.httpHeadersOverwriteParam)&&!P(d)&&(this.a.i=d),this.h=_&&_.supportsCrossDomainXhr||!1,this.g=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.a.A=_,null!==(d=this.b)&&_ in d&&_ in(d=this.b)&&delete d[_]),this.f=new mn(this)}function ba(d){Sn.call(this);var _=d.__sm__;if(_){e:{for(var E in _){d=E;break e}d=void 0}(this.c=d)?(d=this.c,this.data=null!==_&&d in _?_[d]:void 0):this.data=_}else this.data=d}function he(){da.call(this),this.status=1}function mn(d){this.a=d}(se=sn.prototype).ba=function(d,_,E,T){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+d);_=_?_.toUpperCase():"GET",this.B=d,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function Dt(d){var _;return(_=d.a)||(_=d.a={}),_}(this.H?this.H:pa),this.a.onreadystatechange=ae(this.za,this);try{this.A=!0,this.a.open(_,String(d),!0),this.A=!1}catch(Y){return void bn(this,Y)}d=E||"";var V=new Jo(this.headers);T&&qt(T,function(Y,Ee){V.set(Ee,Y)}),T=function C(d){e:{for(var _=Be,E=d.length,T="string"==typeof d?d.split(""):d,V=0;V<E;V++)if(V in T&&_.call(void 0,T[V],V,d)){_=V;break e}_=-1}return 0>_?null:"string"==typeof d?d.charAt(_):d[_]}(V.L()),E=Ie.FormData&&d instanceof Ie.FormData,!(0<=pn(wa,_))||T||E||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),V.forEach(function(Y,Ee){this.a.setRequestHeader(Ee,Y)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{nr(this),0<this.o&&((this.D=function Ei(d){return mt&&On(9)&&"number"==typeof d.timeout&&void 0!==d.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ae(this.xa,this)):this.m=nu(this.xa,this.o,this)),this.l=!0,this.a.send(d),this.l=!1}catch(Y){bn(this,Y)}},se.xa=function(){void 0!==Wt&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},se.abort=function(d){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=d||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fr(this))},se.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Fr(this,!0)),sn.S.G.call(this)},se.za=function(){this.j||(this.A||this.l||this.g?Pr(this):this.Ta())},se.Ta=function(){Pr(this)},se.X=function(){try{return 2<Cr(this)?this.a.status:-1}catch(d){return-1}},se.$=function(){try{return this.a?this.a.responseText:""}catch(d){return""}},se.Na=function(d){if(this.a){var _=this.a.responseText;return d&&0==_.indexOf(d)&&(_=_.substring(d.length)),lu(_)}},se.ua=function(){return this.h},se.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(se=Ui.prototype).ha=8,se.v=1,se.Ba=function(d){if(this.h)if(this.h=null,1==this.v){if(!d){this.R=Math.floor(1e5*Math.random()),d=this.R++;var T,_=new Ji(this,this.c,d,void 0),E=this.l;if(this.O&&(E?be(E=Te(E),this.O):E=this.O),null===this.i&&(_.B=E),this.da)e:{for(var V=T=0;V<this.g.length;V++){var Y=this.g[V];if(void 0===(Y="__data__"in Y.a&&"string"==typeof(Y=Y.a.__data__)?Y.length:void 0))break;if(4096<(T+=Y)){T=V;break e}if(4096===T||V===this.g.length-1){T=V+1;break e}}T=1e3}else T=1e3;T=Dn(this,_,T),Vt(V=Gn(this.B),"RID",d),Vt(V,"CVER",22),this.A&&Vt(V,"X-HTTP-Session-Id",this.A),Jr(this,V),this.i&&E&&$n(V,this.i,E),ts(this.b,_),this.Ga&&Vt(V,"TYPE","init"),this.da?(Vt(V,"$req",T),Vt(V,"SID","null"),_.V=!0,Do(_,V,null)):Do(_,V,T),this.v=2}}else 3==this.v&&(d?Yt(this,d):0==this.g.length||to(this.b)||Yt(this))},se.Aa=function(){if(this.j=null,To(this),this.V&&!(this.F||null==this.a||0>=this.N)){var d=2*this.N;this.c.info("BP detection timer enabled: "+d),this.s=Nt(ae(this.Sa,this),d)}},se.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ji(this),To(this))},se.Ra=function(){null!=this.m&&(this.m=null,ji(this),Jt(this),Ln(19))},se.Xa=function(d){d?(this.c.info("Successfully pinged google.com"),Ln(2)):(this.c.info("Failed to ping google.com"),Ln(1))},(se=Mo.prototype).ta=function(){},se.sa=function(){},se.ra=function(){},se.qa=function(){},se.Ha=function(){},dr.prototype.a=function(d,_){return new He(d,_)},pt(He,br),(se=He.prototype).addEventListener=function(d,_,E,T){He.S.addEventListener.call(this,d,_,E,T)},se.removeEventListener=function(d,_,E,T){He.S.removeEventListener.call(this,d,_,E,T)},se.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var d=this.a,_=this.l,E=this.b||void 0;Ln(0),d.fa=_,d.W=E||{},d.H=d.T,d.B=qn(d,null,d.fa),Ye(d)},se.close=function(){En(this.a)},se.Pa=function(d){if("string"==typeof d){var _={};_.__data__=d,_e(this.a,_)}else this.g?((_={}).__data__=ua(d),_e(this.a,_)):_e(this.a,d)},se.G=function(){this.a.f=null,delete this.f,En(this.a),delete this.a,He.S.G.call(this)},pt(ba,Sn),pt(he,da),pt(mn,Mo),mn.prototype.ta=function(){this.a.dispatchEvent("a")},mn.prototype.sa=function(d){this.a.dispatchEvent(new ba(d))},mn.prototype.ra=function(d){this.a.dispatchEvent(new he(d))},mn.prototype.qa=function(){this.a.dispatchEvent("b")},dr.prototype.createWebChannel=dr.prototype.a,He.prototype.send=He.prototype.Pa,He.prototype.open=He.prototype.Oa,He.prototype.close=He.prototype.close,We.NO_ERROR=0,We.TIMEOUT=8,We.HTTP_ERROR=6,xs.COMPLETE="complete",ha.EventType=je,je.OPEN="a",je.CLOSE="b",je.ERROR="c",je.MESSAGE="d",br.prototype.listen=br.prototype.va,sn.prototype.listenOnce=sn.prototype.wa,sn.prototype.getLastError=sn.prototype.Qa,sn.prototype.getLastErrorCode=sn.prototype.ua,sn.prototype.getStatus=sn.prototype.X,sn.prototype.getResponseJson=sn.prototype.Na,sn.prototype.getResponseText=sn.prototype.$,sn.prototype.send=sn.prototype.ba;var Lr=function(){return new dr},so=We,ni=xs,ns=ha,Vr=sn;const Tl={createWebChannelTransport:Lr,ErrorCode:We,EventType:xs,WebChannel:ha,XhrIo:sn}},647:(Wr,de,rt)=>{function N(e){return"function"==typeof e}function lt(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ue=lt(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Se(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class se{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const u of n)u.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(N(r))try{r()}catch(u){t=u instanceof Ue?u.errors:[u]}const{_teardowns:o}=this;if(o){this._teardowns=null;for(const u of o)try{rn(u)}catch(l){t=null!=t?t:[],l instanceof Ue?t=[...t,...l.errors]:t.push(l)}}if(t)throw new Ue(t)}}add(t){var n;if(t&&t!==this)if(this.closed)rn(t);else{if(t instanceof se){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Se(n,t)}remove(t){const{_teardowns:n}=this;n&&Se(n,t),t instanceof se&&t._removeParent(this)}}se.EMPTY=(()=>{const e=new se;return e.closed=!0,e})();const Wt=se.EMPTY;function Ie(e){return e instanceof se||e&&"closed"in e&&N(e.remove)&&N(e.add)&&N(e.unsubscribe)}function rn(e){N(e)?e():e.unsubscribe()}const U={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},H={setTimeout(...e){const{delegate:t}=H;return((null==t?void 0:t.setTimeout)||setTimeout)(...e)},clearTimeout(e){const{delegate:t}=H;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Me(e){H.setTimeout(()=>{const{onUnhandledError:t}=U;if(!t)throw e;t(e)})}function me(){}const W=Qe("C",void 0,void 0);function Qe(e,t,n){return{kind:e,value:t,error:n}}let ae=null;function ge(e){if(U.useDeprecatedSynchronousErrorHandling){const t=!ae;if(t&&(ae={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=ae;if(ae=null,n)throw r}}else e()}class pt extends se{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ie(t)&&t.add(this)):this.destination=P}static create(t,n,r){return new Ge(t,n,r)}next(t){this.isStopped?I(function At(e){return Qe("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?I(function ye(e){return Qe("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?I(W,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const it=Function.prototype.bind;function en(e,t){return it.call(e,t)}class pn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){C(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){C(r)}else C(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){C(n)}}}class Ge extends pt{constructor(t,n,r){let o;if(super(),N(t)||!t)o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let u;this&&U.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&en(t.next,u),error:t.error&&en(t.error,u),complete:t.complete&&en(t.complete,u)}):o=t}this.destination=new pn(o)}}function C(e){U.useDeprecatedSynchronousErrorHandling?function le(e){U.useDeprecatedSynchronousErrorHandling&&ae&&(ae.errorThrown=!0,ae.error=e)}(e):Me(e)}function I(e,t){const{onStoppedNotification:n}=U;n&&H.setTimeout(()=>n(e,t))}const P={closed:!0,next:me,error:function x(e){throw e},complete:me},F="function"==typeof Symbol&&Symbol.observable||"@@observable";function M(e){return e}let ve=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const u=function Te(e){return e&&e instanceof pt||function we(e){return e&&N(e.next)&&N(e.error)&&N(e.complete)}(e)&&Ie(e)}(n)?n:new Ge(n,r,o);return ge(()=>{const{operator:l,source:h}=this;u.add(l?l.call(u,h):h?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Q(r))((o,u)=>{const l=new Ge({next:h=>{try{n(h)}catch(g){u(g),l.unsubscribe()}},error:u,complete:o});this.subscribe(l)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[F](){return this}pipe(...n){return function te(e){return 0===e.length?M:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}(n)(this)}toPromise(n){return new(n=Q(n))((r,o)=>{let u;this.subscribe(l=>u=l,l=>o(l),()=>r(u))})}}return e.create=t=>new e(t),e})();function Q(e){var t;return null!==(t=null!=e?e:U.Promise)&&void 0!==t?t:Promise}const ie=lt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let be=(()=>{class e extends ve{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new gt(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ie}next(n){ge(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const o of r)o.next(n)}})}error(n){ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:u}=this;return r||o?Wt:(u.push(n),new se(()=>Se(u,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:u}=this;r?n.error(o):u&&n.complete()}asObservable(){const n=new ve;return n.source=this,n}}return e.create=(t,n)=>new gt(t,n),e})();class gt extends be{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Wt}}function Ht(e){return N(null==e?void 0:e.lift)}function Gt(e){return t=>{if(Ht(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(e,t,n,r,o){return new Rn(e,t,n,r,o)}class Rn extends pt{constructor(t,n,r,o,u,l){super(t),this.onFinalize=u,this.shouldUnsubscribe=l,this._next=n?function(h){try{n(h)}catch(g){t.error(g)}}:super._next,this._error=o?function(h){try{o(h)}catch(g){t.error(g)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ke(e,t){return Gt((n,r)=>{let o=0;n.subscribe(mt(r,u=>{r.next(e.call(t,u,o++))}))})}function $e(e){return this instanceof $e?(this.v=e,this):new $e(e)}function Ni(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),u=[];return o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o;function l(S){r[S]&&(o[S]=function(O){return new Promise(function(B,ee){u.push([S,O,B,ee])>1||h(S,O)})})}function h(S,O){try{!function g(S){S.value instanceof $e?Promise.resolve(S.value.v).then(v,w):D(u[0][2],S)}(r[S](O))}catch(B){D(u[0][3],B)}}function v(S){h("next",S)}function w(S){h("throw",S)}function D(S,O){S(O),u.shift(),u.length&&h(u[0][0],u[0][1])}}function j(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Fn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(u){n[u]=e[u]&&function(l){return new Promise(function(h,g){!function o(u,l,h,g){Promise.resolve(g).then(function(v){u({value:v,done:h})},l)}(h,g,(l=e[u](l)).done,l.value)})}}}const Re=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function xt(e){return N(null==e?void 0:e.then)}function kn(e){return N(e[F])}function An(e){return Symbol.asyncIterator&&N(null==e?void 0:e[Symbol.asyncIterator])}function fn(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ri=function on(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function yi(e){return N(null==e?void 0:e[Ri])}function hn(e){return Ni(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield $e(n.read());if(o)return yield $e(void 0);yield yield $e(r)}}finally{n.releaseLock()}})}function tu(e){return N(null==e?void 0:e.getReader)}function Mr(e){if(e instanceof ve)return e;if(null!=e){if(kn(e))return function Oi(e){return new ve(t=>{const n=e[F]();if(N(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Re(e))return function Wo(e){return new ve(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(xt(e))return function br(e){return new ve(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Me)})}(e);if(An(e))return ua(e);if(yi(e))return function Zi(e){return new ve(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(tu(e))return function tc(e){return ua(hn(e))}(e)}throw fn(e)}function ua(e){return new ve(t=>{(function $t(e,t){var n,r,o,u;return function dt(e,t,n,r){return new(n||(n=Promise))(function(u,l){function h(w){try{v(r.next(w))}catch(D){l(D)}}function g(w){try{v(r.throw(w))}catch(D){l(D)}}function v(w){w.done?u(w.value):function o(u){return u instanceof n?u:new n(function(l){l(u)})}(w.value).then(h,g)}v((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=j(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(l){o={error:l}}finally{try{r&&!r.done&&(u=n.return)&&(yield u.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Pi(e,t,n,r=0,o=!1){const u=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(u),!o)return u}function yn(e,t,n=1/0){return N(t)?yn((r,o)=>ke((u,l)=>t(r,u,o,l))(Mr(e(r,o))),n):("number"==typeof t&&(n=t),Gt((r,o)=>function Qo(e,t,n,r,o,u,l,h){const g=[];let v=0,w=0,D=!1;const S=()=>{D&&!g.length&&!v&&t.complete()},O=ee=>v<r?B(ee):g.push(ee),B=ee=>{u&&t.next(ee),v++;let ne=!1;Mr(n(ee,w++)).subscribe(mt(t,ue=>{null==o||o(ue),u?O(ue):t.next(ue)},()=>{ne=!0},void 0,()=>{if(ne)try{for(v--;g.length&&v<r;){const ue=g.shift();l?Pi(t,l,()=>B(ue)):B(ue)}S()}catch(ue){t.error(ue)}}))};return e.subscribe(mt(t,O,()=>{D=!0,S()})),()=>{null==h||h()}}(r,o,e,n)))}function bo(e=1/0){return yn(M,e)}const lr=new ve(e=>e.complete());function ca(e){return e[e.length-1]}function Ko(e){return N(ca(e))?e.pop():void 0}function Xi(e){return function Ss(e){return e&&N(e.schedule)}(ca(e))?e.pop():void 0}function Kr(e,t=0){return Gt((n,r)=>{n.subscribe(mt(r,o=>Pi(r,e,()=>r.next(o),t),()=>Pi(r,e,()=>r.complete(),t),o=>Pi(r,e,()=>r.error(o),t)))})}function la(e,t=0){return Gt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Yr(e,t){if(!e)throw new Error("Iterable cannot be null");return new ve(n=>{Pi(n,t,()=>{const r=e[Symbol.asyncIterator]();Pi(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function vt(e,t){return t?function Ts(e,t){if(null!=e){if(kn(e))return function Eo(e,t){return Mr(e).pipe(la(t),Kr(t))}(e,t);if(Re(e))return function Yo(e,t){return new ve(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(xt(e))return function ru(e,t){return Mr(e).pipe(la(t),Kr(t))}(e,t);if(An(e))return Yr(e,t);if(yi(e))return function rc(e,t){return new ve(n=>{let r;return Pi(n,t,()=>{r=e[Ri](),Pi(n,t,()=>{let o,u;try{({value:o,done:u}=r.next())}catch(l){return void n.error(l)}u?n.complete():n.next(o)},0,!0)}),()=>N(null==r?void 0:r.return)&&r.return()})}(e,t);if(tu(e))return function _i(e,t){return Yr(hn(e),t)}(e,t)}throw fn(e)}(e,t):Mr(e)}function Zo(e){return e<=0?()=>lr:Gt((t,n)=>{let r=0;t.subscribe(mt(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Ms(e={}){const{connector:t=(()=>new be),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return u=>{let l=null,h=null,g=null,v=0,w=!1,D=!1;const S=()=>{null==h||h.unsubscribe(),h=null},O=()=>{S(),l=g=null,w=D=!1},B=()=>{const ee=l;O(),null==ee||ee.unsubscribe()};return Gt((ee,ne)=>{v++,!D&&!w&&S();const ue=g=null!=g?g:t();ne.add(()=>{v--,0===v&&!D&&!w&&(h=xr(B,o))}),ue.subscribe(ne),l||(l=new Ge({next:J=>ue.next(J),error:J=>{D=!0,S(),h=xr(O,n,J),ue.error(J)},complete:()=>{w=!0,S(),h=xr(O,r),ue.complete()}}),vt(ee).subscribe(l))})(u)}}function xr(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(Zo(1)).subscribe(()=>e())}function qe(e){for(let t in e)if(e[t]===qe)return t;throw Error("Could not find renamed property on target object.")}function Nr(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function St(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(St).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ln(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const fa=qe({__forward_ref__:qe});function Nt(e){return e.__forward_ref__=Nt,e.toString=function(){return St(this())},e}function We(e){return xs(e)?e():e}function xs(e){return"function"==typeof e&&e.hasOwnProperty(fa)&&e.__forward_ref__===Nt}class Dt extends Error{constructor(t,n){super(function ha(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function je(e){return"string"==typeof e?e:null==e?"":String(e)}function Sn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():je(e)}function Ji(e,t){const n=t?` in ${t}`:"";throw new Dt(-201,`No provider for ${Sn(e)} found${n}`)}function fr(e,t){null==e&&function qt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Je(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Kt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Gn(e){return Rs(e,Vt)||Rs(e,ac)}function Rs(e,t){return e.hasOwnProperty(t)?e[t]:null}function ya(e){return e&&(e.hasOwnProperty(es)||e.hasOwnProperty(uc))?e[es]:null}const Vt=qe({\u0275prov:qe}),es=qe({\u0275inj:qe}),ac=qe({ngInjectableDef:qe}),uc=qe({ngInjectorDef:qe});var Le=(()=>((Le=Le||{})[Le.Default=0]="Default",Le[Le.Host=1]="Host",Le[Le.Self=2]="Self",Le[Le.SkipSelf=4]="SkipSelf",Le[Le.Optional=8]="Optional",Le))();let Er;function tr(e){const t=Er;return Er=e,t}function uu(e,t,n){const r=Gn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Le.Optional?null:void 0!==t?t:void Ji(St(e),"Injector")}function Fi(e){return{toString:e}.toString()}var Rr=(()=>((Rr=Rr||{})[Rr.OnPush=0]="OnPush",Rr[Rr.Default=1]="Default",Rr))(),Xr=(()=>{return(e=Xr||(Xr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Xr;var e})();const Vn="undefined"!=typeof globalThis&&globalThis,Ao="undefined"!=typeof window&&window,wi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ut=Vn||"undefined"!=typeof global&&global||Ao||wi,to={},Rt=[],Dr=qe({\u0275cmp:qe}),ts=qe({\u0275dir:qe}),bi=qe({\u0275pipe:qe}),_a=qe({\u0275mod:qe}),Or=qe({\u0275fac:qe}),Li=qe({__NG_ELEMENT_ID__:qe});let cu=0;function wn(e){return Fi(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Rr.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Rt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Xr.Emulated,id:"c",styles:e.styles||Rt,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,u=e.features,l=e.pipes;return r.id+=cu++,r.inputs=Ei(e.inputs,n),r.outputs=Ei(e.outputs),u&&u.forEach(h=>h(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(lu):null,r.pipeDefs=l?()=>("function"==typeof l?l():l).map(sn):null,r})}function lu(e){return gn(e)||function Pr(e){return e[ts]||null}(e)}function sn(e){return function Fr(e){return e[bi]||null}(e)}const Ot={};function Lt(e){return Fi(()=>{const t={type:e.type,bootstrap:e.bootstrap||Rt,declarations:e.declarations||Rt,imports:e.imports||Rt,exports:e.exports||Rt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Ot[e.id]=e.type),t})}function Ei(e,t){if(null==e)return to;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],u=o;Array.isArray(o)&&(u=o[1],o=o[0]),n[o]=r,t&&(t[o]=u)}return n}const Be=wn;function bn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function gn(e){return e[Dr]||null}function nr(e,t){const n=e[_a]||null;if(!n&&!0===t)throw new Error(`Type ${St(e)} does not have '\u0275mod' property.`);return n}function mn(e){return Array.isArray(e)&&"object"==typeof e[1]}function Lr(e){return Array.isArray(e)&&!0===e[1]}function so(e){return 0!=(8&e.flags)}function ni(e){return 2==(2&e.flags)}function ns(e){return 1==(1&e.flags)}function Vr(e){return null!==e.template}function xo(e){return 0!=(512&e[2])}function rs(e,t){return e.hasOwnProperty(Or)?e[Or]:null}class Hp{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ur(){return fc}function fc(e){return e.type.prototype.ngOnChanges&&(e.setInput=xl),Ml}function Ml(){const e=Nl(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===to)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function xl(e,t,n,r){const o=Nl(e)||function fh(e,t){return e[lh]=t}(e,{previous:to,current:null}),u=o.current||(o.current={}),l=o.previous,h=this.declaredInputs[n],g=l[h];u[h]=new Hp(g&&g.currentValue,t,l===to),e[r]=t}Ur.ngInherit=!0;const lh="__ngSimpleChanges__";function Nl(e){return e[lh]||null}let Rl;function jt(e){return!!e.listen}const dh={createRenderer:(e,t)=>function Ol(){return void 0!==Rl?Rl:"undefined"!=typeof document?document:void 0}()};function Cn(e){for(;Array.isArray(e);)e=e[0];return e}function ks(e,t){return Cn(t[e])}function Ar(e,t){return Cn(t[e.index])}function Ls(e,t){return e.data[t]}function Vs(e,t){return e[t]}function ii(e,t){const n=t[e];return mn(n)?n:n[0]}function kl(e){return 4==(4&e[2])}function gc(e){return 128==(128&e[2])}function oi(e,t){return null==t?null:e[t]}function Ll(e){e[18]=0}function Vl(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const tt={lFrame:bc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ph(){return tt.bindingsEnabled}function ce(){return tt.lFrame.lView}function nt(){return tt.lFrame.tView}function Mn(e){return tt.lFrame.contextLView=e,e[8]}function ct(){let e=rr();for(;null!==e&&64===e.type;)e=e.parent;return e}function rr(){return tt.lFrame.currentTNode}function ao(e,t){const n=tt.lFrame;n.currentTNode=e,n.isParent=t}function an(){return tt.lFrame.isParent}function gr(){return tt.isInCheckNoChangesMode}function uo(e){tt.isInCheckNoChangesMode=e}function mr(){const e=tt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ia(){return tt.lFrame.bindingIndex++}function Aa(e,t){const n=tt.lFrame;n.bindingIndex=n.bindingRootIndex=e,lo(t)}function lo(e){tt.lFrame.currentDirectiveIndex=e}function _c(){return tt.lFrame.currentQueryIndex}function jr(e){tt.lFrame.currentQueryIndex=e}function du(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function pu(e,t,n){if(n&Le.SkipSelf){let o=t,u=e;for(;!(o=o.parent,null!==o||n&Le.Host||(o=du(u),null===o||(u=u[15],10&o.type))););if(null===o)return!1;t=o,e=u}const r=tt.lFrame=gu();return r.currentTNode=t,r.lView=e,!0}function wc(e){const t=gu(),n=e[1];tt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function gu(){const e=tt.lFrame,t=null===e?null:e.child;return null===t?bc(e):t}function bc(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function yh(){const e=tt.lFrame;return tt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const _h=yh;function mu(){const e=yh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zn(){return tt.lFrame.selectedIndex}function ai(e){tt.lFrame.selectedIndex=e}function nn(){const e=tt.lFrame;return Ls(e.tView,e.selectedIndex)}function Ec(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const u=e.data[n].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:h,ngAfterViewInit:g,ngAfterViewChecked:v,ngOnDestroy:w}=u;l&&(e.contentHooks||(e.contentHooks=[])).push(-n,l),h&&((e.contentHooks||(e.contentHooks=[])).push(n,h),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,h)),g&&(e.viewHooks||(e.viewHooks=[])).push(-n,g),v&&((e.viewHooks||(e.viewHooks=[])).push(n,v),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,v)),null!=w&&(e.destroyHooks||(e.destroyHooks=[])).push(n,w)}}function vu(e,t,n){bh(e,t,3,n)}function Dc(e,t,n,r){(3&e[2])===n&&bh(e,t,n,r)}function Bl(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function bh(e,t,n,r){const u=null!=r?r:-1,l=t.length-1;let h=0;for(let g=void 0!==r?65535&e[18]:0;g<l;g++)if("number"==typeof t[g+1]){if(h=t[g],null!=r&&h>=r)break}else t[g]<0&&(e[18]+=65536),(h<u||-1==u)&&(Eh(e,n,t,g),e[18]=(4294901760&e[18])+g+2),g++}function Eh(e,t,n,r){const o=n[r]<0,u=n[r+1],h=e[o?-n[r]:n[r]];if(o){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{u.call(h)}finally{}}}else try{u.call(h)}finally{}}class yu{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ta(e,t,n){const r=jt(e);let o=0;for(;o<n.length;){const u=n[o];if("number"==typeof u){if(0!==u)break;o++;const l=n[o++],h=n[o++],g=n[o++];r?e.setAttribute(t,h,g,l):t.setAttributeNS(l,h,g)}else{const l=u,h=n[++o];wu(l)?r&&e.setProperty(t,l,h):r?e.setAttribute(t,l,h):t.setAttribute(l,h),o++}}return o}function Gl(e){return 3===e||4===e||6===e}function wu(e){return 64===e.charCodeAt(0)}function Ma(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||No(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function No(e,t,n,r,o){let u=0,l=e.length;if(-1===t)l=-1;else for(;u<e.length;){const h=e[u++];if("number"==typeof h){if(h===t){l=-1;break}if(h>t){l=u-1;break}}}for(;u<e.length;){const h=e[u];if("number"==typeof h)break;if(h===n){if(null===r)return void(null!==o&&(e[u+1]=o));if(r===e[u+1])return void(e[u+2]=o)}u++,null!==r&&u++,null!==o&&u++}-1!==l&&(e.splice(l,0,t),u=l+1),e.splice(u++,0,n),null!==r&&e.splice(u++,0,r),null!==o&&e.splice(u++,0,o)}function $l(e){return-1!==e}function xa(e){return 32767&e}function Na(e,t){let n=function tg(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Ra=!0;function bu(e){const t=Ra;return Ra=e,t}let ng=0;function Du(e,t){const n=Cu(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Wl(r.data,e),Wl(t,null),Wl(r.blueprint,null));const o=Ro(e,t),u=e.injectorIndex;if($l(o)){const l=xa(o),h=Na(o,t),g=h[1].data;for(let v=0;v<8;v++)t[u+v]=h[l+v]|g[l+v]}return t[u+8]=o,u}function Wl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Cu(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ro(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){const u=o[1],l=u.type;if(r=2===l?u.declTNode:1===l?o[6]:null,null===r)return-1;if(n++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Hi(e,t,n){!function rg(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Li)&&(r=n[Li]),null==r&&(r=n[Li]=ng++);const o=255&r;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function Ql(e,t,n){if(n&Le.Optional)return e;Ji(t,"NodeInjector")}function Kl(e,t,n,r){if(n&Le.Optional&&void 0===r&&(r=null),0==(n&(Le.Self|Le.Host))){const o=e[9],u=tr(void 0);try{return o?o.get(t,r,n&Le.Optional):uu(t,r,n&Le.Optional)}finally{tr(u)}}return Ql(r,t,n)}function Ih(e,t,n,r=Le.Default,o){if(null!==e){const u=function Sh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Li)?e[Li]:void 0;return"number"==typeof t?t>=0?255&t:ig:t}(n);if("function"==typeof u){if(!pu(t,e,r))return r&Le.Host?Ql(o,n,r):Kl(t,n,r,o);try{const l=u(r);if(null!=l||r&Le.Optional)return l;Ji(n)}finally{_h()}}else if("number"==typeof u){let l=null,h=Cu(e,t),g=-1,v=r&Le.Host?t[16][6]:null;for((-1===h||r&Le.SkipSelf)&&(g=-1===h?Ro(e,t):t[h+8],-1!==g&&Th(r,!1)?(l=t[1],h=xa(g),t=Na(g,t)):h=-1);-1!==h;){const w=t[1];if(Yl(u,h,w.data)){const D=og(h,t,n,l,r,v);if(D!==Ah)return D}g=t[h+8],-1!==g&&Th(r,t[1].data[h+8]===v)&&Yl(u,h,t)?(l=w,h=xa(g),t=Na(g,t)):h=-1}}}return Kl(t,n,r,o)}const Ah={};function ig(){return new Pa(ct(),ce())}function og(e,t,n,r,o,u){const l=t[1],h=l.data[e+8],w=Oa(h,l,n,null==r?ni(h)&&Ra:r!=l&&0!=(3&h.type),o&Le.Host&&u===h);return null!==w?Iu(t,l,w,h):Ah}function Oa(e,t,n,r,o){const u=e.providerIndexes,l=t.data,h=1048575&u,g=e.directiveStart,w=u>>20,S=o?h+w:e.directiveEnd;for(let O=r?h:h+w;O<S;O++){const B=l[O];if(O<g&&n===B||O>=g&&B.type===n)return O}if(o){const O=l[g];if(O&&Vr(O)&&O.type===n)return g}return null}function Iu(e,t,n,r){let o=e[n];const u=t.data;if(function Jp(e){return e instanceof yu}(o)){const l=o;l.resolving&&function da(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Dt(-200,`Circular dependency in DI detected for ${e}${n}`)}(Sn(u[n]));const h=bu(l.canSeeViewProviders);l.resolving=!0;const g=l.injectImpl?tr(l.injectImpl):null;pu(e,r,Le.Default);try{o=e[n]=l.factory(void 0,u,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Wn(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:u}=t.type.prototype;if(r){const l=fc(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),u&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,u))}(n,u[n],t)}finally{null!==g&&tr(g),bu(h),l.resolving=!1,_h()}}return o}function Yl(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Th(e,t){return!(e&Le.Self||e&Le.Host&&t)}class Pa{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ih(this._tNode,this._lView,t,r,n)}}function vr(e){return Fi(()=>{const t=e.prototype.constructor,n=t[Or]||Au(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const u=o[Or]||Au(o);if(u&&u!==n)return u;o=Object.getPrototypeOf(o)}return u=>new u})}function Au(e){return xs(e)?()=>{const t=Au(We(e));return t&&t()}:rs(e)}function Bs(e){return function Ch(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const u=n[o];if(Gl(u))break;if(0===u)o+=2;else if("number"==typeof u)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(u===t)return n[o+1];o+=2}}}return null}(ct(),e)}const Hs="__parameters__";function Ai(e,t,n){return Fi(()=>{const r=function Su(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...u){if(this instanceof o)return r.apply(this,u),this;const l=new o(...u);return h.annotation=l,h;function h(g,v,w){const D=g.hasOwnProperty(Hs)?g[Hs]:Object.defineProperty(g,Hs,{value:[]})[Hs];for(;D.length<=w;)D.push(null);return(D[w]=D[w]||[]).push(l),g}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class ot{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Je({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ag=new ot("AnalyzeForEntryComponents");function Si(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Si(r,t)):t!==e&&t.push(r)}return t}function fo(e,t){e.forEach(n=>Array.isArray(n)?fo(n,t):t(n))}function Nh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ic(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ui(e,t,n){let r=Oo(e,t);return r>=0?e[1|r]=n:(r=~r,function fg(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Fa(e,t){const n=Oo(e,t);if(n>=0)return e[1|n]}function Oo(e,t){return function us(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const u=r+(o-r>>1),l=e[u<<n];if(t===l)return u<<n;l>t?o=u:r=u+1}return~(o<<n)}(e,t,1)}const cs={},ef="__NG_DI_FLAG__",ls="ngTempTokenPath",Vh=/\n/gm,tf="__source",mg=qe({provide:String,useValue:qe});let qs;function Sc(e){const t=qs;return qs=e,t}function nf(e,t=Le.Default){if(void 0===qs)throw new Dt(203,"");return null===qs?uu(e,void 0,t):qs.get(e,t&Le.Optional?null:void 0,t)}function fe(e,t=Le.Default){return(function cc(){return Er}()||nf)(We(e),t)}function Tc(e){const t=[];for(let n=0;n<e.length;n++){const r=We(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Dt(900,"");let o,u=Le.Default;for(let l=0;l<r.length;l++){const h=r[l],g=Ru(h);"number"==typeof g?-1===g?o=h.token:u|=g:o=h}t.push(fe(o,u))}else t.push(fe(r))}return t}function zs(e,t){return e[ef]=t,e.prototype[ef]=t,e}function Ru(e){return e[ef]}const ka=zs(Ai("Inject",e=>({token:e})),-1),$i=zs(Ai("Optional"),8),La=zs(Ai("SkipSelf"),4);class cf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function p(e){return e instanceof cf?e.changingThisBreaksApplicationSecurity:e}const De=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,st=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Qn=(()=>((Qn=Qn||{})[Qn.NONE=0]="NONE",Qn[Qn.HTML=1]="HTML",Qn[Qn.STYLE=2]="STYLE",Qn[Qn.SCRIPT=3]="SCRIPT",Qn[Qn.URL=4]="URL",Qn[Qn.RESOURCE_URL=5]="RESOURCE_URL",Qn))();function Jh(e){const t=function ff(){const e=ce();return e&&e[12]}();return t?t.sanitize(Qn.URL,e)||"":function m(e,t){const n=function y(e){return e instanceof cf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}(e,"URL")?p(e):function _t(e){return(e=String(e)).match(De)||e.match(st)?e:"unsafe:"+e}(je(e))}const e_="__ngContext__";function Hr(e,t){e[e_]=t}function Dg(e){const t=function hf(e){return e[e_]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ig(e){return e.ngOriginalError}function TA(e,...t){e.error(...t)}class Oc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=function SA(e){return e&&e.ngErrorLogger||TA}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ig(t);for(;n&&Ig(n);)n=Ig(n);return n||null}}const o_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ut))();function hs(e){return e instanceof Function?e():e}var qi=(()=>((qi=qi||{})[qi.Important=1]="Important",qi[qi.DashCase=2]="DashCase",qi))();function Sg(e,t){return undefined(e,t)}function df(e){const t=e[3];return Lr(t)?t[3]:t}function Tg(e){return l_(e[13])}function Mg(e){return l_(e[4])}function l_(e){for(;null!==e&&!Lr(e);)e=e[4];return e}function Fc(e,t,n,r,o){if(null!=r){let u,l=!1;Lr(r)?u=r:mn(r)&&(l=!0,r=r[0]);const h=Cn(r);0===e&&null!==n?null==o?m_(t,n,h):Uu(t,n,h,o||null,!0):1===e&&null!==n?Uu(t,n,h,o||null,!0):2===e?function D_(e,t,n){const r=ed(e,t);r&&function ZA(e,t,n,r){jt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,h,l):3===e&&t.destroyNode(h),null!=u&&function eS(e,t,n,r,o){const u=n[7];u!==Cn(n)&&Fc(t,e,r,u,o);for(let h=10;h<n.length;h++){const g=n[h];pf(g[1],g,e,t,r,u)}}(t,e,u,n,o)}}function Ng(e,t,n){if(jt(e))return e.createElement(t,n);{const r=null!==n?function $p(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function h_(e,t){const n=e[9],r=n.indexOf(t),o=t[3];1024&t[2]&&(t[2]&=-1025,Vl(o,-1)),n.splice(r,1)}function Rg(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const o=r[17];null!==o&&o!==e&&h_(o,r),t>0&&(e[n-1][4]=r[4]);const u=Ic(e,10+t);!function GA(e,t){pf(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const l=u[19];null!==l&&l.detachView(u[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function d_(e,t){if(!(256&t[2])){const n=t[11];jt(n)&&n.destroyNode&&pf(e,t,n,3,null,null),function zA(e){let t=e[13];if(!t)return Og(e[1],e);for(;t;){let n=null;if(mn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)mn(t)&&Og(t[1],t),t=t[3];null===t&&(t=e),mn(t)&&Og(t[1],t),n=t&&t[4]}t=n}}(t)}}function Og(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function YA(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof yu)){const u=n[r+1];if(Array.isArray(u))for(let l=0;l<u.length;l+=2){const h=o[u[l]],g=u[l+1];try{g.call(h)}finally{}}else try{u.call(o)}finally{}}}}(e,t),function KA(e,t){const n=e.cleanup,r=t[7];let o=-1;if(null!==n)for(let u=0;u<n.length-1;u+=2)if("string"==typeof n[u]){const l=n[u+1],h="function"==typeof l?l(t):Cn(t[l]),g=r[o=n[u+2]],v=n[u+3];"boolean"==typeof v?h.removeEventListener(n[u],g,v):v>=0?r[o=v]():r[o=-v].unsubscribe(),u+=2}else{const l=r[o=n[u+1]];n[u].call(l)}if(null!==r){for(let u=o+1;u<r.length;u++)r[u]();t[7]=null}}(e,t),1===t[1].type&&jt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Lr(t[3])){n!==t[3]&&h_(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function p_(e,t,n){return function g_(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const o=e.data[r.directiveStart].encapsulation;if(o===Xr.None||o===Xr.Emulated)return null}return Ar(r,n)}(e,t.parent,n)}function Uu(e,t,n,r,o){jt(e)?e.insertBefore(t,n,r,o):t.insertBefore(n,r,o)}function m_(e,t,n){jt(e)?e.appendChild(t,n):t.appendChild(n)}function v_(e,t,n,r,o){null!==r?Uu(e,t,n,r,o):m_(e,t,n)}function ed(e,t){return jt(e)?e.parentNode(t):t.parentNode}let w_=function __(e,t,n){return 40&e.type?Ar(e,n):null};function td(e,t,n,r){const o=p_(e,r,t),u=t[11],h=function y_(e,t,n){return w_(e,t,n)}(r.parent||t[6],r,t);if(null!=o)if(Array.isArray(n))for(let g=0;g<n.length;g++)v_(u,o,n[g],h,!1);else v_(u,o,n,h,!1)}function nd(e,t){if(null!==t){const n=t.type;if(3&n)return Ar(t,e);if(4&n)return Fg(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return nd(e,r);{const o=e[t.index];return Lr(o)?Fg(-1,o):Cn(o)}}if(32&n)return Sg(t,e)()||Cn(e[t.index]);{const r=E_(e,t);return null!==r?Array.isArray(r)?r[0]:nd(df(e[16]),r):nd(e,t.next)}}return null}function E_(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Fg(e,t){const n=10+e+1;if(n<t.length){const r=t[n],o=r[1].firstChild;if(null!==o)return nd(r,o)}return t[7]}function kg(e,t,n,r,o,u,l){for(;null!=n;){const h=r[n.index],g=n.type;if(l&&0===t&&(h&&Hr(Cn(h),r),n.flags|=4),64!=(64&n.flags))if(8&g)kg(e,t,n.child,r,o,u,!1),Fc(t,e,o,h,u);else if(32&g){const v=Sg(n,r);let w;for(;w=v();)Fc(t,e,o,w,u);Fc(t,e,o,h,u)}else 16&g?C_(e,t,r,n,o,u):Fc(t,e,o,h,u);n=l?n.projectionNext:n.next}}function pf(e,t,n,r,o,u){kg(n,r,e.firstChild,t,o,u,!1)}function C_(e,t,n,r,o,u){const l=n[16],g=l[6].projection[r.projection];if(Array.isArray(g))for(let v=0;v<g.length;v++)Fc(t,e,o,g[v],u);else kg(e,t,g,l[3],o,u,!0)}function I_(e,t,n){jt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Lg(e,t,n){jt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function A_(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const u=t.length;if(o+u===r||e.charCodeAt(o+u)<=32)return o}n=o+1}}const S_="ng-template";function nS(e,t,n){let r=0;for(;r<e.length;){let o=e[r++];if(n&&"class"===o){if(o=e[r],-1!==A_(o.toLowerCase(),t,0))return!0}else if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function T_(e){return 4===e.type&&e.value!==S_}function rS(e,t,n){return t===(4!==e.type||n?e.value:S_)}function iS(e,t,n){let r=4;const o=e.attrs||[],u=function aS(e){for(let t=0;t<e.length;t++)if(Gl(e[t]))return t;return e.length}(o);let l=!1;for(let h=0;h<t.length;h++){const g=t[h];if("number"!=typeof g){if(!l)if(4&r){if(r=2|1&r,""!==g&&!rS(e,g,n)||""===g&&1===t.length){if(Fo(r))return!1;l=!0}}else{const v=8&r?g:t[++h];if(8&r&&null!==e.attrs){if(!nS(e.attrs,v,n)){if(Fo(r))return!1;l=!0}continue}const D=oS(8&r?"class":g,o,T_(e),n);if(-1===D){if(Fo(r))return!1;l=!0;continue}if(""!==v){let S;S=D>u?"":o[D+1].toLowerCase();const O=8&r?S:null;if(O&&-1!==A_(O,v,0)||2&r&&v!==S){if(Fo(r))return!1;l=!0}}}}else{if(!l&&!Fo(r)&&!Fo(g))return!1;if(l&&Fo(g))continue;l=!1,r=g|1&r}}return Fo(r)||l}function Fo(e){return 0==(1&e)}function oS(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let u=!1;for(;o<t.length;){const l=t[o];if(l===e)return o;if(3===l||6===l)u=!0;else{if(1===l||2===l){let h=t[++o];for(;"string"==typeof h;)h=t[++o];continue}if(4===l)break;if(0===l){o+=4;continue}}o+=u?1:2}return-1}return function uS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function M_(e,t,n=!1){for(let r=0;r<t.length;r++)if(iS(e,t[r],n))return!0;return!1}function x_(e,t){return e?":not("+t.trim()+")":t}function lS(e){let t=e[0],n=1,r=2,o="",u=!1;for(;n<e.length;){let l=e[n];if("string"==typeof l)if(2&r){const h=e[++n];o+="["+l+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?o+="."+l:4&r&&(o+=" "+l);else""!==o&&!Fo(l)&&(t+=x_(u,o),o=""),r=l,u=u||!Fo(r);n++}return""!==o&&(t+=x_(u,o)),t}const ft={};function Tt(e){N_(nt(),ce(),zn()+e,gr())}function N_(e,t,n,r){if(!r)if(3==(3&t[2])){const u=e.preOrderCheckHooks;null!==u&&vu(t,u,n)}else{const u=e.preOrderHooks;null!==u&&Dc(t,u,0,n)}ai(n)}function rd(e,t){return e<<17|t<<2}function ko(e){return e>>17&32767}function Vg(e){return 2|e}function Zs(e){return(131068&e)>>2}function Ug(e,t){return-131069&e|t<<2}function jg(e){return 1|e}function H_(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],u=n[r+1];if(-1!==u){const l=e.data[u];jr(o),l.contentQueries(2,t[u],u)}}}function gf(e,t,n,r,o,u,l,h,g,v){const w=t.blueprint.slice();return w[0]=o,w[2]=140|r,Ll(w),w[3]=w[15]=e,w[8]=n,w[10]=l||e&&e[10],w[11]=h||e&&e[11],w[12]=g||e&&e[12]||null,w[9]=v||e&&e[9]||null,w[6]=u,w[16]=2==t.type?e[16]:w,w}function kc(e,t,n,r,o){let u=e.data[t];if(null===u)u=function Kg(e,t,n,r,o){const u=rr(),l=an(),g=e.data[t]=function TS(e,t,n,r,o,u){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?u:u&&u.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=g),null!==u&&(l?null==u.child&&null!==g.parent&&(u.child=g):null===u.next&&(u.next=g)),g}(e,t,n,r,o),function yc(){return tt.lFrame.inI18n}()&&(u.flags|=64);else if(64&u.type){u.type=n,u.value=r,u.attrs=o;const l=function fu(){const e=tt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===l?-1:l.injectorIndex}return ao(u,!0),u}function Lc(e,t,n,r){if(0===n)return-1;const o=t.length;for(let u=0;u<n;u++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function mf(e,t,n){wc(t);try{const r=e.viewQuery;null!==r&&im(1,r,n);const o=e.template;null!==o&&G_(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&H_(e,t),e.staticViewQueries&&im(2,e.viewQuery,n);const u=e.components;null!==u&&function IS(e,t){for(let n=0;n<t.length;n++)zS(e,t[n])}(t,u)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,mu()}}function Vc(e,t,n,r){const o=t[2];if(256==(256&o))return;wc(t);const u=gr();try{Ll(t),function gh(e){return tt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&G_(e,t,n,2,r);const l=3==(3&o);if(!u)if(l){const v=e.preOrderCheckHooks;null!==v&&vu(t,v,null)}else{const v=e.preOrderHooks;null!==v&&Dc(t,v,0,null),Bl(t,0)}if(function $S(e){for(let t=Tg(e);null!==t;t=Mg(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const o=n[r],u=o[3];0==(1024&o[2])&&Vl(u,1),o[2]|=1024}}}(t),function GS(e){for(let t=Tg(e);null!==t;t=Mg(t))for(let n=10;n<t.length;n++){const r=t[n],o=r[1];gc(r)&&Vc(o,r,o.template,r[8])}}(t),null!==e.contentQueries&&H_(e,t),!u)if(l){const v=e.contentCheckHooks;null!==v&&vu(t,v)}else{const v=e.contentHooks;null!==v&&Dc(t,v,1),Bl(t,1)}!function DS(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)ai(~o);else{const u=o,l=n[++r],h=n[++r];Aa(l,u),h(2,t[u])}}}finally{ai(-1)}}(e,t);const h=e.components;null!==h&&function CS(e,t){for(let n=0;n<t.length;n++)qS(e,t[n])}(t,h);const g=e.viewQuery;if(null!==g&&im(2,g,r),!u)if(l){const v=e.viewCheckHooks;null!==v&&vu(t,v)}else{const v=e.viewHooks;null!==v&&Dc(t,v,2),Bl(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),u||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Vl(t[3],-1))}finally{mu()}}function AS(e,t,n,r){const o=t[10],u=!gr(),l=kl(t);try{u&&!l&&o.begin&&o.begin(),l&&mf(e,t,r),Vc(e,t,n,r)}finally{u&&!l&&o.end&&o.end()}}function G_(e,t,n,r,o){const u=zn(),l=2&r;try{ai(-1),l&&t.length>20&&N_(e,t,20,gr()),n(r,o)}finally{ai(u)}}function Yg(e,t,n){!ph()||(function FS(e,t,n,r){const o=n.directiveStart,u=n.directiveEnd;e.firstCreatePass||Du(n,t),Hr(r,t);const l=n.initialInputs;for(let h=o;h<u;h++){const g=e.data[h],v=Vr(g);v&&jS(t,n,g);const w=Iu(t,e,h,n);Hr(w,t),null!==l&&BS(0,h-o,w,g,0,l),v&&(ii(n.index,t)[8]=w)}}(e,t,n,Ar(n,t)),128==(128&n.flags)&&function kS(e,t,n){const r=n.directiveStart,o=n.directiveEnd,l=n.index,h=function vh(){return tt.lFrame.currentDirectiveIndex}();try{ai(l);for(let g=r;g<o;g++){const v=e.data[g],w=t[g];lo(g),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&X_(v,w)}}finally{ai(-1),lo(h)}}(e,t,n))}function Zg(e,t,n=Ar){const r=t.localNames;if(null!==r){let o=t.index+1;for(let u=0;u<r.length;u+=2){const l=r[u+1],h=-1===l?n(t,e):e[l];e[o++]=h}}}function q_(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=sd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function sd(e,t,n,r,o,u,l,h,g,v){const w=20+r,D=w+o,S=function SS(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ft);return n}(w,D),O="function"==typeof v?v():v;return S[1]={type:e,blueprint:S,template:n,queries:null,viewQuery:h,declTNode:t,data:S.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:g,consts:O,incompleteFirstPass:!1}}function Q_(e,t,n,r){const o=iw(t);null===n?o.push(r):(o.push(n),e.firstCreatePass&&ow(e).push(r,o.length-1))}function K_(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const o=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,o):n[r]=[t,o]}return n}function Xg(e,t,n,r){let o=!1;if(ph()){const u=function LS(e,t,n){const r=e.directiveRegistry;let o=null;if(r)for(let u=0;u<r.length;u++){const l=r[u];M_(n,l.selectors,!1)&&(o||(o=[]),Hi(Du(n,t),e,l.type),Vr(l)?(J_(e,n),o.unshift(l)):o.push(l))}return o}(e,t,n),l=null===r?null:{"":-1};if(null!==u){o=!0,ew(n,e.data.length,u.length);for(let w=0;w<u.length;w++){const D=u[w];D.providersResolver&&D.providersResolver(D)}let h=!1,g=!1,v=Lc(e,t,u.length,null);for(let w=0;w<u.length;w++){const D=u[w];n.mergedAttrs=Ma(n.mergedAttrs,D.hostAttrs),tw(e,n,t,v,D),US(v,D,l),null!==D.contentQueries&&(n.flags|=8),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(n.flags|=128);const S=D.type.prototype;!h&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),h=!0),!g&&(S.ngOnChanges||S.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),g=!0),v++}!function MS(e,t){const r=t.directiveEnd,o=e.data,u=t.attrs,l=[];let h=null,g=null;for(let v=t.directiveStart;v<r;v++){const w=o[v],D=w.inputs,S=null===u||T_(t)?null:HS(D,u);l.push(S),h=K_(D,v,h),g=K_(w.outputs,v,g)}null!==h&&(h.hasOwnProperty("class")&&(t.flags|=16),h.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=l,t.inputs=h,t.outputs=g}(e,n)}l&&function VS(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const u=n[t[o+1]];if(null==u)throw new Dt(-301,!1);r.push(t[o],u)}}}(n,r,l)}return n.mergedAttrs=Ma(n.mergedAttrs,n.attrs),o}function Z_(e,t,n,r,o,u){const l=u.hostBindings;if(l){let h=e.hostBindingOpCodes;null===h&&(h=e.hostBindingOpCodes=[]);const g=~t.index;(function PS(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(h)!=g&&h.push(g),h.push(r,o,l)}}function X_(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function J_(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function US(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Vr(t)&&(n[""]=e)}}function ew(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function tw(e,t,n,r,o){e.data[r]=o;const u=o.factory||(o.factory=rs(o.type)),l=new yu(u,Vr(o),null);e.blueprint[r]=l,n[r]=l,Z_(e,t,0,r,Lc(e,n,o.hostVars,ft),o)}function jS(e,t,n){const r=Ar(t,e),o=q_(n),u=e[10],l=ad(e,gf(e,o,null,n.onPush?64:16,r,t,u,u.createRenderer(r,n),null,null));e[t.index]=l}function ds(e,t,n,r,o,u){const l=Ar(e,t);!function Jg(e,t,n,r,o,u,l){if(null==u)jt(e)?e.removeAttribute(t,o,n):t.removeAttribute(o);else{const h=null==l?je(u):l(u,r||"",o);jt(e)?e.setAttribute(t,o,h,n):n?t.setAttributeNS(n,o,h):t.setAttribute(o,h)}}(t[11],l,u,e.value,n,r,o)}function BS(e,t,n,r,o,u){const l=u[t];if(null!==l){const h=r.setInput;for(let g=0;g<l.length;){const v=l[g++],w=l[g++],D=l[g++];null!==h?r.setInput(n,D,v,w):n[w]=D}}}function HS(e,t){let n=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,e[o],t[r+1])),r+=2}else r+=2;else r+=4}return n}function nw(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function qS(e,t){const n=ii(t,e);if(gc(n)){const r=n[1];80&n[2]?Vc(r,n,r.template,n[8]):n[5]>0&&em(n)}}function em(e){for(let r=Tg(e);null!==r;r=Mg(r))for(let o=10;o<r.length;o++){const u=r[o];if(1024&u[2]){const l=u[1];Vc(l,u,l.template,u[8])}else u[5]>0&&em(u)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const o=ii(n[r],e);gc(o)&&o[5]>0&&em(o)}}function zS(e,t){const n=ii(t,e),r=n[1];(function WS(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),mf(r,n,n[8])}function ad(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function tm(e){for(;e;){e[2]|=64;const t=df(e);if(xo(e)&&!t)return e;e=t}return null}function rm(e,t,n){const r=t[10];r.begin&&r.begin();try{Vc(e,t,e.template,n)}catch(o){throw aw(t,o),o}finally{r.end&&r.end()}}function rw(e){!function nm(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Dg(n),o=r[1];AS(o,r,o.template,n)}}(e[8])}function im(e,t,n){jr(0),t(e,n)}const ZS=(()=>Promise.resolve(null))();function iw(e){return e[7]||(e[7]=[])}function ow(e){return e.cleanup||(e.cleanup=[])}function aw(e,t){const n=e[9],r=n?n.get(Oc,null):null;r&&r.handleError(t)}function uw(e,t,n,r,o){for(let u=0;u<n.length;){const l=n[u++],h=n[u++],g=t[l],v=e.data[l];null!==v.setInput?v.setInput(g,o,r,h):g[h]=o}}function Xs(e,t,n){const r=ks(t,e);!function f_(e,t,n){jt(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function ud(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,u=0;if(null!==t)for(let l=0;l<t.length;l++){const h=t[l];"number"==typeof h?u=h:1==u?o=Ln(o,h):2==u&&(r=Ln(r,h+": "+t[++l]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}const om=new ot("INJECTOR",-1);class cw{get(t,n=cs){if(n===cs){const r=new Error(`NullInjectorError: No provider for ${St(t)}!`);throw r.name="NullInjectorError",r}return n}}const sm=new ot("Set Injector scope."),vf={},eT={};let am;function lw(){return void 0===am&&(am=new cw),am}function fw(e,t=null,n=null,r){const o=hw(e,t,n,r);return o._resolveInjectorDefTypes(),o}function hw(e,t=null,n=null,r){return new tT(e,n,t||lw(),r)}class tT{constructor(t,n,r,o=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const u=[];n&&fo(n,h=>this.processProvider(h,t,n)),fo([t],h=>this.processInjectorType(h,[],u)),this.records.set(om,Uc(void 0,this));const l=this.records.get(sm);this.scope=null!=l?l.value:null,this.source=o||("object"==typeof t?null:St(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=cs,r=Le.Default){this.assertNotDestroyed();const o=Sc(this),u=tr(void 0);try{if(!(r&Le.SkipSelf)){let h=this.records.get(t);if(void 0===h){const g=function cT(e){return"function"==typeof e||"object"==typeof e&&e instanceof ot}(t)&&Gn(t);h=g&&this.injectableDefInScope(g)?Uc(um(t),vf):null,this.records.set(t,h)}if(null!=h)return this.hydrate(t,h)}return(r&Le.Self?lw():this.parent).get(t,n=r&Le.Optional&&n===cs?null:n)}catch(l){if("NullInjectorError"===l.name){if((l[ls]=l[ls]||[]).unshift(St(t)),o)throw l;return function rf(e,t,n,r){const o=e[ls];throw t[tf]&&o.unshift(t[tf]),e.message=function of(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let o=St(t);if(Array.isArray(t))o=t.map(St).join(" -> ");else if("object"==typeof t){let u=[];for(let l in t)if(t.hasOwnProperty(l)){let h=t[l];u.push(l+":"+("string"==typeof h?JSON.stringify(h):St(h)))}o=`{${u.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Vh,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[ls]=null,e}(l,t,"R3InjectorError",this.source)}throw l}finally{tr(u),Sc(o)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,o)=>t.push(St(o))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Dt(205,!1)}processInjectorType(t,n,r){if(!(t=We(t)))return!1;let o=ya(t);const u=null==o&&t.ngModule||void 0,l=void 0===u?t:u,h=-1!==r.indexOf(l);if(void 0!==u&&(o=ya(u)),null==o)return!1;if(null!=o.imports&&!h){let w;r.push(l);try{fo(o.imports,D=>{this.processInjectorType(D,n,r)&&(void 0===w&&(w=[]),w.push(D))})}finally{}if(void 0!==w)for(let D=0;D<w.length;D++){const{ngModule:S,providers:O}=w[D];fo(O,B=>this.processProvider(B,S,O||Rt))}}this.injectorDefTypes.add(l);const g=rs(l)||(()=>new l);this.records.set(l,Uc(g,vf));const v=o.providers;if(null!=v&&!h){const w=t;fo(v,D=>this.processProvider(D,w,v))}return void 0!==u&&void 0!==t.providers}processProvider(t,n,r){let o=jc(t=We(t))?t:We(t&&t.provide);const u=function rT(e,t,n){return pw(e)?Uc(void 0,e.useValue):Uc(dw(e),vf)}(t);if(jc(t)||!0!==t.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Uc(void 0,vf,!0),l.factory=()=>Tc(l.multi),this.records.set(o,l)),o=t,l.multi.push(t)}this.records.set(o,u)}hydrate(t,n){return n.value===vf&&(n.value=eT,n.value=n.factory()),"object"==typeof n.value&&n.value&&function uT(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=We(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function um(e){const t=Gn(e),n=null!==t?t.factory:rs(e);if(null!==n)return n;if(e instanceof ot)throw new Dt(204,!1);if(e instanceof Function)return function nT(e){const t=e.length;if(t>0)throw function Mu(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Dt(204,!1);const n=function ma(e){const t=e&&(e[Vt]||e[ac]);if(t){const n=function va(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Dt(204,!1)}function dw(e,t,n){let r;if(jc(e)){const o=We(e);return rs(o)||um(o)}if(pw(e))r=()=>We(e.useValue);else if(function oT(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Tc(e.deps||[]));else if(function iT(e){return!(!e||!e.useExisting)}(e))r=()=>fe(We(e.useExisting));else{const o=We(e&&(e.useClass||e.provide));if(!function aT(e){return!!e.deps}(e))return rs(o)||um(o);r=()=>new o(...Tc(e.deps))}return r}function Uc(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function pw(e){return null!==e&&"object"==typeof e&&mg in e}function jc(e){return"function"==typeof e}let Gr=(()=>{class e{static create(n,r){var o;if(Array.isArray(n))return fw({name:""},r,n,"");{const u=null!==(o=n.name)&&void 0!==o?o:"";return fw({name:u},n.parent,n.providers,u)}}}return e.THROW_IF_NOT_FOUND=cs,e.NULL=new cw,e.\u0275prov=Je({token:e,providedIn:"any",factory:()=>fe(om)}),e.__NG_ELEMENT_ID__=-1,e})();function vT(e,t){Ec(Dg(e)[1],ct())}function Xt(e){let t=function Aw(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Vr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Dt(903,"");o=t.\u0275dir}if(o){if(n){r.push(o);const l=e;l.inputs=fm(e.inputs),l.declaredInputs=fm(e.declaredInputs),l.outputs=fm(e.outputs);const h=o.hostBindings;h&&bT(e,h);const g=o.viewQuery,v=o.contentQueries;if(g&&_T(e,g),v&&wT(e,v),Nr(e.inputs,o.inputs),Nr(e.declaredInputs,o.declaredInputs),Nr(e.outputs,o.outputs),Vr(o)&&o.data.animation){const w=e.data;w.animation=(w.animation||[]).concat(o.data.animation)}}const u=o.features;if(u)for(let l=0;l<u.length;l++){const h=u[l];h&&h.ngInherit&&h(e),h===Xt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function yT(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Ma(o.hostAttrs,n=Ma(n,o.hostAttrs))}}(r)}function fm(e){return e===to?{}:e===Rt?[]:e}function _T(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function wT(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,u)=>{t(r,o,u),n(r,o,u)}:t}function bT(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}let cd=null;function Bc(){if(!cd){const e=Ut.Symbol;if(e&&e.iterator)cd=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(cd=r)}}}return cd}function yf(e){return!!hm(e)&&(Array.isArray(e)||!(e instanceof Map)&&Bc()in e)}function hm(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ps(e,t,n){return e[t]=n}function $r(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function gs(e,t,n,r){const o=ce();return $r(o,Ia(),t)&&(nt(),ds(nn(),o,e,t,n,r)),gs}function Kn(e,t,n,r,o,u,l,h){const g=ce(),v=nt(),w=e+20,D=v.firstCreatePass?function TT(e,t,n,r,o,u,l,h,g){const v=t.consts,w=kc(t,e,4,l||null,oi(v,h));Xg(t,n,w,oi(v,g)),Ec(t,w);const D=w.tViews=sd(2,w,r,o,u,t.directiveRegistry,t.pipeRegistry,null,t.schemas,v);return null!==t.queries&&(t.queries.template(t,w),D.queries=t.queries.embeddedTView(w)),w}(w,v,g,t,n,r,o,u,l):v.data[w];ao(D,!1);const S=g[11].createComment("");td(v,g,S,D),Hr(S,g),ad(g,g[w]=nw(S,g,S,D)),ns(D)&&Yg(v,g,D),null!=l&&Zg(g,D,h)}function yr(e){return Vs(function ir(){return tt.lFrame.contextLView}(),20+e)}function oe(e,t=Le.Default){const n=ce();return null===n?fe(e,t):Ih(ct(),n,We(e),t)}function vm(){throw new Error("invalid")}function zt(e,t,n){const r=ce();return $r(r,Ia(),t)&&function zi(e,t,n,r,o,u,l,h){const g=Ar(t,n);let w,v=t.inputs;!h&&null!=v&&(w=v[r])?(uw(e,n,w,r,o),ni(t)&&function NS(e,t){const n=ii(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function xS(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=l?l(o,t.value||"",r):o,jt(u)?u.setProperty(g,r,o):wu(r)||(g.setProperty?g.setProperty(r,o):g[r]=o))}(nt(),nn(),r,e,t,r[11],n,!1),zt}function ym(e,t,n,r,o){const l=o?"class":"style";uw(e,n,t.inputs[l],l,r)}function Pe(e,t,n,r){const o=ce(),u=nt(),l=20+e,h=o[11],g=o[l]=Ng(h,t,function jl(){return tt.lFrame.currentNamespace}()),v=u.firstCreatePass?function KT(e,t,n,r,o,u,l){const h=t.consts,v=kc(t,e,2,o,oi(h,u));return Xg(t,n,v,oi(h,l)),null!==v.attrs&&ud(v,v.attrs,!1),null!==v.mergedAttrs&&ud(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(l,u,o,0,t,n,r):u.data[l];ao(v,!0);const w=v.mergedAttrs;null!==w&&Ta(h,g,w);const D=v.classes;null!==D&&Lg(h,g,D);const S=v.styles;return null!==S&&I_(h,g,S),64!=(64&v.flags)&&td(u,o,g,v),0===function os(){return tt.lFrame.elementDepthCount}()&&Hr(g,o),function mc(){tt.lFrame.elementDepthCount++}(),ns(v)&&(Yg(u,o,v),function $_(e,t,n){if(so(t)){const o=t.directiveEnd;for(let u=t.directiveStart;u<o;u++){const l=e.data[u];l.contentQueries&&l.contentQueries(1,n[u],u)}}}(u,v,o)),null!==r&&Zg(o,v),Pe}function Fe(){let e=ct();an()?function Ii(){tt.lFrame.isParent=!1}():(e=e.parent,ao(e,!1));const t=e;!function vc(){tt.lFrame.elementDepthCount--}();const n=nt();return n.firstCreatePass&&(Ec(n,e),so(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Sa(e){return 0!=(16&e.flags)}(t)&&ym(n,t,ce(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Dh(e){return 0!=(32&e.flags)}(t)&&ym(n,t,ce(),t.stylesWithoutHost,!1),Fe}function Yn(e,t,n,r){return Pe(e,t,n,r),Fe(),Yn}function Ba(){return ce()}function wf(e){return!!e&&"function"==typeof e.then}const bm=function Ww(e){return!!e&&"function"==typeof e.subscribe};function dn(e,t,n,r){const o=ce(),u=nt(),l=ct();return function Kw(e,t,n,r,o,u,l,h){const g=ns(r),w=e.firstCreatePass&&ow(e),D=t[8],S=iw(t);let O=!0;if(3&r.type||h){const ne=Ar(r,t),ue=h?h(ne):ne,J=S.length,pe=h?Oe=>h(Cn(Oe[r.index])):r.index;if(jt(n)){let Oe=null;if(!h&&g&&(Oe=function ZT(e,t,n,r){const o=e.cleanup;if(null!=o)for(let u=0;u<o.length-1;u+=2){const l=o[u];if(l===n&&o[u+1]===r){const h=t[7],g=o[u+2];return h.length>g?h[g]:null}"string"==typeof l&&(u+=2)}return null}(e,t,o,r.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=u,Oe.__ngLastListenerFn__=u,O=!1;else{u=Em(r,t,D,u,!1);const ht=n.listen(ue,o,u);S.push(u,ht),w&&w.push(o,pe,J,J+1)}}else u=Em(r,t,D,u,!0),ue.addEventListener(o,u,l),S.push(u),w&&w.push(o,pe,J,l)}else u=Em(r,t,D,u,!1);const B=r.outputs;let ee;if(O&&null!==B&&(ee=B[o])){const ne=ee.length;if(ne)for(let ue=0;ue<ne;ue+=2){const wr=t[ee[ue]][ee[ue+1]].subscribe(u),Ki=S.length;S.push(u,wr),w&&w.push(o,r.index,Ki,-(Ki+1))}}}(u,o,o[11],l,e,t,!!n,r),dn}function Yw(e,t,n,r){try{return!1!==n(r)}catch(o){return aw(e,o),!1}}function Em(e,t,n,r,o){return function u(l){if(l===Function)return r;const h=2&e.flags?ii(e.index,t):t;0==(32&t[2])&&tm(h);let g=Yw(t,0,r,l),v=u.__ngNextListenerFn__;for(;v;)g=Yw(t,0,v,l)&&g,v=v.__ngNextListenerFn__;return o&&!1===g&&(l.preventDefault(),l.returnValue=!1),g}}function ms(e=1){return function Kp(e){return(tt.lFrame.contextLView=function Yp(e,t){for(;e>0;)t=t[15],e--;return t}(e,tt.lFrame.contextLView))[8]}(e)}function sb(e,t,n,r,o){const u=e[n+1],l=null===t;let h=r?ko(u):Zs(u),g=!1;for(;0!==h&&(!1===g||l);){const w=e[h+1];r1(e[h],t)&&(g=!0,e[h+1]=r?jg(w):Vg(w)),h=r?ko(w):Zs(w)}g&&(e[n+1]=r?Vg(u):jg(u))}function r1(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Oo(e,t)>=0}function hd(e,t){return function Vo(e,t,n,r){const o=ce(),u=nt(),l=function co(e){const t=tt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);u.firstUpdatePass&&function gb(e,t,n,r){const o=e.data;if(null===o[n+1]){const u=o[zn()],l=function pb(e,t){return t>=e.expandoStartIndex}(e,n);(function _b(e,t){return 0!=(e.flags&(t?16:32))})(u,r)&&null===t&&!l&&(t=!1),t=function h1(e,t,n,r){const o=function hu(e){const t=tt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let u=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=bf(n=Cm(null,e,t,n,r),t.attrs,r),u=null);else{const l=t.directiveStylingLast;if(-1===l||e[l]!==o)if(n=Cm(o,e,t,n,r),null===u){let g=function d1(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Zs(r))return e[ko(r)]}(e,t,r);void 0!==g&&Array.isArray(g)&&(g=Cm(null,e,t,g[1],r),g=bf(g,t.attrs,r),function p1(e,t,n,r){e[ko(n?t.classBindings:t.styleBindings)]=r}(e,t,r,g))}else u=function g1(e,t,n){let r;const o=t.directiveEnd;for(let u=1+t.directiveStylingLast;u<o;u++)r=bf(r,e[u].hostAttrs,n);return bf(r,t.attrs,n)}(e,t,r)}return void 0!==u&&(r?t.residualClasses=u:t.residualStyles=u),n}(o,u,t,r),function t1(e,t,n,r,o,u){let l=u?t.classBindings:t.styleBindings,h=ko(l),g=Zs(l);e[r]=n;let w,v=!1;if(Array.isArray(n)){const D=n;w=D[1],(null===w||Oo(D,w)>0)&&(v=!0)}else w=n;if(o)if(0!==g){const S=ko(e[h+1]);e[r+1]=rd(S,h),0!==S&&(e[S+1]=Ug(e[S+1],r)),e[h+1]=function dS(e,t){return 131071&e|t<<17}(e[h+1],r)}else e[r+1]=rd(h,0),0!==h&&(e[h+1]=Ug(e[h+1],r)),h=r;else e[r+1]=rd(g,0),0===h?h=r:e[g+1]=Ug(e[g+1],r),g=r;v&&(e[r+1]=Vg(e[r+1])),sb(e,w,r,!0),sb(e,w,r,!1),function n1(e,t,n,r,o){const u=o?e.residualClasses:e.residualStyles;null!=u&&"string"==typeof t&&Oo(u,t)>=0&&(n[r+1]=jg(n[r+1]))}(t,w,e,r,u),l=rd(h,g),u?t.classBindings=l:t.styleBindings=l}(o,u,t,n,l,r)}}(u,e,l,r),t!==ft&&$r(o,l,t)&&function vb(e,t,n,r,o,u,l,h){if(!(3&t.type))return;const g=e.data,v=g[h+1];dd(function P_(e){return 1==(1&e)}(v)?yb(g,t,n,o,Zs(v),l):void 0)||(dd(u)||function O_(e){return 2==(2&e)}(v)&&(u=yb(g,null,n,o,h,l)),function tS(e,t,n,r,o){const u=jt(e);if(t)o?u?e.addClass(n,r):n.classList.add(r):u?e.removeClass(n,r):n.classList.remove(r);else{let l=-1===r.indexOf("-")?void 0:qi.DashCase;if(null==o)u?e.removeStyle(n,r,l):n.style.removeProperty(r);else{const h="string"==typeof o&&o.endsWith("!important");h&&(o=o.slice(0,-10),l|=qi.Important),u?e.setStyle(n,r,o,l):n.style.setProperty(r,o,h?"important":"")}}}(r,l,ks(zn(),n),o,u))}(u,u.data[zn()],o,o[11],e,o[l+1]=function y1(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=St(p(e)))),e}(t,n),r,l)}(e,t,null,!0),hd}function Cm(e,t,n,r,o){let u=null;const l=n.directiveEnd;let h=n.directiveStylingLast;for(-1===h?h=n.directiveStart:h++;h<l&&(u=t[h],r=bf(r,u.hostAttrs,o),u!==e);)h++;return null!==e&&(n.directiveStylingLast=h),r}function bf(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let u=0;u<t.length;u++){const l=t[u];"number"==typeof l?o=l:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ui(e,l,!!n||t[++u]))}return void 0===e?null:e}function yb(e,t,n,r,o,u){const l=null===t;let h;for(;o>0;){const g=e[o],v=Array.isArray(g),w=v?g[1]:g,D=null===w;let S=n[o+1];S===ft&&(S=D?Rt:void 0);let O=D?Fa(S,r):w===r?S:void 0;if(v&&!dd(O)&&(O=Fa(g,r)),dd(O)&&(h=O,l))return h;const B=e[o+1];o=l?ko(B):Zs(B)}if(null!==t){let g=u?t.residualClasses:t.residualStyles;null!=g&&(h=Fa(g,r))}return h}function dd(e){return void 0!==e}function at(e,t=""){const n=ce(),r=nt(),o=e+20,u=r.firstCreatePass?kc(r,o,1,t,null):r.data[o],l=n[o]=function xg(e,t){return jt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);td(r,n,l,u),ao(u,!1)}function Js(e){return pd("",e,""),Js}function pd(e,t,n){const r=ce(),o=function Gc(e,t,n,r){return $r(e,Ia(),n)?t+je(n)+r:ft}(r,e,t,n);return o!==ft&&Xs(r,zn(),o),pd}const Bu=void 0;var V1=["en",[["a","p"],["AM","PM"],Bu],[["AM","PM"],Bu,Bu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bu,"{1} 'at' {0}",Bu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function L1(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Jc={};function hi(e){const t=function U1(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=jb(t);if(n)return n;const r=t.split("-")[0];if(n=jb(r),n)return n;if("en"===r)return V1;throw new Error(`Missing locale data for the locale "${e}".`)}function jb(e){return e in Jc||(Jc[e]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[e]),Jc[e]}var Ce=(()=>((Ce=Ce||{})[Ce.LocaleId=0]="LocaleId",Ce[Ce.DayPeriodsFormat=1]="DayPeriodsFormat",Ce[Ce.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ce[Ce.DaysFormat=3]="DaysFormat",Ce[Ce.DaysStandalone=4]="DaysStandalone",Ce[Ce.MonthsFormat=5]="MonthsFormat",Ce[Ce.MonthsStandalone=6]="MonthsStandalone",Ce[Ce.Eras=7]="Eras",Ce[Ce.FirstDayOfWeek=8]="FirstDayOfWeek",Ce[Ce.WeekendRange=9]="WeekendRange",Ce[Ce.DateFormat=10]="DateFormat",Ce[Ce.TimeFormat=11]="TimeFormat",Ce[Ce.DateTimeFormat=12]="DateTimeFormat",Ce[Ce.NumberSymbols=13]="NumberSymbols",Ce[Ce.NumberFormats=14]="NumberFormats",Ce[Ce.CurrencyCode=15]="CurrencyCode",Ce[Ce.CurrencySymbol=16]="CurrencySymbol",Ce[Ce.CurrencyName=17]="CurrencyName",Ce[Ce.Currencies=18]="Currencies",Ce[Ce.Directionality=19]="Directionality",Ce[Ce.PluralCase=20]="PluralCase",Ce[Ce.ExtraData=21]="ExtraData",Ce))();const gd="en-US";let Bb=gd;function Sm(e,t,n,r,o){if(e=We(e),Array.isArray(e))for(let u=0;u<e.length;u++)Sm(e[u],t,n,r,o);else{const u=nt(),l=ce();let h=jc(e)?e:We(e.provide),g=dw(e);const v=ct(),w=1048575&v.providerIndexes,D=v.directiveStart,S=v.providerIndexes>>20;if(jc(e)||!e.multi){const O=new yu(g,o,oe),B=Mm(h,t,o?w:w+S,D);-1===B?(Hi(Du(v,l),u,h),Tm(u,e,t.length),t.push(h),v.directiveStart++,v.directiveEnd++,o&&(v.providerIndexes+=1048576),n.push(O),l.push(O)):(n[B]=O,l[B]=O)}else{const O=Mm(h,t,w+S,D),B=Mm(h,t,w,w+S),ee=O>=0&&n[O],ne=B>=0&&n[B];if(o&&!ne||!o&&!ee){Hi(Du(v,l),u,h);const ue=function LM(e,t,n,r,o){const u=new yu(e,n,oe);return u.multi=[],u.index=t,u.componentProviders=0,h0(u,o,r&&!n),u}(o?kM:FM,n.length,o,r,g);!o&&ne&&(n[B].providerFactory=ue),Tm(u,e,t.length,0),t.push(h),v.directiveStart++,v.directiveEnd++,o&&(v.providerIndexes+=1048576),n.push(ue),l.push(ue)}else Tm(u,e,O>-1?O:B,h0(n[o?B:O],g,!o&&r));!o&&r&&ne&&n[B].componentProviders++}}}function Tm(e,t,n,r){const o=jc(t),u=function sT(e){return!!e.useClass}(t);if(o||u){const g=(u?We(t.useClass):t).prototype.ngOnDestroy;if(g){const v=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const w=v.indexOf(n);-1===w?v.push(n,[r,g]):v[w+1].push(r,g)}else v.push(n,g)}}}function h0(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Mm(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function FM(e,t,n,r){return xm(this.multi,[])}function kM(e,t,n,r){const o=this.multi;let u;if(this.providerFactory){const l=this.providerFactory.componentProviders,h=Iu(n,n[1],this.providerFactory.index,r);u=h.slice(0,l),xm(o,u);for(let g=l;g<h.length;g++)u.push(h[g])}else u=[],xm(o,u);return u}function xm(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function vn(e,t=[]){return n=>{n.providersResolver=(r,o)=>function PM(e,t,n){const r=nt();if(r.firstCreatePass){const o=Vr(e);Sm(n,r.data,r.blueprint,o,!0),Sm(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class d0{}class jM{resolveComponentFactory(t){throw function UM(e){const t=Error(`No component factory found for ${St(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let tl=(()=>{class e{}return e.NULL=new jM,e})();function BM(){return nl(ct(),ce())}function nl(e,t){return new Wi(Ar(e,t))}let Wi=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=BM,e})();function HM(e){return e instanceof Wi?e.nativeElement:e}class g0{}let ea=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function $M(){const e=ce(),n=ii(ct().index,e);return function GM(e){return e[11]}(mn(n)?n:e)}(),e})(),qM=(()=>{class e{}return e.\u0275prov=Je({token:e,providedIn:"root",factory:()=>null}),e})();class rl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const m0=new rl("13.2.3"),Nm={};function wd(e,t,n,r,o=!1){for(;null!==n;){const u=t[n.index];if(null!==u&&r.push(Cn(u)),Lr(u))for(let h=10;h<u.length;h++){const g=u[h],v=g[1].firstChild;null!==v&&wd(g[1],g,v,r)}const l=n.type;if(8&l)wd(e,t,n.child,r);else if(32&l){const h=Sg(n,t);let g;for(;g=h();)r.push(g)}else if(16&l){const h=E_(t,n);if(Array.isArray(h))r.push(...h);else{const g=df(t[16]);wd(g[1],g,h,r,!0)}}n=o?n.projectionNext:n.next}return r}class Af{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return wd(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Lr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Rg(t,r),Ic(n,r))}this._attachedToViewContainer=!1}d_(this._lView[1],this._lView)}onDestroy(t){Q_(this._lView[1],this._lView,null,t)}markForCheck(){tm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){rm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function KS(e,t,n){uo(!0);try{rm(e,t,n)}finally{uo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Dt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qA(e,t){pf(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Dt(902,"");this._appRef=t}}class zM extends Af{constructor(t){super(t),this._view=t}detectChanges(){rw(this._view)}checkNoChanges(){!function YS(e){uo(!0);try{rw(e)}finally{uo(!1)}}(this._view)}get context(){return null}}class v0 extends tl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=gn(t);return new Rm(n,this.ngModule)}}function y0(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const QM=new ot("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>o_});class Rm extends d0{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function fS(e){return e.map(lS).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return y0(this.componentDef.inputs)}get outputs(){return y0(this.componentDef.outputs)}create(t,n,r,o){const u=(o=o||this.ngModule)?function KM(e,t){return{get:(n,r,o)=>{const u=e.get(n,Nm,o);return u!==Nm||r===Nm?u:t.get(n,r,o)}}}(t,o.injector):t,l=u.get(g0,dh),h=u.get(qM,null),g=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",w=r?function W_(e,t,n){if(jt(e))return e.selectRootElement(t,n===Xr.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(g,r,this.componentDef.encapsulation):Ng(l.createRenderer(null,this.componentDef),v,function WM(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(v)),D=this.componentDef.onPush?576:528,S=function Iw(e,t){return{components:[],scheduler:e||o_,clean:ZS,playerHandler:t||null,flags:0}}(),O=sd(0,null,null,1,0,null,null,null,null,null),B=gf(null,O,S,D,null,null,l,g,h,u);let ee,ne;wc(B);try{const ue=function Dw(e,t,n,r,o,u){const l=n[1];n[20]=e;const g=kc(l,20,2,"#host",null),v=g.mergedAttrs=t.hostAttrs;null!==v&&(ud(g,v,!0),null!==e&&(Ta(o,e,v),null!==g.classes&&Lg(o,e,g.classes),null!==g.styles&&I_(o,e,g.styles)));const w=r.createRenderer(e,t),D=gf(n,q_(t),null,t.onPush?64:16,n[20],g,r,w,u||null,null);return l.firstCreatePass&&(Hi(Du(g,n),l,t.type),J_(l,g),ew(g,n.length,1)),ad(n,D),n[20]=D}(w,this.componentDef,B,l,g);if(w)if(r)Ta(g,w,["ng-version",m0.full]);else{const{attrs:J,classes:pe}=function hS(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let u=e[r];if("string"==typeof u)2===o?""!==u&&t.push(u,e[++r]):8===o&&n.push(u);else{if(!Fo(o))break;o=u}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);J&&Ta(g,w,J),pe&&pe.length>0&&Lg(g,w,pe.join(" "))}if(ne=Ls(O,20),void 0!==n){const J=ne.projection=[];for(let pe=0;pe<this.ngContentSelectors.length;pe++){const Oe=n[pe];J.push(null!=Oe?Array.from(Oe):null)}}ee=function Cw(e,t,n,r,o){const u=n[1],l=function OS(e,t,n){const r=ct();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),tw(e,r,t,Lc(e,t,1,null),n));const o=Iu(t,e,r.directiveStart,r);Hr(o,t);const u=Ar(r,t);return u&&Hr(u,t),o}(u,n,t);if(r.components.push(l),e[8]=l,o&&o.forEach(g=>g(l,t)),t.contentQueries){const g=ct();t.contentQueries(1,l,g.directiveStart)}const h=ct();return!u.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ai(h.index),Z_(n[1],h,0,h.directiveStart,h.directiveEnd,t),X_(t,l)),l}(ue,this.componentDef,B,S,[vT]),mf(O,B,null)}finally{mu()}return new ZM(this.componentType,ee,nl(ne,B),B,ne)}}class ZM extends class VM{}{constructor(t,n,r,o,u){super(),this.location=r,this._rootLView=o,this._tNode=u,this.instance=n,this.hostView=this.changeDetectorRef=new zM(o),this.componentType=t}get injector(){return new Pa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class ta{}class _0{}const il=new Map;class E0 extends ta{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new v0(this);const r=nr(t);this._bootstrapComponents=hs(r.bootstrap),this._r3Injector=hw(t,n,[{provide:ta,useValue:this},{provide:tl,useValue:this.componentFactoryResolver}],St(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Gr.THROW_IF_NOT_FOUND,r=Le.Default){return t===Gr||t===ta||t===om?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Om extends _0{constructor(t){super(),this.moduleType=t,null!==nr(t)&&function JM(e){const t=new Set;!function n(r){const o=nr(r,!0),u=o.id;null!==u&&(function w0(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${St(t)} vs ${St(t.name)}`)}(u,il.get(u),r),il.set(u,r));const l=hs(o.imports);for(const h of l)t.has(h)||(t.add(h),n(h))}(e)}(t)}create(t){return new E0(this.moduleType,t)}}function C0(e,t,n,r,o,u){const l=t+n;return $r(e,l,o)?ps(e,l+1,u?r.call(u,o):r(o)):function Sf(e,t){const n=e[t];return n===ft?void 0:n}(e,l+1)}function Tf(e,t){const n=nt();let r;const o=e+20;n.firstCreatePass?(r=function cx(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,r.onDestroy)):r=n.data[o];const u=r.factory||(r.factory=rs(r.type)),l=tr(oe);try{const h=bu(!1),g=u();return bu(h),function MT(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,ce(),o,g),g}finally{tr(l)}}function Mf(e,t,n){const r=e+20,o=ce(),u=Vs(o,r);return function xf(e,t){return e[1].data[t].pure}(o,r)?C0(o,mr(),t,u.transform,n,u):u.transform(n)}function Pm(e){return t=>{setTimeout(e,void 0,t)}}const Nn=class px extends be{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var o,u,l;let h=t,g=n||(()=>null),v=r;if(t&&"object"==typeof t){const D=t;h=null===(o=D.next)||void 0===o?void 0:o.bind(D),g=null===(u=D.error)||void 0===u?void 0:u.bind(D),v=null===(l=D.complete)||void 0===l?void 0:l.bind(D)}this.__isAsync&&(g=Pm(g),h&&(h=Pm(h)),v&&(v=Pm(v)));const w=super.subscribe({next:h,error:g,complete:v});return t instanceof se&&t.add(w),w}};function gx(){return this._results[Bc()]()}class Fm{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Bc(),r=Fm.prototype;r[n]||(r[n]=gx)}get changes(){return this._changes||(this._changes=new Nn)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=Si(t);(this._changesDetected=!function lg(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],u=t[r];if(n&&(o=n(o),u=n(u)),u!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let na=(()=>{class e{}return e.__NG_ELEMENT_ID__=yx,e})();const mx=na,vx=class extends mx{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=gf(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[19];return null!==u&&(r[19]=u.createEmbeddedView(n)),mf(n,r,t),new Af(r)}};function yx(){return bd(ct(),ce())}function bd(e,t){return 4&e.type?new vx(t,e,nl(e,t)):null}let jo=(()=>{class e{}return e.__NG_ELEMENT_ID__=_x,e})();function _x(){return N0(ct(),ce())}const wx=jo,M0=class extends wx{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return nl(this._hostTNode,this._hostLView)}get injector(){return new Pa(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ro(this._hostTNode,this._hostLView);if($l(t)){const n=Na(t,this._hostLView),r=xa(t);return new Pa(n[1].data[r+8],n)}return new Pa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=x0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const o=t.createEmbeddedView(n||{});return this.insert(o,r),o}createComponent(t,n,r,o,u){const l=t&&!function Tu(e){return"function"==typeof e}(t);let h;if(l)h=n;else{const D=n||{};h=D.index,r=D.injector,o=D.projectableNodes,u=D.ngModuleRef}const g=l?t:new Rm(gn(t)),v=r||this.parentInjector;if(!u&&null==g.ngModule){const S=(l?v:this.parentInjector).get(ta,null);S&&(u=S)}const w=g.create(v,o,void 0,u);return this.insert(w.hostView,h),w}insert(t,n){const r=t._lView,o=r[1];if(function is(e){return Lr(e[3])}(r)){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const D=r[3],S=new M0(D,D[6],D[3]);S.detach(S.indexOf(t))}}const u=this._adjustIndex(n),l=this._lContainer;!function WA(e,t,n,r){const o=10+r,u=n.length;r>0&&(n[o-1][4]=t),r<u-10?(t[4]=n[o],Nh(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const l=t[17];null!==l&&n!==l&&function QA(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(l,t);const h=t[19];null!==h&&h.insertView(e),t[2]|=128}(o,r,l,u);const h=Fg(u,l),g=r[11],v=ed(g,l[7]);return null!==v&&function $A(e,t,n,r,o,u){r[0]=o,r[6]=t,pf(e,r,n,1,o,u)}(o,l[6],g,r,v,h),t.attachToViewContainerRef(),Nh(km(l),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=x0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Rg(this._lContainer,n);r&&(Ic(km(this._lContainer),n),d_(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Rg(this._lContainer,n);return r&&null!=Ic(km(this._lContainer),n)?new Af(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function x0(e){return e[8]}function km(e){return e[8]||(e[8]=[])}function N0(e,t){let n;const r=t[e.index];if(Lr(r))n=r;else{let o;if(8&e.type)o=Cn(r);else{const u=t[11];o=u.createComment("");const l=Ar(e,t);Uu(u,ed(u,l),o,function XA(e,t){return jt(e)?e.nextSibling(t):t.nextSibling}(u,l),!1)}t[e.index]=n=nw(r,t,o,e),ad(t,n)}return new M0(n,e,t)}class Lm{constructor(t){this.queryList=t,this.matches=null}clone(){return new Lm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let u=0;u<r;u++){const l=n.getByIndex(u);o.push(this.queries[l.indexInDeclarationView].clone())}return new Vm(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==L0(t,n).matches&&this.queries[n].setDirty()}}class R0{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Um{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,u=this.getByIndex(r).embeddedTView(t,o);u&&(u.indexInDeclarationView=r,null!==n?n.push(u):n=[u])}return null!==n?new Um(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class jm{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new jm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const u=r[o];this.matchTNodeWithReadOption(t,n,Dx(n,u)),this.matchTNodeWithReadOption(t,n,Oa(n,t,u,!1,!1))}else r===na?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Oa(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Wi||o===jo||o===na&&4&n.type)this.addMatch(n.index,-2);else{const u=Oa(n,t,o,!1,!1);null!==u&&this.addMatch(n.index,u)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Dx(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Ix(e,t,n,r){return-1===n?function Cx(e,t){return 11&e.type?nl(e,t):4&e.type?bd(e,t):null}(t,e):-2===n?function Ax(e,t,n){return n===Wi?nl(t,e):n===na?bd(t,e):n===jo?N0(t,e):void 0}(e,t,r):Iu(e,e[1],n,t)}function O0(e,t,n,r){const o=t[19].queries[r];if(null===o.matches){const u=e.data,l=n.matches,h=[];for(let g=0;g<l.length;g+=2){const v=l[g];h.push(v<0?null:Ix(t,u[v],l[g+1],n.metadata.read))}o.matches=h}return o.matches}function Bm(e,t,n,r){const o=e.queries.getByIndex(n),u=o.matches;if(null!==u){const l=O0(e,t,o,n);for(let h=0;h<u.length;h+=2){const g=u[h];if(g>0)r.push(l[h/2]);else{const v=u[h+1],w=t[-g];for(let D=10;D<w.length;D++){const S=w[D];S[17]===S[3]&&Bm(S[1],S,v,r)}if(null!==w[9]){const D=w[9];for(let S=0;S<D.length;S++){const O=D[S];Bm(O[1],O,v,r)}}}}}return r}function Ed(e){const t=ce(),n=nt(),r=_c();jr(r+1);const o=L0(n,r);if(e.dirty&&kl(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const u=o.crossesNgTemplate?Bm(n,t,r,[]):O0(n,t,o,r);e.reset(u,HM),e.notifyOnChanges()}return!0}return!1}function Hm(e,t,n,r){const o=nt();if(o.firstCreatePass){const u=ct();k0(o,new R0(t,n,r),u.index),function Tx(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}F0(o,ce(),n)}function Dd(){return function Sx(e,t){return e[19].queries[t].queryList}(ce(),_c())}function F0(e,t,n){const r=new Fm(4==(4&n));Q_(e,t,r,r.destroy),null===t[19]&&(t[19]=new Vm),t[19].queries.push(new Lm(r))}function k0(e,t,n){null===e.queries&&(e.queries=new Um),e.queries.track(new jm(t,n))}function L0(e,t){return e.queries.getByIndex(t)}function Ad(...e){}const Sd=new ot("Application Initializer");let sl=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Ad,this.reject=Ad,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const u=this.appInits[o]();if(wf(u))n.push(u);else if(bm(u)){const l=new Promise((h,g)=>{u.subscribe({complete:h,error:g})});n.push(l)}}Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(fe(Sd,8))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();const Rf=new ot("AppId"),Wx={provide:Rf,useFactory:function zx(){return`${Qm()}${Qm()}${Qm()}`},deps:[]};function Qm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eE=new ot("Platform Initializer"),_s=new ot("Platform ID"),tE=new ot("appBootstrapListener");let nE=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();const Ha=new ot("LocaleId"),rE=new ot("DefaultCurrencyCode");class Qx{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Td=(()=>{class e{compileModuleSync(n){return new Om(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),u=hs(nr(n).declarations).reduce((l,h)=>{const g=gn(h);return g&&l.push(new Rm(g)),l},[]);return new Qx(r,u)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();const Yx=(()=>Promise.resolve(0))();function Km(e){"undefined"==typeof Zone?Yx.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class un{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nn(!1),this.onMicrotaskEmpty=new Nn(!1),this.onStable=new Nn(!1),this.onError=new Nn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function Zx(){let e=Ut.requestAnimationFrame,t=Ut.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function eN(e){const t=()=>{!function Jx(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ut,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Zm(e),e.isCheckStableRunning=!0,Ym(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Zm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,u,l,h)=>{try{return iE(e),n.invokeTask(o,u,l,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),oE(e)}},onInvoke:(n,r,o,u,l,h,g)=>{try{return iE(e),n.invoke(o,u,l,h,g)}finally{e.shouldCoalesceRunChangeDetection&&t(),oE(e)}},onHasTask:(n,r,o,u)=>{n.hasTask(o,u),r===o&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,Zm(e),Ym(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(n,r,o,u)=>(n.handleError(o,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(o)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!un.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(un.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const u=this._inner,l=u.scheduleEventTask("NgZoneEvent: "+o,t,Xx,Ad,Ad);try{return u.runTask(l,n,r)}finally{u.cancelTask(l)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const Xx={};function Ym(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Zm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function iE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function oE(e){e._nesting--,Ym(e)}class tN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nn,this.onMicrotaskEmpty=new Nn,this.onStable=new Nn,this.onError=new Nn}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}let Xm=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{un.assertNotInAngularZone(),Km(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Km(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let u=-1;r&&r>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==u),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:u,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(fe(un))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})(),sE=(()=>{class e{constructor(){this._applications=new Map,Jm.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Jm.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();class nN{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let Bo,Jm=new nN;const aE=new ot("AllowMultipleToken");class uE{constructor(t,n){this.name=t,this.token=n}}function cE(e,t,n=[]){const r=`Platform: ${t}`,o=new ot(r);return(u=[])=>{let l=lE();if(!l||l.injector.get(aE,!1))if(e)e(n.concat(u).concat({provide:o,useValue:!0}));else{const h=n.concat(u).concat({provide:o,useValue:!0},{provide:sm,useValue:"platform"});!function sN(e){if(Bo&&!Bo.destroyed&&!Bo.injector.get(aE,!1))throw new Dt(400,"");Bo=e.get(fE);const t=e.get(eE,null);t&&t.forEach(n=>n())}(Gr.create({providers:h,name:r}))}return function aN(e){const t=lE();if(!t)throw new Dt(401,"");return t}()}}function lE(){return Bo&&!Bo.destroyed?Bo:null}let fE=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const h=function uN(e,t){let n;return n="noop"===e?new tN:("zone.js"===e?void 0:e)||new un({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),g=[{provide:un,useValue:h}];return h.run(()=>{const v=Gr.create({providers:g,parent:this.injector,name:n.moduleType.name}),w=n.create(v),D=w.injector.get(Oc,null);if(!D)throw new Dt(402,"");return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:O=>{D.handleError(O)}});w.onDestroy(()=>{ev(this._modules,w),S.unsubscribe()})}),function cN(e,t,n){try{const r=n();return wf(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(D,h,()=>{const S=w.injector.get(sl);return S.runInitializers(),S.donePromise.then(()=>(function G1(e){fr(e,"Expected localeId to be defined"),"string"==typeof e&&(Bb=e.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Ha,gd)||gd),this._moduleDoBootstrap(w),w))})})}bootstrapModule(n,r=[]){const o=hE({},r);return function iN(e,t,n){const r=new Om(n);return Promise.resolve(r)}(0,0,n).then(u=>this.bootstrapModuleFactory(u,o))}_moduleDoBootstrap(n){const r=n.injector.get(Of);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new Dt(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Dt(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(fe(Gr))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();function hE(e,t){return Array.isArray(t)?t.reduce(hE,e):Object.assign(Object.assign({},e),t)}let Of=(()=>{class e{constructor(n,r,o,u,l){this._zone=n,this._injector=r,this._exceptionHandler=o,this._componentFactoryResolver=u,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new ve(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),g=new ve(v=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{un.assertNotInAngularZone(),Km(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{un.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{w.unsubscribe(),D.unsubscribe()}});this.isStable=function ic(...e){const t=Xi(e),n=function nu(e,t){return"number"==typeof ca(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Mr(r[0]):bo(n)(vt(r,t)):lr}(h,g.pipe(Ms()))}bootstrap(n,r){if(!this._initStatus.done)throw new Dt(405,"");let o;o=n instanceof d0?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(o.componentType);const u=function oN(e){return e.isBoundToModule}(o)?void 0:this._injector.get(ta),h=o.create(Gr.NULL,[],r||o.selector,u),g=h.location.nativeElement,v=h.injector.get(Xm,null),w=v&&h.injector.get(sE);return v&&w&&w.registerApplication(g,v),h.onDestroy(()=>{this.detachView(h.hostView),ev(this.components,h),w&&w.unregisterApplication(g)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Dt(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ev(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(tE,[]).concat(this._bootstrapListeners).forEach(o=>o(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(fe(un),fe(Gr),fe(Oc),fe(tl),fe(sl))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();function ev(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let pE=!0,Md=(()=>{class e{}return e.__NG_ELEMENT_ID__=hN,e})();function hN(e){return function dN(e,t,n){if(ni(e)&&!n){const r=ii(e.index,t);return new Af(r,r)}return 47&e.type?new Af(t[16],t):null}(ct(),ce(),16==(16&e))}class _E{constructor(){}supports(t){return yf(t)}create(t){return new _N(t)}}const yN=(e,t)=>t;class _N{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||yN}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,u=null;for(;n||r;){const l=!r||n&&n.currentIndex<bE(r,o,u)?n:r,h=bE(l,o,u),g=l.currentIndex;if(l===r)o--,r=r._nextRemoved;else if(n=n._next,null==l.previousIndex)o++;else{u||(u=[]);const v=h-o,w=g-o;if(v!=w){for(let S=0;S<v;S++){const O=S<u.length?u[S]:u[S]=0,B=O+S;w<=B&&B<v&&(u[S]=O+1)}u[l.previousIndex]=w-v}}h!==g&&t(l,h,g)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!yf(t))throw new Dt(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,u,l,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let h=0;h<this.length;h++)u=t[h],l=this._trackByFn(h,u),null!==n&&Object.is(n.trackById,l)?(r&&(n=this._verifyReinsertion(n,u,l,h)),Object.is(n.item,u)||this._addIdentityChange(n,u)):(n=this._mismatch(n,u,l,h),r=!0),n=n._next}else o=0,function ST(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Bc()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,h=>{l=this._trackByFn(o,h),null!==n&&Object.is(n.trackById,l)?(r&&(n=this._verifyReinsertion(n,h,l,o)),Object.is(n.item,h)||this._addIdentityChange(n,h)):(n=this._mismatch(n,h,l,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let u;return null===t?u=this._itTail:(u=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,u,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,u,o)):t=this._addAfter(new wN(n,r),u,o),t}_verifyReinsertion(t,n,r,o){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==u?t=this._reinsertAfter(u,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,u=t._nextRemoved;return null===o?this._removalsHead=u:o._nextRemoved=u,null===u?this._removalsTail=o:u._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new wE),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class wN{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bN{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class wE{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new bN,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bE(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class EE{constructor(){}supports(t){return t instanceof Map||hm(t)}create(){return new EN}}class EN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||hm(t)))throw new Dt(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const u=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,u)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const u=o._prev,l=o._next;return u&&(u._next=l),l&&(l._prev=u),o._next=null,o._prev=null,o}const r=new DN(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class DN{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DE(){return new Pf([new _E])}let Pf=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||DE()),deps:[[e,new La,new $i]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Dt(901,"")}}return e.\u0275prov=Je({token:e,providedIn:"root",factory:DE}),e})();function CE(){return new al([new EE])}let al=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||CE()),deps:[[e,new La,new $i]]}}find(n){const r=this.factories.find(u=>u.supports(n));if(r)return r;throw new Dt(901,"")}}return e.\u0275prov=Je({token:e,providedIn:"root",factory:CE}),e})();const CN=[new EE],AN=new Pf([new _E]),SN=new al(CN),TN=cE(null,"core",[{provide:_s,useValue:"unknown"},{provide:fE,deps:[Gr]},{provide:sE,deps:[]},{provide:nE,deps:[]}]),ON=[{provide:Of,useClass:Of,deps:[un,Gr,Oc,tl,sl]},{provide:QM,deps:[un],useFactory:function PN(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:sl,useClass:sl,deps:[[new $i,Sd]]},{provide:Td,useClass:Td,deps:[]},Wx,{provide:Pf,useFactory:function MN(){return AN},deps:[]},{provide:al,useFactory:function xN(){return SN},deps:[]},{provide:Ha,useFactory:function NN(e){return e||function RN(){return"undefined"!=typeof $localize&&$localize.locale||gd}()},deps:[[new ka(Ha),new $i,new La]]},{provide:rE,useValue:"USD"}];let FN=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(fe(Of))},e.\u0275mod=Lt({type:e}),e.\u0275inj=Kt({providers:ON}),e})(),Rd=null;function ws(){return Rd}const go=new ot("DocumentToken");let Gu=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Je({token:e,factory:function(){return function UN(){return fe(IE)}()},providedIn:"platform"}),e})();const jN=new ot("Location Initialized");let IE=(()=>{class e extends Gu{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ws().getBaseHref(this._doc)}onPopState(n){const r=ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,o){AE()?this._history.pushState(n,r,o):this.location.hash=o}replaceState(n,r,o){AE()?this._history.replaceState(n,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(fe(go))},e.\u0275prov=Je({token:e,factory:function(){return function BN(){return new IE(fe(go))}()},providedIn:"platform"}),e})();function AE(){return!!window.history.pushState}function ov(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function SE(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function ra(e){return e&&"?"!==e[0]?"?"+e:e}let ul=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Je({token:e,factory:function(){return function HN(e){const t=fe(go).location;return new TE(fe(Gu),t&&t.origin||"")}()},providedIn:"root"}),e})();const sv=new ot("appBaseHref");let TE=(()=>{class e extends ul{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ov(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ra(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,u){const l=this.prepareExternalUrl(o+ra(u));this._platformLocation.pushState(n,r,l)}replaceState(n,r,o,u){const l=this.prepareExternalUrl(o+ra(u));this._platformLocation.replaceState(n,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(fe(Gu),fe(sv,8))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})(),GN=(()=>{class e extends ul{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=ov(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,u){let l=this.prepareExternalUrl(o+ra(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(n,r,l)}replaceState(n,r,o,u){let l=this.prepareExternalUrl(o+ra(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(fe(Gu),fe(sv,8))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})(),av=(()=>{class e{constructor(n,r){this._subject=new Nn,this._urlChangeListeners=[],this._platformStrategy=n;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=SE(ME(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ra(r))}normalize(n){return e.stripTrailingSlash(function qN(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,ME(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._platformStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ra(r)),o)}replaceState(n,r="",o=null){this._platformStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ra(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}}return e.normalizeQueryParams=ra,e.joinWithSlash=ov,e.stripTrailingSlash=SE,e.\u0275fac=function(n){return new(n||e)(fe(ul),fe(Gu))},e.\u0275prov=Je({token:e,factory:function(){return function $N(){return new av(fe(ul),fe(Gu))}()},providedIn:"root"}),e})();function ME(e){return e.replace(/\/index.html$/,"")}const xE={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Mi=(()=>((Mi=Mi||{})[Mi.Decimal=0]="Decimal",Mi[Mi.Percent=1]="Percent",Mi[Mi.Currency=2]="Currency",Mi[Mi.Scientific=3]="Scientific",Mi))(),Zn=(()=>((Zn=Zn||{})[Zn.Zero=0]="Zero",Zn[Zn.One=1]="One",Zn[Zn.Two=2]="Two",Zn[Zn.Few=3]="Few",Zn[Zn.Many=4]="Many",Zn[Zn.Other=5]="Other",Zn))(),ze=(()=>((ze=ze||{})[ze.Decimal=0]="Decimal",ze[ze.Group=1]="Group",ze[ze.List=2]="List",ze[ze.PercentSign=3]="PercentSign",ze[ze.PlusSign=4]="PlusSign",ze[ze.MinusSign=5]="MinusSign",ze[ze.Exponential=6]="Exponential",ze[ze.SuperscriptingExponent=7]="SuperscriptingExponent",ze[ze.PerMille=8]="PerMille",ze[ze.Infinity=9]="Infinity",ze[ze.NaN=10]="NaN",ze[ze.TimeSeparator=11]="TimeSeparator",ze[ze.CurrencyDecimal=12]="CurrencyDecimal",ze[ze.CurrencyGroup=13]="CurrencyGroup",ze))();function mo(e,t){const n=hi(e),r=n[Ce.NumberSymbols][t];if(void 0===r){if(t===ze.CurrencyDecimal)return n[Ce.NumberSymbols][ze.Decimal];if(t===ze.CurrencyGroup)return n[Ce.NumberSymbols][ze.Group]}return r}const XN=function Ub(e){return hi(e)[Ce.PluralCase]};const vR=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function bR(e,t,n,r,o){const l=function pv(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),o=r[0],u=r[1],l=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],h=l[0],g=l[1]||"";n.posPre=h.substr(0,h.indexOf("#"));for(let w=0;w<g.length;w++){const D=g.charAt(w);"0"===D?n.minFrac=n.maxFrac=w+1:"#"===D?n.maxFrac=w+1:n.posSuf+=D}const v=h.split(",");if(n.gSize=v[1]?v[1].length:0,n.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,u){const w=o.length-n.posPre.length-n.posSuf.length,D=u.indexOf("#");n.negPre=u.substr(0,D).replace(/'/g,""),n.negSuf=u.substr(D+w).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function uv(e,t){return hi(e)[Ce.NumberFormats][t]}(t,Mi.Currency),mo(t,ze.MinusSign));return l.minFrac=function rR(e){let t;const n=xE[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),l.maxFrac=l.minFrac,function dv(e,t,n,r,o,u,l=!1){let h="",g=!1;if(isFinite(e)){let v=function IR(e){let r,o,u,l,h,t=Math.abs(e)+"",n=0;for((o=t.indexOf("."))>-1&&(t=t.replace(".","")),(u=t.search(/e/i))>0?(o<0&&(o=u),o+=+t.slice(u+1),t=t.substring(0,u)):o<0&&(o=t.length),u=0;"0"===t.charAt(u);u++);if(u===(h=t.length))r=[0],o=1;else{for(h--;"0"===t.charAt(h);)h--;for(o-=u,r=[],l=0;u<=h;u++,l++)r[l]=Number(t.charAt(u))}return o>22&&(r=r.splice(0,21),n=o-1,o=1),{digits:r,exponent:n,integerLen:o}}(e);l&&(v=function CR(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(v));let w=t.minInt,D=t.minFrac,S=t.maxFrac;if(u){const J=u.match(vR);if(null===J)throw new Error(`${u} is not a valid digit info`);const pe=J[1],Oe=J[3],ht=J[5];null!=pe&&(w=gv(pe)),null!=Oe&&(D=gv(Oe)),null!=ht?S=gv(ht):null!=Oe&&D>S&&(S=D)}!function AR(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,o=r.length-e.integerLen;const u=Math.min(Math.max(t,o),n);let l=u+e.integerLen,h=r[l];if(l>0){r.splice(Math.max(e.integerLen,l));for(let D=l;D<r.length;D++)r[D]=0}else{o=Math.max(0,o),e.integerLen=1,r.length=Math.max(1,l=u+1),r[0]=0;for(let D=1;D<l;D++)r[D]=0}if(h>=5)if(l-1<0){for(let D=0;D>l;D--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[l-1]++;for(;o<Math.max(0,u);o++)r.push(0);let g=0!==u;const v=t+e.integerLen,w=r.reduceRight(function(D,S,O,B){return B[O]=(S+=D)<10?S:S-10,g&&(0===B[O]&&O>=v?B.pop():g=!1),S>=10?1:0},0);w&&(r.unshift(w),e.integerLen++)}(v,D,S);let O=v.digits,B=v.integerLen;const ee=v.exponent;let ne=[];for(g=O.every(J=>!J);B<w;B++)O.unshift(0);for(;B<0;B++)O.unshift(0);B>0?ne=O.splice(B,O.length):(ne=O,O=[0]);const ue=[];for(O.length>=t.lgSize&&ue.unshift(O.splice(-t.lgSize,O.length).join(""));O.length>t.gSize;)ue.unshift(O.splice(-t.gSize,O.length).join(""));O.length&&ue.unshift(O.join("")),h=ue.join(mo(n,r)),ne.length&&(h+=mo(n,o)+ne.join("")),ee&&(h+=mo(n,ze.Exponential)+"+"+ee)}else h=mo(n,ze.Infinity);return h=e<0&&!g?t.negPre+h+t.negSuf:t.posPre+h+t.posSuf,h}(e,l,t,ze.CurrencyGroup,ze.CurrencyDecimal,o).replace("\xa4",n).replace("\xa4","").trim()}function gv(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class Hd{}let SR=(()=>{class e extends Hd{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(XN(r||this.locale)(n)){case Zn.Zero:return"zero";case Zn.One:return"one";case Zn.Two:return"two";case Zn.Few:return"few";case Zn.Many:return"many";default:return"other"}}}return e.\u0275fac=function(n){return new(n||e)(fe(Ha))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();class NR{constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gd=(()=>{class e{constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,u,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new NR(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const h=r.get(u);r.move(h,l),VE(h,o)}});for(let o=0,u=r.length;o<u;o++){const h=r.get(o).context;h.index=o,h.count=u,h.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{VE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(oe(jo),oe(na),oe(Pf))},e.\u0275dir=Be({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function VE(e,t){e.context.$implicit=t.item}let $d=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new RR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){UE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){UE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(oe(jo),oe(na))},e.\u0275dir=Be({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class RR{constructor(){this.$implicit=null,this.ngIf=null}}function UE(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${St(t)}'.`)}function Go(e,t){return new Dt(2100,"")}const $R=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let BE=(()=>{class e{transform(n){if(null==n)return null;if("string"!=typeof n)throw Go();return n.replace($R,r=>r[0].toUpperCase()+r.substr(1).toLowerCase())}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=bn({name:"titlecase",type:e,pure:!0}),e})(),yv=(()=>{class e{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,o="symbol",u,l){if(!function _v(e){return!(null==e||""===e||e!=e)}(n))return null;l=l||this._locale,"boolean"==typeof o&&(o=o?"symbol":"code");let h=r||this._defaultCurrencyCode;"code"!==o&&(h="symbol"===o||"symbol-narrow"===o?function tR(e,t,n="en"){const r=function ZN(e){return hi(e)[Ce.Currencies]}(n)[e]||xE[e]||[],o=r[1];return"narrow"===t&&"string"==typeof o?o:r[0]||e}(h,"symbol"===o?"wide":"narrow",l):o);try{return bR(function wv(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(n),l,h,r,u)}catch(g){throw Go()}}}return e.\u0275fac=function(n){return new(n||e)(oe(Ha,16),oe(rE,16))},e.\u0275pipe=bn({name:"currency",type:e,pure:!0}),e})();let rO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Lt({type:e}),e.\u0275inj=Kt({providers:[{provide:Hd,useClass:SR}]}),e})();function $E(e){return"server"===e}let aO=(()=>{class e{}return e.\u0275prov=Je({token:e,providedIn:"root",factory:()=>new uO(fe(go),window)}),e})();class uO{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function cO(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=qE(this.window.history)||qE(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function qE(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class bv extends class fO extends class VN{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function LN(e){Rd||(Rd=e)}(new bv)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function hO(){return Lf=Lf||document.querySelector("base"),Lf?Lf.getAttribute("href"):null}();return null==n?null:function dO(e){qd=qd||document.createElement("a"),qd.setAttribute("href",e);const t=qd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Lf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function TR(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,u]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(u)}return null}(document.cookie,t)}}let qd,Lf=null;const zE=new ot("TRANSITION_ID"),gO=[{provide:Sd,useFactory:function pO(e,t,n){return()=>{n.get(sl).donePromise.then(()=>{const r=ws(),o=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[zE,go,Gr],multi:!0}];class Ev{static init(){!function rN(e){Jm=e}(new Ev)}addToWindow(t){Ut.getAngularTestability=(r,o=!0)=>{const u=t.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},Ut.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ut.getAllAngularRootElements=()=>t.getAllRootElements(),Ut.frameworkStabilizers||(Ut.frameworkStabilizers=[]),Ut.frameworkStabilizers.push(r=>{const o=Ut.getAllAngularTestabilities();let u=o.length,l=!1;const h=function(g){l=l||g,u--,0==u&&r(l)};o.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const o=t.getTestability(n);return null!=o?o:r?ws().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let mO=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();const zd=new ot("EventManagerPlugins");let Wd=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>o.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}addGlobalEventListener(n,r,o){return this._findPluginFor(r).addGlobalEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const l=o[u];if(l.supports(n))return this._eventNameToPlugin.set(n,l),l}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(fe(zd),fe(un))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();class WE{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const o=ws().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${n}`);return this.addEventListener(o,n,r)}}let QE=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})(),Vf=(()=>{class e extends QE{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,o){n.forEach(u=>{const l=this._doc.createElement("style");l.textContent=u,o.push(r.appendChild(l))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(KE),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(n,o,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(KE))}}return e.\u0275fac=function(n){return new(n||e)(fe(go))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();function KE(e){ws().remove(e)}const Dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cv=/%COMP%/g;function Qd(e,t,n){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?Qd(e,o,n):(o=o.replace(Cv,e),n.push(o))}return n}function XE(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Iv=(()=>{class e{constructor(n,r,o){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Av(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Xr.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new EO(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(n),o}case 1:case Xr.ShadowDom:return new DO(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const o=Qd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(fe(Wd),fe(Vf),fe(Rf))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();class Av{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Dv[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const u=Dv[o];u?t.setAttributeNS(u,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=Dv[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(qi.DashCase|qi.Important)?t.style.setProperty(n,r,o&qi.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&qi.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,XE(r)):this.eventManager.addEventListener(t,n,XE(r))}}class EO extends Av{constructor(t,n,r,o){super(t),this.component=r;const u=Qd(o+"-"+r.id,r.styles,[]);n.addStyles(u),this.contentAttr=function _O(e){return"_ngcontent-%COMP%".replace(Cv,e)}(o+"-"+r.id),this.hostAttr=function wO(e){return"_nghost-%COMP%".replace(Cv,e)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class DO extends Av{constructor(t,n,r,o){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Qd(o.id,o.styles,[]);for(let l=0;l<u.length;l++){const h=document.createElement("style");h.textContent=u[l],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let CO=(()=>{class e extends WE{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}}return e.\u0275fac=function(n){return new(n||e)(fe(go))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();const eD=["alt","control","meta","shift"],AO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tD={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},SO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let TO=(()=>{class e extends WE{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const u=e.parseEventName(r),l=e.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ws().onAndCancel(n,u.domEventName,l))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=e._normalizeKey(r.pop());let l="";if(eD.forEach(g=>{const v=r.indexOf(g);v>-1&&(r.splice(v,1),l+=g+".")}),l+=u,0!=r.length||0===u.length)return null;const h={};return h.domEventName=o,h.fullKey=l,h}static getEventFullKey(n){let r="",o=function MO(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&tD.hasOwnProperty(t)&&(t=tD[t]))}return AO[t]||t}(n);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),eD.forEach(u=>{u!=o&&SO[u](n)&&(r+=u+".")}),r+=o,r}static eventCallback(n,r,o){return u=>{e.getEventFullKey(u)===n&&o.runGuarded(()=>r(u))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(fe(go))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();const OO=cE(TN,"browser",[{provide:_s,useValue:"browser"},{provide:eE,useValue:function xO(){bv.makeCurrent(),Ev.init()},multi:!0},{provide:go,useFactory:function RO(){return function Bi(e){Rl=e}(document),document},deps:[]}]),PO=[{provide:sm,useValue:"root"},{provide:Oc,useFactory:function NO(){return new Oc},deps:[]},{provide:zd,useClass:CO,multi:!0,deps:[go,un,_s]},{provide:zd,useClass:TO,multi:!0,deps:[go]},{provide:Iv,useClass:Iv,deps:[Wd,Vf,Rf]},{provide:g0,useExisting:Iv},{provide:QE,useExisting:Vf},{provide:Vf,useClass:Vf,deps:[go]},{provide:Xm,useClass:Xm,deps:[un]},{provide:Wd,useClass:Wd,deps:[zd,un]},{provide:class lO{},useClass:mO,deps:[]}];let FO=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:Rf,useValue:n.appId},{provide:zE,useExisting:Rf},gO]}}}return e.\u0275fac=function(n){return new(n||e)(fe(e,12))},e.\u0275mod=Lt({type:e}),e.\u0275inj=Kt({providers:PO,imports:[rO,FN]}),e})();"undefined"!=typeof window&&window;class zO extends se{constructor(t,n){super()}schedule(t,n=0){return this}}const Kd={setInterval(...e){const{delegate:t}=Kd;return((null==t?void 0:t.setInterval)||setInterval)(...e)},clearInterval(e){const{delegate:t}=Kd;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0};class iD extends zO{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Kd.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Kd.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(u){r=!0,o=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Se(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const Tv={now:()=>(Tv.delegate||Date).now(),delegate:void 0};class Uf{constructor(t,n=Uf.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Uf.now=Tv.now;class oD extends Uf{constructor(t,n=Uf.now){super(t,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const KO=new class QO extends oD{}(class WO extends iD{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,n,r):t.flush(this)}}),sD=new oD(iD);function xi(e,t,n){const r=N(e)||t||n?{next:e,error:t,complete:n}:e;return r?Gt((o,u)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let h=!0;o.subscribe(mt(u,g=>{var v;null===(v=r.next)||void 0===v||v.call(r,g),u.next(g)},()=>{var g;h=!1,null===(g=r.complete)||void 0===g||g.call(r),u.complete()},g=>{var v;h=!1,null===(v=r.error)||void 0===v||v.call(r,g),u.error(g)},()=>{var g,v;h&&(null===(g=r.unsubscribe)||void 0===g||g.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):M}var YO=rt(29),cl=rt.n(YO);function Mv(){}class aD{constructor(t,n=KO){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){const o=this.zone;return this.delegate.schedule(function(l){o.runGuarded(()=>{t.apply(this,[l])})},n,r)}}class ZO{constructor(t){this.zone=t,this.task=null}call(t,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mv,{},Mv,Mv)),n.pipe(xi({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class xv{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new aD(Zone.current)),this.insideAngular=t.run(()=>new aD(Zone.current,sD))}}function Nv(e){return function(n){return(n=n.lift(new ZO(e.ngZone))).pipe(la(e.outsideAngular),Kr(e.insideAngular))}}const XO=["ngOnDestroy"],$a=new ot("angularfire2.app.options"),qa=new ot("angularfire2.app.nameOrConfig"),tP=new rl("6.0.3");function Yd(e,t,n){const o="object"==typeof n&&n||{};return o.name=o.name||"string"==typeof n&&n||"[DEFAULT]",cl().apps.filter(l=>l&&l.name===o.name)[0]||t.runOutsideAngular(()=>cl().initializeApp(e,o))}const nP={provide:class eP{},useFactory:Yd,deps:[$a,un,[new $i,qa]]};let rP=(()=>{class e{constructor(n){cl().registerVersion("angularfire",tP.full,n.toString()),cl().registerVersion("angular",m0.full)}static initializeApp(n,r){return{ngModule:e,providers:[{provide:$a,useValue:n},{provide:qa,useValue:r}]}}}return e.\u0275fac=function(n){return new(n||e)(fe(_s))},e.\u0275mod=Lt({type:e}),e.\u0275inj=Kt({providers:[nP]}),e})();function Xe(...e){return vt(e,Xi(e))}function iP(e,t,n,r,o){return(u,l)=>{let h=n,g=t,v=0;u.subscribe(mt(l,w=>{const D=v++;g=h?e(g,w,D):(h=!0,w),r&&l.next(g)},o&&(()=>{h&&l.next(g),l.complete()})))}}function jf(e,t){return Gt(iP(e,t,arguments.length>=2,!0))}function za(e,t){return Gt((n,r)=>{let o=0;n.subscribe(mt(r,u=>e.call(t,u,o++)&&r.next(u)))})}function uD(e,t){return function oP(e,t=sD){return new ve(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot(n)}):r=e.onSnapshot(n),()=>{null!=r&&r()}})}(e,t)}function Zd(e,t){return uD(e,t).pipe(ke(n=>({payload:n,type:"query"})))}function Xd(e,t){return Zd(e,t).pipe(ke(n=>n.payload.docChanges().map(r=>({type:r.type,payload:r}))))}function cD(e,t,n){return Zd(e,n).pipe(ke(r=>r.payload.docChanges()),jf((r,o)=>function aP(e,t,n){return t.forEach(r=>{n.indexOf(r.type)>-1&&(e=function uP(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}(e,r))}),e}(r,o,t),[]),ke(r=>r.map(o=>({type:o.type,payload:o}))))}function lD(e){return(!e||0===e.length)&&(e=["added","removed","modified"]),e}rt(199);class fD{constructor(t,n,r){this.ref=t,this.query=n,this.afs=r}stateChanges(t){return t&&0!==t.length?Xd(this.query,this.afs.schedulers.outsideAngular).pipe(ke(n=>n.filter(r=>t.indexOf(r.type)>-1)),za(n=>n.length>0),this.afs.keepUnstableUntilFirst):Xd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(jf((n,r)=>[...n,...r],[]))}snapshotChanges(t){const n=lD(t);return cD(this.query,n,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Zd(this.query,this.afs.schedulers.outsideAngular).pipe(ke(n=>n.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),this.afs.keepUnstableUntilFirst)}get(t){return vt(this.query.get(t)).pipe(Kr(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new hD(this.ref.doc(t),this.afs)}}class hD{constructor(t,n){this.ref=t,this.afs=n}set(t,n){return this.ref.set(t,n)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,n){const r=this.ref.collection(t),{ref:o,query:u}=gD(r,n);return new fD(o,u,this.afs)}snapshotChanges(){return function sP(e,t){return uD(e,t).pipe(ke(n=>({payload:n,type:"value"})))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(ke(t=>t.payload.data()))}get(t){return vt(this.ref.get(t)).pipe(Kr(this.afs.schedulers.insideAngular))}}class cP{constructor(t,n){this.query=t,this.afs=n}stateChanges(t){return t&&0!==t.length?Xd(this.query,this.afs.schedulers.outsideAngular).pipe(ke(n=>n.filter(r=>t.indexOf(r.type)>-1)),za(n=>n.length>0),this.afs.keepUnstableUntilFirst):Xd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(jf((n,r)=>[...n,...r],[]))}snapshotChanges(t){const n=lD(t);return cD(this.query,n,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Zd(this.query,this.afs.schedulers.outsideAngular).pipe(ke(n=>n.payload.docs.map(r=>r.data())),this.afs.keepUnstableUntilFirst)}get(t){return vt(this.query.get(t)).pipe(Kr(this.afs.schedulers.insideAngular))}}const dD=rt(199),Rv=new ot("angularfire2.enableFirestorePersistence"),Ov=new ot("angularfire2.firestore.persistenceSettings"),pD=new ot("angularfire2.firestore.settings");function gD(e,t=(n=>n)){return{query:t(e),ref:e}}let Qi=(()=>{class e{constructor(n,r,o,u,l,h,g){this.schedulers=new xv(h),this.keepUnstableUntilFirst=Nv(this.schedulers),this.firestore=h.runOutsideAngular(()=>{const v=Yd(n,h,r);"registerFirestore"in dD&&dD.registerFirestore(cl());const w=v.firestore();return u&&w.settings(u),w}),this.persistenceEnabled$=o&&!$E(l)?h.runOutsideAngular(()=>{try{return vt(this.firestore.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(w){return Xe(!1)}}):Xe(!1)}collection(n,r){let o;o="string"==typeof n?this.firestore.collection(n):n;const{ref:u,query:l}=gD(o,r),h=this.schedulers.ngZone.run(()=>u);return new fD(h,l,this)}collectionGroup(n,r){const o=r||(l=>l),u=this.firestore.collectionGroup(n);return new cP(o(u),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const o=this.schedulers.ngZone.run(()=>r);return new hD(o,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(n){return new(n||e)(fe($a),fe(qa,8),fe(Rv,8),fe(pD,8),fe(_s),fe(un),fe(Ov,8))},e.\u0275prov=Je({factory:function(){return new e(fe($a),fe(qa,8),fe(Rv,8),fe(pD,8),fe(_s),fe(un),fe(Ov,8))},token:e,providedIn:"any"}),e})(),lP=(()=>{class e{static enablePersistence(n){return{ngModule:e,providers:[{provide:Rv,useValue:!0},{provide:Ov,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Lt({type:e}),e.\u0275inj=Kt({providers:[Qi]}),e})();function qr(e,t){return Gt((n,r)=>{let o=null,u=0,l=!1;const h=()=>l&&!o&&r.complete();n.subscribe(mt(r,g=>{null==o||o.unsubscribe();let v=0;const w=u++;Mr(e(g,w)).subscribe(o=mt(r,D=>r.next(t?t(g,D,w,v++):D),()=>{o=null,h()}))},()=>{l=!0,h()}))})}class fP extends be{constructor(t=1/0,n=1/0,r=Tv){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:l}=this;n||(r.push(t),!o&&r.push(u.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let l=0;l<u.length&&!t.closed;l+=r?1:2)t.next(u[l]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*t;if(t<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const l=n.now();let h=0;for(let g=1;g<r.length&&r[g]<=l;g+=2)h=g;h&&r.splice(0,h+1)}}}const Jd=lt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function mD(e){return Gt((t,n)=>{let r=!1;t.subscribe(mt(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function vD(e=dP){return Gt((t,n)=>{let r=!1;t.subscribe(mt(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function dP(){return new Jd}function $u(e,t){const n=arguments.length>=2;return r=>r.pipe(e?za((o,u)=>e(o,u,r)):M,Zo(1),n?mD(t):vD(()=>new Jd))}let ll=(()=>{class e{constructor(n,r,o,u){const l=new xv(u),h=Nv(l),g=Xe(void 0).pipe(Kr(l.outsideAngular),qr(()=>u.runOutsideAngular(()=>rt.e(304).then(rt.bind(rt,304)))),ke(()=>Yd(n,u,r)),ke(v=>u.runOutsideAngular(()=>v.auth())),function hP(e,t,n){var r,o;let u,l=!1;return e&&"object"==typeof e?(u=null!==(r=e.bufferSize)&&void 0!==r?r:1/0,t=null!==(o=e.windowTime)&&void 0!==o?o:1/0,l=!!e.refCount,n=e.scheduler):u=null!=e?e:1/0,Ms({connector:()=>new fP(u,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}({bufferSize:1,refCount:!1}));return $E(o)?this.authState=this.user=this.idToken=this.idTokenResult=Xe(null):(g.pipe($u()).subscribe(),this.authState=g.pipe(qr(w=>w.getRedirectResult().then(()=>w)),qr(w=>u.runOutsideAngular(()=>new ve(w.onAuthStateChanged.bind(w)))),h),this.user=g.pipe(qr(w=>w.getRedirectResult().then(()=>w)),qr(w=>u.runOutsideAngular(()=>new ve(w.onIdTokenChanged.bind(w)))),h),this.idToken=this.user.pipe(qr(w=>w?vt(w.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(qr(w=>w?vt(w.getIdTokenResult()):Xe(null)))),((e,t,n)=>new Proxy(e,{get:(r,o)=>n.runOutsideAngular(()=>{if(e[o])return e[o];if(XO.includes(o))return()=>{};const u=t.toPromise().then(l=>{const h=l&&l[o];return"function"==typeof h?h.bind(l):h&&h.then?h.then(g=>n.run(()=>g)):n.run(()=>h)});return new Proxy(()=>{},{get:(l,h)=>u[h],apply:(l,h,g)=>u.then(v=>v&&v(...g))})})}))(this,g,u)}}return e.\u0275fac=function(n){return new(n||e)(fe($a),fe(qa,8),fe(_s),fe(un))},e.\u0275prov=Je({factory:function(){return new e(fe($a),fe(qa,8),fe(_s),fe(un))},token:e,providedIn:"any"}),e})(),pP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Lt({type:e}),e.\u0275inj=Kt({providers:[ll]}),e})();var Pv=rt(278);function _D(e,t,n,r){return new(n||(n=Promise))(function(u,l){function h(w){try{v(r.next(w))}catch(D){l(D)}}function g(w){try{v(r.throw(w))}catch(D){l(D)}}function v(w){w.done?u(w.value):function o(u){return u instanceof n?u:new n(function(l){l(u)})}(w.value).then(h,g)}v((r=r.apply(e,t||[])).next())})}function wD(e,t){var r,o,u,l,n={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return l={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function h(v){return function(w){return function g(v){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(u=2&v[0]?o.return:v[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,v[1])).done)return u;switch(o=0,u&&(v=[2&v[0],u.value]),v[0]){case 0:case 1:u=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,o=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(!(u=(u=n.trys).length>0&&u[u.length-1])&&(6===v[0]||2===v[0])){n=0;continue}if(3===v[0]&&(!u||v[1]>u[0]&&v[1]<u[3])){n.label=v[1];break}if(6===v[0]&&n.label<u[1]){n.label=u[1],u=v;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(v);break}u[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],o=0}finally{r=u=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,w])}}}function ED(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var u=arguments[t],l=0,h=u.length;l<h;l++,o++)r[o]=u[l];return r}var mP=rt(355),DD="firebasestorage.googleapis.com",_r=function(){function e(t,n){this.code_=CD(t),this.message_="Firebase Storage: "+n,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(t){return CD(t)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),e}();function CD(e){return"storage/"+e}function kv(){return new _r("unknown","An unknown error occurred, please check the error payload for server response.")}function ID(){return new _r("canceled","User canceled the upload/download.")}function AD(){return new _r("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function TP(){return new _r("no-download-url","The given file does not have any download URLs.")}function SD(e,t,n){return new _r("invalid-argument","Invalid argument in `"+t+"` at index "+e+": "+n)}function TD(){return new _r("app-deleted","The Firebase app was deleted.")}function Bf(e,t){return new _r("invalid-format","String does not match format '"+e+"': "+t)}function tp(e){throw new _r("internal-error","Internal error: "+e)}var er={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function NP(e){switch(e){case er.RAW:case er.BASE64:case er.BASE64URL:case er.DATA_URL:return;default:throw"Expected one of the event types: ["+er.RAW+", "+er.BASE64+", "+er.BASE64URL+", "+er.DATA_URL+"]."}}var Lv=function e(t,n){this.data=t,this.contentType=n||null};function MD(e,t){switch(e){case er.RAW:return new Lv(xD(t));case er.BASE64:case er.BASE64URL:return new Lv(ND(e,t));case er.DATA_URL:return new Lv(function OP(e){var t=new RD(e);return t.base64?ND(er.BASE64,t.rest):function RP(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Bf(er.DATA_URL,"Malformed data URL.")}return xD(t)}(t.rest)}(t),function PP(e){return new RD(e).contentType}(t))}throw kv()}function xD(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var u=r,l=e.charCodeAt(++n);t.push(240|(r=65536|(1023&u)<<10|1023&l)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ND(e,t){switch(e){case er.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Bf(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case er.BASE64URL:var u=-1!==t.indexOf("+"),l=-1!==t.indexOf("/");if(u||l)throw Bf(e,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var h;try{h=atob(t)}catch(w){throw Bf(e,"Invalid character found")}for(var g=new Uint8Array(h.length),v=0;v<h.length;v++)g[v]=h.charCodeAt(v);return g}var RD=function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Bf(er.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function FP(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)},Vv={STATE_CHANGED:"state_changed"},pi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Uv(e){switch(e){case"running":case"pausing":case"canceling":return pi.RUNNING;case"paused":return pi.PAUSED;case"success":return pi.SUCCESS;case"canceled":return pi.CANCELED;default:return pi.ERROR}}function bs(e){return null!=e}function Wa(e){return void 0!==e}function OD(e){return"function"==typeof e}function Hf(e){return"object"==typeof e}function kP(e){return Hf(e)&&null!==e}function fl(e){return"string"==typeof e||e instanceof String}function VP(e){return PD(e)&&Number.isInteger(e)}function PD(e){return"number"==typeof e||e instanceof Number}function FD(e){return np()&&e instanceof Blob}function np(){return"undefined"!=typeof Blob}var Qa=(()=>{return(e=Qa||(Qa={}))[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",Qa;var e})(),UP=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Qa.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Qa.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Qa.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw tp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),bs(o))for(var u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return bs(r)?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw tp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw tp("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw tp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){bs(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){bs(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},e}(),jP=function(){function e(){}return e.prototype.createXhrIo=function(){return new UP},e}();function BP(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function HP(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=BP();if(void 0!==n){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}if(np())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var jv=function(){function e(t,n){var r=0,o="";FD(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(FD(this.data_)){var o=function GP(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===o?null:new e(o)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(np()){var r=t.map(function(g){return g instanceof e?g.data_:g});return new e(HP.apply(null,r))}var o=t.map(function(g){return fl(g)?MD(er.RAW,g).data:g.data_}),u=0;o.forEach(function(g){u+=g.byteLength});var l=new Uint8Array(u),h=0;return o.forEach(function(g){for(var v=0;v<g.length;v++)l[h++]=g[v]}),new e(l,!0)},e.prototype.uploadData=function(){return this.data_},e}(),$o=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(r){return new e(t,"")}if(""===n.path)return n;throw function AP(e){return new _r("invalid-default-bucket","Invalid default bucket '"+e+"'.")}(t)},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)",l=new RegExp("^gs://"+r+"(/(.*))?$","i");function g(Yi){Yi.path_=decodeURIComponent(Yi.path)}for(var w=DD.replace(/[.]/g,"\\."),J=[{regex:l,indices:{bucket:1,path:3},postModify:function o(Yi){"/"===Yi.path.charAt(Yi.path.length-1)&&(Yi.path_=Yi.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+w+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:g},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:g}],pe=0;pe<J.length;pe++){var Oe=J[pe],ht=Oe.regex.exec(t);if(ht){var Ki=ht[Oe.indices.path];Ki||(Ki=""),n=new e(ht[Oe.indices.bucket],Ki),Oe.postModify(n);break}}if(null==n)throw function IP(e){return new _r("invalid-url","Invalid URL '"+e+"'.")}(t);return n},e}();function Bv(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function LP(e){return Hf(e)&&!Array.isArray(e)}(t)?t:null}function qP(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return 0===e.length?n:e+"/"+n}function kD(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Ka(e){return"https://"+DD+"/v0"+e}function LD(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}function zP(e,t){return t}var gi=function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||zP},rp=null;function VD(e,t,n){var r=Bv(t);return null===r?null:function YP(e,t,n){for(var r={type:"file"},o=n.length,u=0;u<o;u++){var l=n[u];r[l.local]=l.xform(r,t[l.server])}return function KP(e,t){Object.defineProperty(e,"ref",{get:function n(){var u=new $o(e.bucket,e.fullPath);return t.makeStorageReference(u)}})}(r,e),r}(e,r,n)}function Hv(e,t){for(var n={},r=t.length,o=0;o<r;o++){var u=t[o];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}function XP(e){if(!Hf(e)||!e)throw"Expected Metadata object.";for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("customMetadata"===t){if(!Hf(n))throw"Expected object for 'customMetadata' mapping."}else if(kP(n))throw"Mapping for '"+t+"' cannot be an object."}}var ip="maxResults",Gv="pageToken",UD="prefixes";function nF(e){if(!Hf(e)||!e)throw"Expected ListOptions object.";for(var t in e)if(t===ip){if(!VP(e[ip])||e[ip]<=0)throw"Expected maxResults to be a positive number.";if(e[ip]>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if(t!==Gv)throw"Unknown option: "+t;if(e[Gv]&&!fl(e[Gv]))throw"Expected pageToken to be string."}}var oa=function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Es(e){if(!e)throw kv()}function op(e,t){return function n(r,o){var u=VD(e,o,t);return Es(null!==u),u}}function hl(e){return function t(n,r){var o;return o=401===n.getStatus()?function EP(){return new _r("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function bP(e){return new _r("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(e.bucket):403===n.getStatus()?function DP(e){return new _r("unauthorized","User does not have permission to access '"+e+"'.")}(e.path):r,o.setServerResponseProp(r.serverResponseProp()),o}}function sp(e){var t=hl(e);return function n(r,o){var u=t(r,o);return 404===r.getStatus()&&(u=function wP(e){return new _r("object-not-found","Object '"+e+"' does not exist.")}(e.path)),u.setServerResponseProp(o.serverResponseProp()),u}}function BD(e,t,n){var o=Ka(t.fullServerUrl()),l=e.maxOperationRetryTime,h=new oa(o,"GET",op(e,n),l);return h.errorHandler=sp(t),h}function oF(e,t,n,r,o){var u={};u.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(u.delimiter=n),r&&(u.pageToken=r),o&&(u.maxResults=o);var h=Ka(t.bucketOnlyServerUrl()),v=e.maxOperationRetryTime,w=new oa(h,"GET",function rF(e,t){return function n(r,o){var u=function tF(e,t,n){var r=Bv(n);return null===r?null:function eF(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[UD])for(var o=0,u=n[UD];o<u.length;o++){var h=u[o].replace(/\/$/,""),g=e.makeStorageReference(new $o(t,h));r.prefixes.push(g)}if(n.items)for(var v=0,w=n.items;v<w.length;v++)g=e.makeStorageReference(new $o(t,w[v].name)),r.items.push(g);return r}(e,t,r)}(e,t,o);return Es(null!==u),u}}(e,t.bucket),v);return w.urlParams=u,w.errorHandler=hl(t),w}function sF(e,t,n){var o=Ka(t.fullServerUrl()),l=e.maxOperationRetryTime,h=new oa(o,"GET",function iF(e,t){return function n(r,o){var u=VD(e,o,t);return Es(null!==u),function ZP(e,t){var n=Bv(t);if(null===n||!fl(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map(function(h){var v=e.fullPath;return Ka("/b/"+o(e.bucket)+"/o/"+o(v))+LD({alt:"media",token:h})})[0]}(u,o)}}(e,n),l);return h.errorHandler=sp(t),h}function aF(e,t,n,r){var u=Ka(t.fullServerUrl()),h=Hv(n,r),v=e.maxOperationRetryTime,w=new oa(u,"PATCH",op(e,r),v);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=h,w.errorHandler=sp(t),w}function uF(e,t){var r=Ka(t.fullServerUrl()),h=new oa(r,"DELETE",function l(g,v){},e.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=sp(t),h}function HD(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function cF(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var ap=function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null};function $v(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(o){Es(!1)}return Es(!!n&&-1!==(t||["active"]).indexOf(n)),n}var pF=function e(t,n,r){if(OD(t)||bs(n)||bs(r))this.next=t,this.error=n||null,this.complete=r||null;else{var u=t;this.next=u.next||null,this.error=u.error||null,this.complete=u.complete||null}},gF=function e(t,n,r,o,u,l){this.bytesTransferred=t,this.totalBytes=n,this.state=r,this.metadata=o,this.task=u,this.ref=l};function ur(e,t,n){for(var r=t.length,o=t.length,u=0;u<t.length;u++)if(t[u].optional){r=u;break}if(!(r<=n.length&&n.length<=o))throw function MP(e,t,n,r){var o,u;return e===t?(o=e,u=1===e?"argument":"arguments"):(o="between "+e+" and "+t,u="arguments"),new _r("invalid-argument-count","Invalid argument count in `"+n+"`: Expected "+o+" "+u+", received "+r+".")}(r,o,e,n.length);for(u=0;u<n.length;u++)try{t[u].validator(n[u])}catch(g){throw g instanceof Error?SD(u,e,g.message):SD(u,e,g)}}var qu=function e(t,n){var r=this;this.validator=function(o){r.optional&&!Wa(o)||t(o)},this.optional=!!n};function dl(e,t){function n(o){if(!fl(o))throw"Expected string."}var r;return r=e?function mF(e,t){return function(n){e(n),t(n)}}(n,e):n,new qu(r,t)}function vF(){return new qu(function e(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||np()&&t instanceof Blob))throw"Expected Blob or File."})}function qv(e){return new qu(XP,e)}function yF(e){return new qu(nF,e)}function $D(){return new qu(function e(t){if(!(PD(t)&&t>=0))throw"Expected a number 0 or greater."})}function zv(e,t){return new qu(function n(r){if(!(null===r||bs(r)&&r instanceof Object))throw"Expected an Object.";null!=e&&e(r)},t)}function Gf(e){return new qu(function t(n){if(null!==n&&!OD(n))throw"Expected a Function."},e)}function pl(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}var qD=function(){function e(t,n,r,o,u,l){var h=this;void 0===l&&(l=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=n,this.location_=r,this.blob_=u,this.metadata_=l,this.mappings_=o,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(g){h.request_=null,h.chunkMultiplier_=1,g.codeEquals("canceled")?(h.needToFetchStatus_=!0,h.completeTransitions_()):(h.error_=g,h.transition_("error"))},this.metadataErrorHandler_=function(g){h.request_=null,g.codeEquals("canceled")?h.completeTransitions_():(h.error_=g,h.transition_("error"))},this.promise_=new Promise(function(g,v){h.resolve_=g,h.reject_=v,h.start_()}),this.promise_.then(null,function(){})}return e.prototype.makeProgressCallback_=function(){var t=this,n=this.transferred_;return function(r){return t.updateProgress_(n+r)}},e.prototype.shouldDoResumable_=function(t){return t.size()>262144},e.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(t){var n=this;this.service_.getAuthToken().then(function(r){switch(n.state_){case"running":t(r);break;case"canceling":n.transition_("canceled");break;case"pausing":n.transition_("paused")}})},e.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(n){var r=function fF(e,t,n,r,o){var u=t.bucketOnlyServerUrl(),l=HD(t,r,o),h={name:l.fullPath},g=Ka(u),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},D=Hv(l,n),B=new oa(g,"POST",function O(ee){var ne;$v(ee);try{ne=ee.getResponseHeader("X-Goog-Upload-URL")}catch(ue){Es(!1)}return Es(fl(ne)),ne},e.maxUploadRetryTime);return B.urlParams=h,B.headers=w,B.body=D,B.errorHandler=hl(t),B}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),o=t.service_.makeRequest(r,n);t.request_=o,o.getPromise().then(function(u){t.request_=null,t.uploadUrl_=u,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},e.prototype.fetchStatus_=function(){var t=this,n=this.uploadUrl_;this.resolveToken_(function(r){var o=function hF(e,t,n,r){var g=new oa(n,"POST",function u(v){var w=$v(v,["active","final"]),D=null;try{D=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch(O){Es(!1)}D||Es(!1);var S=Number(D);return Es(!isNaN(S)),new ap(S,r.size(),"final"===w)},e.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=hl(t),g}(t.service_,t.location_,n,t.blob_),u=t.service_.makeRequest(o,r);t.request_=u,u.getPromise().then(function(l){l=l,t.request_=null,t.updateProgress_(l.current),t.needToFetchStatus_=!1,l.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},e.prototype.continueUpload_=function(){var t=this,n=262144*this.chunkMultiplier_,r=new ap(this.transferred_,this.blob_.size()),o=this.uploadUrl_;this.resolveToken_(function(u){var l;try{l=function dF(e,t,n,r,o,u,l,h){var g=new ap(0,0);if(l?(g.current=l.current,g.total=l.total):(g.current=0,g.total=r.size()),r.size()!==g.total)throw function SP(){return new _r("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var v=g.total-g.current,w=v;o>0&&(w=Math.min(w,o));var D=g.current,B={"X-Goog-Upload-Command":w===v?"upload, finalize":"upload","X-Goog-Upload-Offset":g.current},ee=r.slice(D,D+w);if(null===ee)throw AD();var pe=new oa(n,"POST",function ne(Oe,ht){var ec,wr=$v(Oe,["active","final"]),Ki=g.current+w,Yi=r.size();return ec="final"===wr?op(t,u)(Oe,ht):null,new ap(Ki,Yi,"final"===wr,ec)},t.maxUploadRetryTime);return pe.headers=B,pe.body=ee.uploadData(),pe.progressCallback=h||null,pe.errorHandler=hl(e),pe}(t.location_,t.service_,o,t.blob_,n,t.mappings_,r,t.makeProgressCallback_())}catch(g){return t.error_=g,void t.transition_("error")}var h=t.service_.makeRequest(l,u);t.request_=h,h.getPromise().then(function(g){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(g.current),g.finalized?(t.metadata_=g.metadata,t.transition_("success")):t.completeTransitions_()},t.errorHandler_)})},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(n){var r=BD(t.service_,t.location_,t.mappings_),o=t.service_.makeRequest(r,n);t.request_=o,o.getPromise().then(function(u){t.request_=null,t.metadata_=u,t.transition_("success")},t.metadataErrorHandler_)})},e.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(n){var r=function lF(e,t,n,r,o){var u=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},g=function h(){for(var pe="",Oe=0;Oe<2;Oe++)pe+=Math.random().toString().slice(2);return pe}();l["Content-Type"]="multipart/related; boundary="+g;var v=HD(t,r,o),w=Hv(v,n),O=jv.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+g+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+g+"--");if(null===O)throw AD();var B={name:v.fullPath},ee=Ka(u),ue=e.maxUploadRetryTime,J=new oa(ee,"POST",op(e,n),ue);return J.urlParams=B,J.headers=l,J.body=O.uploadData(),J.errorHandler=hl(t),J}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),o=t.service_.makeRequest(r,n);t.request_=o,o.getPromise().then(function(u){t.request_=null,t.metadata_=u,t.updateProgress_(t.blob_.size()),t.transition_("success")},t.errorHandler_)})},e.prototype.updateProgress_=function(t){var n=this.transferred_;this.transferred_=t,this.transferred_!==n&&this.notifyObservers_()},e.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var n="paused"===this.state_;this.state_=t,n&&(this.notifyObservers_(),this.start_());break;case"paused":case"error":case"success":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=ID(),this.state_=t,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Uv(this.state_);return new gF(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){function u(){if(t!==Vv.STATE_CHANGED)throw"Expected one of the event types: ["+Vv.STATE_CHANGED+"]."}var l="Expected a function or an Object with one of `next`, `error`, `complete` properties.",h=Gf(!0).validator,g=zv(null,!0).validator;function v(ne){try{return void h(ne)}catch(J){}try{if(g(ne),!(Wa(ne.next)||Wa(ne.error)||Wa(ne.complete)))throw"";return}catch(J){throw l}}var w=[dl(u),zv(v,!0),Gf(!0),Gf(!0)];ur("on",w,arguments);var D=this;function S(ne){return function ue(J,pe,Oe){null!==ne&&ur("on",ne,arguments);var ht=new pF(J,pe,o);return D.addObserver_(ht),function(){D.removeObserver_(ht)}}}function O(ne){if(null===ne)throw l;v(ne)}var B=[zv(O),Gf(!0),Gf(!0)],ee=!(Wa(n)||Wa(r)||Wa(o));return ee?S(B):S(null)(n,r,o)},e.prototype.then=function(t,n){return this.promise_.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},e.prototype.removeObserver_=function(t){var n=this.observers_.indexOf(t);-1!==n&&this.observers_.splice(n,1)},e.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach(function(r){t.notifyObserver_(r)})},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Uv(this.state_)){case pi.SUCCESS:pl(this.resolve_.bind(null,this.snapshot))();break;case pi.CANCELED:case pi.ERROR:pl(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(t){switch(Uv(this.state_)){case pi.RUNNING:case pi.PAUSED:t.next&&pl(t.next.bind(t,this.snapshot))();break;case pi.SUCCESS:t.complete&&pl(t.complete.bind(t))();break;default:t.error&&pl(t.error.bind(t,this.error_))()}},e.prototype.resume=function(){ur("resume",[],arguments);var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},e.prototype.pause=function(){ur("pause",[],arguments);var t="running"===this.state_;return t&&this.transition_("pausing"),t},e.prototype.cancel=function(){ur("cancel",[],arguments);var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},e}(),up=function(){function e(t,n){this.service=t,this.location=n instanceof $o?n:$o.makeFromUrl(n)}return e.prototype.toString=function(){return ur("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return function QP(){if(rp)return rp;var e=[];e.push(new gi("bucket")),e.push(new gi("generation")),e.push(new gi("metageneration")),e.push(new gi("name","fullPath",!0));var n=new gi("name");n.xform=function t(u,l){return function WP(e){return!fl(e)||e.length<2?e:kD(e)}(l)},e.push(n);var o=new gi("size");return o.xform=function r(u,l){return bs(l)?Number(l):l},e.push(o),e.push(new gi("timeCreated")),e.push(new gi("updated")),e.push(new gi("md5Hash",null,!0)),e.push(new gi("cacheControl",null,!0)),e.push(new gi("contentDisposition",null,!0)),e.push(new gi("contentEncoding",null,!0)),e.push(new gi("contentLanguage",null,!0)),e.push(new gi("contentType",null,!0)),e.push(new gi("metadata","customMetadata",!0)),rp=e}()},e.prototype.child=function(t){ur("child",[dl()],arguments);var n=qP(this.location.path,t),r=new $o(this.location.bucket,n);return this.newRef(this.service,r)},Object.defineProperty(e.prototype,"parent",{get:function(){var t=function $P(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===t)return null;var n=new $o(this.location.bucket,t);return this.newRef(this.service,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var t=new $o(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return kD(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return void 0===n&&(n=null),ur("put",[vF(),qv(!0)],arguments),this.throwIfRoot_("put"),new qD(this,this.service,this.location,this.mappings(),new jv(t),n)},e.prototype.putString=function(t,n,r){void 0===n&&(n=er.RAW),ur("putString",[dl(),dl(NP,!0),qv(!0)],arguments),this.throwIfRoot_("putString");var o=MD(n,t),u=Object.assign({},r);return!bs(u.contentType)&&bs(o.contentType)&&(u.contentType=o.contentType),new qD(this,this.service,this.location,this.mappings(),new jv(o.data,!0),u)},e.prototype.delete=function(){var t=this;return ur("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(n){var r=uF(t.service,t.location);return t.service.makeRequest(r,n).getPromise()})},e.prototype.listAll=function(){ur("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then(function(){return t})},e.prototype.listAllHelper=function(t,n){return _D(this,void 0,void 0,function(){var o,u,l;return wD(this,function(h){switch(h.label){case 0:return[4,this.list({pageToken:n})];case 1:return o=h.sent(),(u=t.prefixes).push.apply(u,o.prefixes),(l=t.items).push.apply(l,o.items),null==o.nextPageToken?[3,3]:[4,this.listAllHelper(t,o.nextPageToken)];case 2:h.sent(),h.label=3;case 3:return[2]}})})},e.prototype.list=function(t){ur("list",[yF(!0)],arguments);var n=this;return this.service.getAuthToken().then(function(r){var o=t||{},u=oF(n.service,n.location,"/",o.pageToken,o.maxResults);return n.service.makeRequest(u,r).getPromise()})},e.prototype.getMetadata=function(){var t=this;return ur("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(n){var r=BD(t.service,t.location,t.mappings());return t.service.makeRequest(r,n).getPromise()})},e.prototype.updateMetadata=function(t){var n=this;return ur("updateMetadata",[qv()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(r){var o=aF(n.service,n.location,t,n.mappings());return n.service.makeRequest(o,r).getPromise()})},e.prototype.getDownloadURL=function(){var t=this;return ur("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(n){var r=sF(t.service,t.location,t.mappings());return t.service.makeRequest(r,n).getPromise().then(function(o){if(null===o)throw TP();return o})})},e.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function xP(e){return new _r("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},e}(),_F=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}(),EF=function(){function e(t,n,r,o,u,l,h,g,v,w,D){var S=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u.slice(),this.additionalRetryCodes_=l.slice(),this.callback_=h,this.errorCallback_=g,this.progressCallback_=w,this.timeout_=v,this.pool_=D,this.promise_=new Promise(function(O,B){S.resolve_=O,S.reject_=B,S.start_()})}return e.prototype.start_=function(){var t=this;function r(o,u){var l=t.resolve_,h=t.reject_,g=u.xhr;if(u.wasSuccessCode)try{var v=t.callback_(g,g.getResponseText());Wa(v)?l(v):l()}catch(D){h(D)}else if(null!==g)(w=kv()).setServerResponseProp(g.getResponseText()),h(t.errorCallback_?t.errorCallback_(g,w):w);else if(u.canceled)h(w=t.appDelete_?TD():ID());else{var w;h(w=function CP(){return new _r("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?r(0,new cp(!1,null,!0)):this.backoffId_=function wF(e,t,n){var r=1,o=null,u=!1,l=0;function h(){return 2===l}var g=!1;function v(){for(var B=[],ee=0;ee<arguments.length;ee++)B[ee]=arguments[ee];g||(g=!0,t.apply(null,B))}function w(B){o=setTimeout(function(){o=null,e(D,h())},B)}function D(B){for(var ee=[],ne=1;ne<arguments.length;ne++)ee[ne-1]=arguments[ne];if(!g){if(B)return void v.call.apply(v,ED([null,B],ee));var J;if(h()||u)return void v.call.apply(v,ED([null,B],ee));r<64&&(r*=2),1===l?(l=2,J=0):J=1e3*(r+Math.random()),w(J)}}var S=!1;function O(B){S||(S=!0,!g&&(null!==o?(B||(l=2),clearTimeout(o),w(0)):B||(l=1)))}return w(0),setTimeout(function(){u=!0,O(!0)},n),O}(function n(o,u){if(u)o(!1,new cp(!1,null,!0));else{var l=t.pool_.createXhrIo();t.pendingXhr_=l,null!==t.progressCallback_&&l.addUploadProgressListener(h),l.send(t.url_,t.method_,t.body_,t.headers_).then(function(g){null!==t.progressCallback_&&g.removeUploadProgressListener(h),t.pendingXhr_=null;var v=(g=g).getErrorCode()===Qa.NO_ERROR,w=g.getStatus();if(v&&!t.isRetryStatusCode_(w)){var S=-1!==t.successCodes_.indexOf(w);o(!0,new cp(S,g))}else{var D=g.getErrorCode()===Qa.ABORT;o(!1,new cp(!1,null,D))}})}function h(g){null!==t.progressCallback_&&t.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)}},r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function bF(e){e(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,o=-1!==[408,429].indexOf(t),u=-1!==this.additionalRetryCodes_.indexOf(t);return n||o||u},e}(),cp=function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r};var zD=function(){function e(t,n,r,o){var u;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=t,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=o?$o.makeFromBucketSpec(o):e.extractBucket_(null===(u=this.app_)||void 0===u?void 0:u.options),this.internals_=new SF(this)}return e.extractBucket_=function(t){var n=null==t?void 0:t.storageBucket;return null==n?null:$o.makeFromBucketSpec(n)},e.prototype.getAuthToken=function(){return _D(this,void 0,void 0,function(){var t,n;return wD(this,function(r){switch(r.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(n=r.sent()))return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(t){return t.cancel()}),this.requests_.clear()},e.prototype.makeStorageReference=function(t){return new up(this,t)},e.prototype.makeRequest=function(t,n){var r=this;if(this.deleted_)return new _F(TD());var o=function AF(e,t,n,r){var o=LD(e.urlParams),u=e.url+o,l=Object.assign({},e.headers);return function IF(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function DF(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function CF(e){e["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Pv.default?Pv.default.SDK_VERSION:"AppManager")}(l),new EF(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}(t,this.appId_,n,this.pool_);return this.requests_.add(o),o.getPromise().then(function(){return r.requests_.delete(o)},function(){return r.requests_.delete(o)}),o},e.prototype.ref=function(t){function n(o){if("string"!=typeof o)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(o))throw"Expected child path but got a URL, use refFromURL instead."}if(ur("ref",[dl(n,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var r=new up(this,this.bucket_);return null!=t?r.child(t):r},e.prototype.refFromURL=function(t){function n(r){if("string"!=typeof r)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(r))throw"Expected full URL but got a child path, use ref instead.";try{$o.makeFromUrl(r)}catch(o){throw"Expected valid full URL but got an invalid one."}}return ur("refFromURL",[dl(n,!1)],arguments),new up(this,t)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(t){ur("setMaxUploadRetryTime",[$D()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),e.prototype.setMaxOperationRetryTime=function(t){ur("setMaxOperationRetryTime",[$D()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),e}(),SF=function(){function e(t){this.service_=t}return e.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},e}();function NF(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return new zD(n,r,new jP,t)}function Wv(e){var t={TaskState:pi,TaskEvent:Vv,StringFormat:er,Storage:zD,Reference:up};e.INTERNAL.registerComponent(new mP.Component("storage",NF,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.3.43")}function WD(e){const t=function RF(e){return new ve(t=>{const n=u=>t.next(u);return e.on("state_changed",n,u=>t.error(u),()=>{n(e.snapshot),t.complete()}),()=>e.cancel()})}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(ke(n=>n.bytesTransferred/n.totalBytes*100))}}function Qv(e,t,n){return{getDownloadURL:()=>Xe(void 0).pipe(Kr(t.outsideAngular),qr(()=>e.getDownloadURL()),n),getMetadata:()=>Xe(void 0).pipe(Kr(t.outsideAngular),qr(()=>e.getMetadata()),n),delete:()=>vt(e.delete()),child:r=>Qv(e.child(r),t,n),updateMetadata:r=>vt(e.updateMetadata(r)),put:(r,o)=>WD(e.put(r,o)),putString:(r,o,u)=>WD(e.putString(r,o,u)),listAll:()=>vt(e.listAll())}}Wv(Pv.default);const QD=new ot("angularfire2.storageBucket");let Kv=(()=>{class e{constructor(n,r,o,u,l){this.schedulers=new xv(l),this.keepUnstableUntilFirst=Nv(this.schedulers),this.storage=l.runOutsideAngular(()=>{const h=Yd(n,l,r);return Wv&&Wv(cl()),h.storage(o||void 0)})}ref(n){return Qv(this.storage.ref(n),this.schedulers,this.keepUnstableUntilFirst)}upload(n,r,o){return Qv(this.storage.ref(n),this.schedulers,this.keepUnstableUntilFirst).put(r,o)}}return e.\u0275fac=function(n){return new(n||e)(fe($a),fe(qa,8),fe(QD,8),fe(_s),fe(un))},e.\u0275prov=Je({factory:function(){return new e(fe($a),fe(qa,8),fe(QD,8),fe(_s),fe(un))},token:e,providedIn:"any"}),e})(),OF=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Lt({type:e}),e.\u0275inj=Kt({providers:[Kv]}),e})();class qo extends be{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const{isArray:PF}=Array,{getPrototypeOf:FF,prototype:kF,keys:LF}=Object;function KD(e){if(1===e.length){const t=e[0];if(PF(t))return{args:t,keys:null};if(function VF(e){return e&&"object"==typeof e&&FF(e)===kF}(t)){const n=LF(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:UF}=Array;function YD(e){return ke(t=>function jF(e,t){return UF(t)?e(...t):e(t)}(e,t))}function ZD(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function XD(e,t,n){e?Pi(n,e,t):t()}function Yv(...e){return function GF(){return bo(1)}()(vt(e,Xi(e)))}function JD(e){return new ve(t=>{Mr(e()).subscribe(t)})}function eC(){return Gt((e,t)=>{let n=null;e._refCount++;const r=mt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,u=n;n=null,o&&(!u||o===u)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class $F extends ve{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ht(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new se;const n=this.getSubject();t.add(this.source.subscribe(mt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=se.EMPTY)}return t}refCount(){return eC()(this)}}function Ya(e){return Gt((t,n)=>{let u,r=null,o=!1;r=t.subscribe(mt(n,void 0,void 0,l=>{u=Mr(e(l,Ya(e)(t))),r?(r.unsubscribe(),r=null,u.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(n))})}function $f(e,t){return N(t)?yn(e,t,1):yn(e,1)}function Zv(e){return e<=0?()=>lr:Gt((t,n)=>{let r=[];t.subscribe(mt(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}class sa{constructor(t,n){this.id=t,this.url=n}}class lp extends sa{constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gl extends sa{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tC extends sa{constructor(t,n,r){super(t,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class QF extends sa{constructor(t,n,r){super(t,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KF extends sa{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YF extends sa{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZF extends sa{constructor(t,n,r,o,u){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XF extends sa{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JF extends sa{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nC{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rC{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ek{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tk{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nk{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rk{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iC{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const It="primary";class ik{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ml(e){return new ik(e)}const oC="ngNavigationCancelingError";function Xv(e){const t=Error("NavigationCancelingError: "+e);return t[oC]=!0,t}function sk(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],h=e[u];if(l.startsWith(":"))o[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Ds(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let u=0;u<n.length;u++)if(o=n[u],!sC(e[o],t[o]))return!1;return!0}function sC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,u)=>r[u]===o)}return e===t}function aC(e){return Array.prototype.concat.apply([],e)}function uC(e){return e.length>0?e[e.length-1]:null}function Sr(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Cs(e){return bm(e)?e:wf(e)?vt(Promise.resolve(e)):Xe(e)}const ck={exact:function fC(e,t,n){if(!Wu(e.segments,t.segments)||!fp(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!fC(e.children[r],t.children[r],n))return!1;return!0},subset:hC},cC={exact:function lk(e,t){return Ds(e,t)},subset:function fk(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>sC(e[n],t[n]))},ignored:()=>!0};function lC(e,t,n){return ck[n.paths](e.root,t.root,n.matrixParams)&&cC[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function hC(e,t,n){return dC(e,t,t.segments,n)}function dC(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!Wu(o,n)||t.hasChildren()||!fp(o,n,r))}if(e.segments.length===n.length){if(!Wu(e.segments,n)||!fp(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!hC(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),u=n.slice(e.segments.length);return!!(Wu(e.segments,o)&&fp(e.segments,o,r)&&e.children[It])&&dC(e.children[It],t,u,r)}}function fp(e,t,n){return t.every((r,o)=>cC[n](e[o].parameters,r.parameters))}class zu{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ml(this.queryParams)),this._queryParamMap}toString(){return pk.serialize(this)}}class Ft{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Sr(n,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hp(this)}}class qf{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ml(this.parameters)),this._parameterMap}toString(){return yC(this)}}function Wu(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}class pC{}class gC{parse(t){const n=new Dk(t);return new zu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${zf(t.root,!0)}`,r=function vk(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(o=>`${dp(n)}=${dp(o)}`).join("&"):`${dp(n)}=${dp(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function gk(e){return encodeURI(e)}(t.fragment)}`:""}`}}const pk=new gC;function hp(e){return e.segments.map(t=>yC(t)).join("/")}function zf(e,t){if(!e.hasChildren())return hp(e);if(t){const n=e.children[It]?zf(e.children[It],!1):"",r=[];return Sr(e.children,(o,u)=>{u!==It&&r.push(`${u}:${zf(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function dk(e,t){let n=[];return Sr(e.children,(r,o)=>{o===It&&(n=n.concat(t(r,o)))}),Sr(e.children,(r,o)=>{o!==It&&(n=n.concat(t(r,o)))}),n}(e,(r,o)=>o===It?[zf(e.children[It],!1)]:[`${o}:${zf(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[It]?`${hp(e)}/${n[0]}`:`${hp(e)}/(${n.join("//")})`}}function mC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dp(e){return mC(e).replace(/%3B/gi,";")}function Jv(e){return mC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pp(e){return decodeURIComponent(e)}function vC(e){return pp(e.replace(/\+/g,"%20"))}function yC(e){return`${Jv(e.path)}${function mk(e){return Object.keys(e).map(t=>`;${Jv(t)}=${Jv(e[t])}`).join("")}(e.parameters)}`}const yk=/^[^\/()?;=#]+/;function gp(e){const t=e.match(yk);return t?t[0]:""}const _k=/^[^=?&#]+/,bk=/^[^&#]+/;class Dk{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[It]=new Ft(t,n)),r}parseSegment(){const t=gp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new qf(pp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=gp(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=gp(this.remaining);o&&(r=o,this.capture(r))}t[pp(n)]=pp(r)}parseQueryParam(t){const n=function wk(e){const t=e.match(_k);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const l=function Ek(e){const t=e.match(bk);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=vC(n),u=vC(r);if(t.hasOwnProperty(o)){let l=t[o];Array.isArray(l)||(l=[l],t[o]=l),l.push(u)}else t[o]=u}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gp(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=It);const l=this.parseChildren();n[u]=1===Object.keys(l).length?l[It]:new Ft([],l),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class _C{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=ey(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=ey(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=ty(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return ty(t,this._root).map(n=>n.value)}}function ey(e,t){if(e===t.value)return t;for(const n of t.children){const r=ey(e,n);if(r)return r}return null}function ty(e,t){if(e===t.value)return[t];for(const n of t.children){const r=ty(e,n);if(r.length)return r.unshift(t),r}return[]}class aa{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function vl(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class wC extends _C{constructor(t,n){super(t),this.snapshot=n,ny(this,t)}toString(){return this.snapshot.toString()}}function bC(e,t){const n=function Ck(e,t){const l=new mp([],{},{},"",{},It,t,null,e.root,-1,{});return new DC("",new aa(l,[]))}(e,t),r=new qo([new qf("",{})]),o=new qo({}),u=new qo({}),l=new qo({}),h=new qo(""),g=new yl(r,o,l,h,u,It,t,n.root);return g.snapshot=n.root,new wC(new aa(g,[]),n)}class yl{constructor(t,n,r,o,u,l,h,g){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=h,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ke(t=>ml(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ke(t=>ml(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function EC(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const o=n[r],u=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Ik(e){return e.reduce((t,n)=>({params:Object.assign(Object.assign({},t.params),n.params),data:Object.assign(Object.assign({},t.data),n.data),resolve:Object.assign(Object.assign({},t.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class mp{constructor(t,n,r,o,u,l,h,g,v,w,D){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=h,this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=w,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ml(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ml(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DC extends _C{constructor(t,n){super(n),this.url=t,ny(this,n)}toString(){return CC(this._root)}}function ny(e,t){t.value._routerState=e,t.children.forEach(n=>ny(e,n))}function CC(e){const t=e.children.length>0?` { ${e.children.map(CC).join(", ")} } `:"";return`${e.value}${t}`}function ry(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ds(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Ds(t.params,n.params)||e.params.next(n.params),function ak(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ds(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Ds(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function iy(e,t){const n=Ds(e.params,t.params)&&function hk(e,t){return Wu(e,t)&&e.every((n,r)=>Ds(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||iy(e.parent,t.parent))}function Wf(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function Sk(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Wf(e,r,o);return Wf(e,r)})}(e,t,n);return new aa(r,o)}{if(e.shouldAttach(t.value)){const u=e.retrieve(t.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(h=>Wf(e,h)),l}}const r=function Tk(e){return new yl(new qo(e.url),new qo(e.params),new qo(e.queryParams),new qo(e.fragment),new qo(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(u=>Wf(e,u));return new aa(r,o)}}function vp(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Qf(e){return"object"==typeof e&&null!=e&&e.outlets}function oy(e,t,n,r,o){let u={};return r&&Sr(r,(l,h)=>{u[h]=Array.isArray(l)?l.map(g=>`${g}`):`${l}`}),new zu(n.root===e?t:IC(n.root,e,t),u,o)}function IC(e,t,n){const r={};return Sr(e.children,(o,u)=>{r[u]=o===t?n:IC(o,t,n)}),new Ft(e.segments,r)}class AC{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&vp(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Qf);if(o&&o!==uC(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sy{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function SC(e,t,n){if(e||(e=new Ft([],{})),0===e.segments.length&&e.hasChildren())return yp(e,t,n);const r=function Pk(e,t,n){let r=0,o=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return u;const l=e.segments[o],h=n[r];if(Qf(h))break;const g=`${h}`,v=r<n.length-1?n[r+1]:null;if(o>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!MC(g,v,l))return u;r+=2}else{if(!MC(g,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const u=new Ft(e.segments.slice(0,r.pathIndex),{});return u.children[It]=new Ft(e.segments.slice(r.pathIndex),e.children),yp(u,0,o)}return r.match&&0===o.length?new Ft(e.segments,{}):r.match&&!e.hasChildren()?ay(e,t,n):r.match?yp(e,0,o):ay(e,t,n)}function yp(e,t,n){if(0===n.length)return new Ft(e.segments,{});{const r=function Ok(e){return Qf(e[0])?e[0].outlets:{[It]:e}}(n),o={};return Sr(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[l]=SC(e.children[l],t,u))}),Sr(e.children,(u,l)=>{void 0===r[l]&&(o[l]=u)}),new Ft(e.segments,o)}}function ay(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const u=n[o];if(Qf(u)){const g=Fk(u.outlets);return new Ft(r,g)}if(0===o&&vp(n[0])){r.push(new qf(e.segments[t].path,TC(n[0]))),o++;continue}const l=Qf(u)?u.outlets[It]:`${u}`,h=o<n.length-1?n[o+1]:null;l&&h&&vp(h)?(r.push(new qf(l,TC(h))),o+=2):(r.push(new qf(l,{})),o++)}return new Ft(r,{})}function Fk(e){const t={};return Sr(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=ay(new Ft([],{}),0,n))}),t}function TC(e){const t={};return Sr(e,(n,r)=>t[r]=`${n}`),t}function MC(e,t,n){return e==n.path&&Ds(t,n.parameters)}class Lk{constructor(t,n,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),ry(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=vl(n);t.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Sr(o,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(t,n,r){const o=t.value,u=n?n.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(t,n,l.children)}else this.deactivateChildRoutes(t,n,r);else u&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,u=vl(t);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:h})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,u=vl(t);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const o=vl(n);t.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new rk(u.value.snapshot))}),t.children.length&&this.forwardEvent(new tk(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,u=n?n.value:null;if(ry(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,l.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const h=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),ry(h.route.value),this.activateChildRoutes(t,null,l.children)}else{const h=function Vk(e){for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(o.snapshot),g=h?h.module.componentFactoryResolver:null;l.attachRef=null,l.route=o,l.resolver=g,l.outlet&&l.outlet.activateWith(o,g),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}class uy{constructor(t,n){this.routes=t,this.module=n}}function Za(e){return"function"==typeof e}function Qu(e){return e instanceof zu}const Kf=Symbol("INITIAL_VALUE");function Yf(){return qr(e=>function BF(...e){const t=Xi(e),n=Ko(e),{args:r,keys:o}=KD(e);if(0===r.length)return vt([],t);const u=new ve(function HF(e,t,n=M){return r=>{XD(t,()=>{const{length:o}=e,u=new Array(o);let l=o,h=o;for(let g=0;g<o;g++)XD(t,()=>{const v=vt(e[g],t);let w=!1;v.subscribe(mt(r,D=>{u[g]=D,w||(w=!0,h--),h||r.next(n(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,t,o?l=>ZD(o,l):M));return n?u.pipe(YD(n)):u}(e.map(t=>t.pipe(Zo(1),function qF(...e){const t=Xi(e);return Gt((n,r)=>{(t?Yv(e,n,t):Yv(e,n)).subscribe(r)})}(Kf)))).pipe(jf((t,n)=>{let r=!1;return n.reduce((o,u,l)=>o!==Kf?o:(u===Kf&&(r=!0),r||!1!==u&&l!==n.length-1&&!Qu(u)?o:u),t)},Kf),za(t=>t!==Kf),ke(t=>Qu(t)?t:!0===t),Zo(1)))}class $k{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zf,this.attachRef=null}}class Zf{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new $k,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}let cy=(()=>{class e{constructor(n,r,o,u,l){this.parentContexts=n,this.location=r,this.resolver=o,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new Nn,this.deactivateEvents=new Nn,this.attachEvents=new Nn,this.detachEvents=new Nn,this.name=u||It,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const l=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,g=new qk(n,h,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(oe(Zf),oe(jo),oe(tl),Bs("name"),oe(Md))},e.\u0275dir=Be({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class qk{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===yl?this.route:t===Zf?this.childContexts:this.parent.get(t,n)}}let xC=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=wn({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Yn(0,"router-outlet")},directives:[cy],encapsulation:2}),e})();function NC(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];zk(r,Wk(t,r))}}function zk(e,t){e.children&&NC(e.children,t)}function Wk(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function ly(e){const t=e.children&&e.children.map(ly),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==It&&(n.component=xC),n}function yo(e){return e.outlet||It}function RC(e,t){const n=e.filter(r=>yo(r)===t);return n.push(...e.filter(r=>yo(r)!==t)),n}const OC={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function _p(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},OC):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(t.matcher||sk)(n,e,t);if(!u)return Object.assign({},OC);const l={};Sr(u.posParams,(g,v)=>{l[v]=g.path});const h=u.consumed.length>0?Object.assign(Object.assign({},l),u.consumed[u.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:h,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function wp(e,t,n,r,o="corrected"){if(n.length>0&&function Yk(e,t,n){return n.some(r=>bp(e,t,r)&&yo(r)!==It)}(e,n,r)){const l=new Ft(t,function Kk(e,t,n,r){const o={};o[It]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const u of n)if(""===u.path&&yo(u)!==It){const l=new Ft([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,o[yo(u)]=l}return o}(e,t,r,new Ft(n,e.children)));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===n.length&&function Zk(e,t,n){return n.some(r=>bp(e,t,r))}(e,n,r)){const l=new Ft(e.segments,function Qk(e,t,n,r,o,u){const l={};for(const h of r)if(bp(e,n,h)&&!o[yo(h)]){const g=new Ft([],{});g._sourceSegment=e,g._segmentIndexShift="legacy"===u?e.segments.length:t.length,l[yo(h)]=g}return Object.assign(Object.assign({},o),l)}(e,t,n,r,e.children,o));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}const u=new Ft(e.segments,e.children);return u._sourceSegment=e,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:n}}function bp(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function PC(e,t,n,r){return!!(yo(e)===r||r!==It&&bp(t,n,e))&&("**"===e.path||_p(t,e,n).matched)}function FC(e,t,n){return 0===t.length&&!e.children[n]}class Xf{constructor(t){this.segmentGroup=t||null}}class kC{constructor(t){this.urlTree=t}}function Ep(e){return new ve(t=>t.error(new Xf(e)))}function LC(e){return new ve(t=>t.error(new kC(e)))}function Xk(e){return new ve(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class tL{constructor(t,n,r,o,u){this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=t.get(ta)}apply(){const t=wp(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ft(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,It).pipe(ke(u=>this.createUrlTree(fy(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ya(u=>{if(u instanceof kC)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Xf?this.noMatchError(u):u}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,It).pipe(ke(o=>this.createUrlTree(fy(o),t.queryParams,t.fragment))).pipe(Ya(o=>{throw o instanceof Xf?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,r){const o=t.segments.length>0?new Ft([],{[It]:t}):t;return new zu(o,n,r)}expandSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(ke(u=>new Ft([],u))):this.expandSegment(t,r,n,r.segments,o,!0)}expandChildren(t,n,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return vt(o).pipe($f(u=>{const l=r.children[u],h=RC(n,u);return this.expandSegmentGroup(t,h,l,u).pipe(ke(g=>({segment:g,outlet:u})))}),jf((u,l)=>(u[l.outlet]=l.segment,u),{}),function zF(e,t){const n=arguments.length>=2;return r=>r.pipe(e?za((o,u)=>e(o,u,r)):M,Zv(1),n?mD(t):vD(()=>new Jd))}())}expandSegment(t,n,r,o,u,l){return vt(r).pipe($f(h=>this.expandSegmentAgainstRoute(t,n,r,h,o,u,l).pipe(Ya(v=>{if(v instanceof Xf)return Xe(null);throw v}))),$u(h=>!!h),Ya((h,g)=>{if(h instanceof Jd||"EmptyError"===h.name){if(FC(n,o,u))return Xe(new Ft([],{}));throw new Xf(n)}throw h}))}expandSegmentAgainstRoute(t,n,r,o,u,l,h){return PC(o,n,u,l)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,n,o,u,l):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,o,u,l):Ep(n):Ep(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?LC(u):this.lineralizeSegments(r,u).pipe(yn(l=>{const h=new Ft(l,{});return this.expandSegment(t,h,n,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,u,l){const{matched:h,consumedSegments:g,lastChild:v,positionalParamSegments:w}=_p(n,o,u);if(!h)return Ep(n);const D=this.applyRedirectCommands(g,o.redirectTo,w);return o.redirectTo.startsWith("/")?LC(D):this.lineralizeSegments(o,D).pipe(yn(S=>this.expandSegment(t,n,r,S.concat(u.slice(v)),l,!1)))}matchSegmentAgainstRoute(t,n,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Xe(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(ke(S=>(r._loadedConfig=S,new Ft(o,{})))):Xe(new Ft(o,{}));const{matched:l,consumedSegments:h,lastChild:g}=_p(n,r,o);if(!l)return Ep(n);const v=o.slice(g);return this.getChildConfig(t,r,o).pipe(yn(D=>{const S=D.module,O=D.routes,{segmentGroup:B,slicedSegments:ee}=wp(n,h,v,O),ne=new Ft(B.segments,B.children);if(0===ee.length&&ne.hasChildren())return this.expandChildren(S,O,ne).pipe(ke(Oe=>new Ft(h,Oe)));if(0===O.length&&0===ee.length)return Xe(new Ft(h,{}));const ue=yo(r)===u;return this.expandSegment(S,ne,O,ee,ue?It:u,!0).pipe(ke(pe=>new Ft(h.concat(pe.segments),pe.children)))}))}getChildConfig(t,n,r){return n.children?Xe(new uy(n.children,t)):n.loadChildren?void 0!==n._loadedConfig?Xe(n._loadedConfig):this.runCanLoadGuards(t.injector,n,r).pipe(yn(o=>o?this.configLoader.load(t.injector,n).pipe(ke(u=>(n._loadedConfig=u,u))):function Jk(e){return new ve(t=>t.error(Xv(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(n))):Xe(new uy([],t))}runCanLoadGuards(t,n,r){const o=n.canLoad;return o&&0!==o.length?Xe(o.map(l=>{const h=t.get(l);let g;if(function jk(e){return e&&Za(e.canLoad)}(h))g=h.canLoad(n,r);else{if(!Za(h))throw new Error("Invalid CanLoad guard");g=h(n,r)}return Cs(g)})).pipe(Yf(),xi(l=>{if(!Qu(l))return;const h=Xv(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw h.url=l,h}),ke(l=>!0===l)):Xe(!0)}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Xe(r);if(o.numberOfChildren>1||!o.children[It])return Xk(t.redirectTo);o=o.children[It]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreatreUrlTree(t,n,r,o){const u=this.createSegmentGroup(t,n.root,r,o);return new zu(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Sr(t,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const h=o.substring(1);r[u]=n[h]}else r[u]=o}),r}createSegmentGroup(t,n,r,o){const u=this.createSegments(t,n.segments,r,o);let l={};return Sr(n.children,(h,g)=>{l[g]=this.createSegmentGroup(t,h,r,o)}),new Ft(u,l)}createSegments(t,n,r,o){return n.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,o):this.findOrReturn(u,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}function fy(e){const t={};for(const r of Object.keys(e.children)){const u=fy(e.children[r]);(u.segments.length>0||u.hasChildren())&&(t[r]=u)}return function nL(e){if(1===e.numberOfChildren&&e.children[It]){const t=e.children[It];return new Ft(e.segments.concat(t.segments),t.children)}return e}(new Ft(e.segments,t))}class VC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Dp{constructor(t,n){this.component=t,this.route=n}}function iL(e,t,n){const r=e._root;return Jf(r,t?t._root:null,n,[r.value])}function Cp(e,t,n){const r=function sL(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Jf(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=vl(t);return e.children.forEach(l=>{(function aL(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=e.value,l=t?t.value:null,h=n?n.getContext(e.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const g=function uL(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Wu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Wu(e.url,t.url)||!Ds(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iy(e,t)||!Ds(e.queryParams,t.queryParams);default:return!iy(e,t)}}(l,u,u.routeConfig.runGuardsAndResolvers);g?o.canActivateChecks.push(new VC(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Jf(e,t,u.component?h?h.children:null:n,r,o),g&&h&&h.outlet&&h.outlet.isActivated&&o.canDeactivateChecks.push(new Dp(h.outlet.component,l))}else l&&eh(t,h,o),o.canActivateChecks.push(new VC(r)),Jf(e,null,u.component?h?h.children:null:n,r,o)})(l,u[l.value.outlet],n,r.concat([l.value]),o),delete u[l.value.outlet]}),Sr(u,(l,h)=>eh(l,n.getContext(h),o)),o}function eh(e,t,n){const r=vl(e),o=e.value;Sr(r,(u,l)=>{eh(u,o.component?t?t.children.getContext(l):null:t,n)}),n.canDeactivateChecks.push(new Dp(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class vL{}function UC(e){return new ve(t=>t.error(e))}class _L{constructor(t,n,r,o,u,l){this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=l}recognize(){const t=wp(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,It);if(null===n)return null;const r=new mp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new aa(r,n),u=new DC(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(t){const n=t.value,r=EC(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,r)}processChildren(t,n){const r=[];for(const u of Object.keys(n.children)){const l=n.children[u],h=RC(t,u),g=this.processSegmentGroup(h,l,u);if(null===g)return null;r.push(...g)}const o=jC(r);return function wL(e){e.sort((t,n)=>t.value.outlet===It?-1:n.value.outlet===It?1:t.value.outlet.localeCompare(n.value.outlet))}(o),o}processSegment(t,n,r,o){for(const u of t){const l=this.processSegmentAgainstRoute(u,n,r,o);if(null!==l)return l}return FC(n,r,o)?[]:null}processSegmentAgainstRoute(t,n,r,o){if(t.redirectTo||!PC(t,n,r,o))return null;let u,l=[],h=[];if("**"===t.path){const O=r.length>0?uC(r).parameters:{};u=new mp(r,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,GC(t),yo(t),t.component,t,BC(n),HC(n)+r.length,$C(t))}else{const O=_p(n,t,r);if(!O.matched)return null;l=O.consumedSegments,h=r.slice(O.lastChild),u=new mp(l,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,GC(t),yo(t),t.component,t,BC(n),HC(n)+l.length,$C(t))}const g=function bL(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),{segmentGroup:v,slicedSegments:w}=wp(n,l,h,g.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);if(0===w.length&&v.hasChildren()){const O=this.processChildren(g,v);return null===O?null:[new aa(u,O)]}if(0===g.length&&0===w.length)return[new aa(u,[])];const D=yo(t)===o,S=this.processSegment(g,v,w,D?It:o);return null===S?null:[new aa(u,S)]}}function EL(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function jC(e){const t=[],n=new Set;for(const r of e){if(!EL(r)){t.push(r);continue}const o=t.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=jC(r.children);t.push(new aa(r.value,o))}return t.filter(r=>!n.has(r))}function BC(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function HC(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function GC(e){return e.data||{}}function $C(e){return e.resolve||{}}function qC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function hy(e){return qr(t=>{const n=e(t);return n?vt(n).pipe(ke(()=>t)):Xe(t)})}class xL extends class ML{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const dy=new ot("ROUTES");class zC{constructor(t,n,r,o){this.injector=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=o}load(t,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const o=this.loadModuleFactory(n.loadChildren).pipe(ke(u=>{this.onLoadEndListener&&this.onLoadEndListener(n);const l=u.create(t);return new uy(aC(l.injector.get(dy,void 0,Le.Self|Le.Optional)).map(ly),l)}),Ya(u=>{throw n._loader$=void 0,u}));return n._loader$=new $F(o,()=>new be).pipe(eC()),n._loader$}loadModuleFactory(t){return Cs(t()).pipe(yn(n=>n instanceof _0?Xe(n):vt(this.compiler.compileModuleAsync(n))))}}class RL{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function OL(e){throw e}function PL(e,t,n){return t.parse("/")}function WC(e,t){return Xe(null)}const FL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hn=(()=>{class e{constructor(n,r,o,u,l,h,g){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new be,this.errorHandler=OL,this.malformedUriErrorHandler=PL,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:WC,afterPreactivation:WC},this.urlHandlingStrategy=new RL,this.routeReuseStrategy=new xL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(ta),this.console=l.get(nE);const D=l.get(un);this.isNgZoneEnabled=D instanceof un&&un.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function uk(){return new zu(new Ft([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zC(l,h,S=>this.triggerEvent(new nC(S)),S=>this.triggerEvent(new rC(S))),this.routerState=bC(this.currentUrlTree,this.rootComponentType),this.transitions=new qo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(za(o=>0!==o.id),ke(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),qr(o=>{let u=!1,l=!1;return Xe(o).pipe(xi(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),qr(h=>{const g=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Ip(h.source)&&(this.browserUrlTree=h.extractedUrl),Xe(h).pipe(qr(D=>{const S=this.transitions.getValue();return r.next(new lp(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),S!==this.transitions.getValue()?lr:Promise.resolve(D)}),function rL(e,t,n,r){return qr(o=>function eL(e,t,n,r,o){return new tL(e,t,n,r,o).apply()}(e,t,n,o.extractedUrl,r).pipe(ke(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),xi(D=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:D.urlAfterRedirects})}),function DL(e,t,n,r,o){return yn(u=>function yL(e,t,n,r,o="emptyOnly",u="legacy"){try{const l=new _L(e,t,n,r,o,u).recognize();return null===l?UC(new vL):Xe(l)}catch(l){return UC(l)}}(e,t,u.urlAfterRedirects,n(u.urlAfterRedirects),r,o).pipe(ke(l=>Object.assign(Object.assign({},u),{targetSnapshot:l}))))}(this.rootComponentType,this.config,D=>this.serializeUrl(D),this.paramsInheritanceStrategy,this.relativeLinkResolution),xi(D=>{if("eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const O=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(O,D)}this.browserUrlTree=D.urlAfterRedirects}const S=new KF(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);r.next(S)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:O,source:B,restoredState:ee,extras:ne}=h,ue=new lp(S,this.serializeUrl(O),B,ee);r.next(ue);const J=bC(O,this.rootComponentType).snapshot;return Xe(Object.assign(Object.assign({},h),{targetSnapshot:J,urlAfterRedirects:O,extras:Object.assign(Object.assign({},ne),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),lr}),hy(h=>{const{targetSnapshot:g,id:v,extractedUrl:w,rawUrl:D,extras:{skipLocationChange:S,replaceUrl:O}}=h;return this.hooks.beforePreactivation(g,{navigationId:v,appliedUrlTree:w,rawUrlTree:D,skipLocationChange:!!S,replaceUrl:!!O})}),xi(h=>{const g=new YF(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),ke(h=>Object.assign(Object.assign({},h),{guards:iL(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function cL(e,t){return yn(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=n;return 0===l.length&&0===u.length?Xe(Object.assign(Object.assign({},n),{guardsResult:!0})):function lL(e,t,n,r){return vt(e).pipe(yn(o=>function mL(e,t,n,r,o){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return u&&0!==u.length?Xe(u.map(h=>{const g=Cp(h,t,o);let v;if(function Gk(e){return e&&Za(e.canDeactivate)}(g))v=Cs(g.canDeactivate(e,t,n,r));else{if(!Za(g))throw new Error("Invalid CanDeactivate guard");v=Cs(g(e,t,n,r))}return v.pipe($u())})).pipe(Yf()):Xe(!0)}(o.component,o.route,n,t,r)),$u(o=>!0!==o,!0))}(l,r,o,e).pipe(yn(h=>h&&function Uk(e){return"boolean"==typeof e}(h)?function fL(e,t,n,r){return vt(t).pipe($f(o=>Yv(function dL(e,t){return null!==e&&t&&t(new ek(e)),Xe(!0)}(o.route.parent,r),function hL(e,t){return null!==e&&t&&t(new nk(e)),Xe(!0)}(o.route,r),function gL(e,t,n){const r=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(l=>function oL(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(l)).filter(l=>null!==l).map(l=>JD(()=>Xe(l.guards.map(g=>{const v=Cp(g,l.node,n);let w;if(function Hk(e){return e&&Za(e.canActivateChild)}(v))w=Cs(v.canActivateChild(r,e));else{if(!Za(v))throw new Error("Invalid CanActivateChild guard");w=Cs(v(r,e))}return w.pipe($u())})).pipe(Yf())));return Xe(u).pipe(Yf())}(e,o.path,n),function pL(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Xe(!0);const o=r.map(u=>JD(()=>{const l=Cp(u,t,n);let h;if(function Bk(e){return e&&Za(e.canActivate)}(l))h=Cs(l.canActivate(t,e));else{if(!Za(l))throw new Error("Invalid CanActivate guard");h=Cs(l(t,e))}return h.pipe($u())}));return Xe(o).pipe(Yf())}(e,o.route,n))),$u(o=>!0!==o,!0))}(r,u,e,t):Xe(h)),ke(h=>Object.assign(Object.assign({},n),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),xi(h=>{if(Qu(h.guardsResult)){const v=Xv(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw v.url=h.guardsResult,v}const g=new ZF(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),za(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),hy(h=>{if(h.guards.canActivateChecks.length)return Xe(h).pipe(xi(g=>{const v=new XF(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),qr(g=>{let v=!1;return Xe(g).pipe(function CL(e,t){return yn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return Xe(n);let u=0;return vt(o).pipe($f(l=>function IL(e,t,n,r){return function AL(e,t,n,r){const o=qC(e);if(0===o.length)return Xe({});const u={};return vt(o).pipe(yn(l=>function SL(e,t,n,r){const o=Cp(e,t,r);return Cs(o.resolve?o.resolve(t,n):o(t,n))}(e[l],t,n,r).pipe(xi(h=>{u[l]=h}))),Zv(1),yn(()=>qC(u).length===o.length?Xe(u):lr))}(e._resolve,e,t,r).pipe(ke(u=>(e._resolvedData=u,e.data=Object.assign(Object.assign({},e.data),EC(e,n).resolve),null)))}(l.route,r,e,t)),xi(()=>u++),Zv(1),yn(l=>u===o.length?Xe(n):lr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),xi({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),xi(g=>{const v=new JF(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),hy(h=>{const{targetSnapshot:g,id:v,extractedUrl:w,rawUrl:D,extras:{skipLocationChange:S,replaceUrl:O}}=h;return this.hooks.afterPreactivation(g,{navigationId:v,appliedUrlTree:w,rawUrlTree:D,skipLocationChange:!!S,replaceUrl:!!O})}),ke(h=>{const g=function Ak(e,t,n){const r=Wf(e,t._root,n?n._root:void 0);return new wC(r,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:g})}),xi(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((e,t,n)=>ke(r=>(new Lk(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),xi({next(){u=!0},complete(){u=!0}}),function WF(e){return Gt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}(()=>{var h;u||l||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===o.id&&(this.currentNavigation=null)}),Ya(h=>{if(l=!0,function ok(e){return e&&e[oC]}(h)){const g=Qu(h.url);g||(this.navigated=!0,this.restoreHistory(o,!0));const v=new tC(o.id,this.serializeUrl(o.extractedUrl),h.message);r.next(v),g?setTimeout(()=>{const w=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),D={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ip(o.source)};this.scheduleNavigation(w,"imperative",null,D,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const g=new QF(o.id,this.serializeUrl(o.extractedUrl),h);r.next(g);try{o.resolve(this.errorHandler(h))}catch(v){o.reject(v)}}return lr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},l=(null===(o=n.state)||void 0===o?void 0:o.navigationId)?n.state:null;if(l){const g=Object.assign({},l);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(u.state=g)}const h=this.parseUrl(n.url);this.scheduleNavigation(h,r,l,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){NC(n),this.config=n.map(ly),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:h,preserveFragment:g}=r,v=o||this.routerState.root,w=g?this.currentUrlTree.fragment:l;let D=null;switch(h){case"merge":D=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=u||null}return null!==D&&(D=this.removeEmptyProps(D)),function Mk(e,t,n,r,o){if(0===n.length)return oy(t.root,t.root,t,r,o);const u=function xk(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new AC(!0,0,e);let t=0,n=!1;const r=e.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const h={};return Sr(u.outlets,(g,v)=>{h[v]="string"==typeof g?g.split("/"):g}),[...o,{outlets:h}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?n=!0:".."===h?t++:""!=h&&o.push(h))}),o):[...o,u]},[]);return new AC(n,t,r)}(n);if(u.toRoot())return oy(t.root,new Ft([],{}),t,r,o);const l=function Nk(e,t,n){if(e.isAbsolute)return new sy(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const u=n.snapshot._urlSegment;return new sy(u,u===t.root,0)}const r=vp(e.commands[0])?0:1;return function Rk(e,t,n){let r=e,o=t,u=n;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new sy(r,!1,o-u)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(u,t,e),h=l.processChildren?yp(l.segmentGroup,l.index,u.commands):SC(l.segmentGroup,l.index,u.commands);return oy(l.segmentGroup,h,t,r,o)}(v,this.currentUrlTree,n,D,null!=w?w:null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Qu(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function LL(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return r}isActive(n,r){let o;if(o=!0===r?Object.assign({},FL):!1===r?Object.assign({},kL):r,Qu(n))return lC(this.currentUrlTree,n,o);const u=this.parseUrl(n);return lC(this.currentUrlTree,u,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{const u=n[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new gl(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,o,u,l){var h,g,v;if(this.disposed)return Promise.resolve(!1);const w=this.transitions.value,D=Ip(r)&&w&&!Ip(w.source),S=w.rawUrl.toString()===n.toString(),O=w.id===(null===(h=this.currentNavigation)||void 0===h?void 0:h.id);if(D&&S&&O)return Promise.resolve(!0);let ee,ne,ue;l?(ee=l.resolve,ne=l.reject,ue=l.promise):ue=new Promise((Oe,ht)=>{ee=Oe,ne=ht});const J=++this.navigationId;let pe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),pe=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):pe=0,this.setTransition({id:J,targetPageId:pe,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:u,resolve:ee,reject:ne,promise:ue,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ue.catch(Oe=>Promise.reject(Oe))}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(n,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===l?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===l&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const o=new tC(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(o),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){vm()},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();function Ip(e){return"imperative"!==e}let py=(()=>{class e{constructor(n,r,o,u,l){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=l,this.commands=null,this.onChanges=new be,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==n?r.setAttribute(o,"tabindex",n):r.removeAttribute(o,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:_l(this.skipLocationChange),replaceUrl:_l(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_l(this.preserveFragment)})}}return e.\u0275fac=function(n){return new(n||e)(oe(Hn),oe(yl),Bs("tabindex"),oe(ea),oe(Wi))},e.\u0275dir=Be({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&dn("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Ur]}),e})(),Ap=(()=>{class e{constructor(n,r,o){this.router=n,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new be,this.subscription=n.events.subscribe(u=>{u instanceof gl&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,o,u,l){if(0!==n||r||o||u||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:_l(this.skipLocationChange),replaceUrl:_l(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_l(this.preserveFragment)})}}return e.\u0275fac=function(n){return new(n||e)(oe(Hn),oe(yl),oe(ul))},e.\u0275dir=Be({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&dn("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&n&&gs("target",r.target)("href",r.href,Jh)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Ur]}),e})();function _l(e){return""===e||!!e}let QC=(()=>{class e{constructor(n,r,o,u,l,h){this.router=n,this.element=r,this.renderer=o,this.cdr=u,this.link=l,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Nn,this.routerEventsSubscription=n.events.subscribe(g=>{g instanceof gl&&this.update()})}ngAfterContentInit(){Xe(this.links.changes,this.linksWithHrefs.changes,Xe(null)).pipe(bo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var n;null===(n=this.linkInputChangesSubscription)||void 0===n||n.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=vt(r).pipe(bo()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(n){this.update()}ngOnDestroy(){var n;this.routerEventsSubscription.unsubscribe(),null===(n=this.linkInputChangesSubscription)||void 0===n||n.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this.isActive!==n&&(this.isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function VL(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&n.isActive(o.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.linkWithHref&&n(this.linkWithHref)||this.links.some(n)||this.linksWithHrefs.some(n)}}return e.\u0275fac=function(n){return new(n||e)(oe(Hn),oe(Wi),oe(ea),oe(Md),oe(py,8),oe(Ap,8))},e.\u0275dir=Be({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(1&n&&(Hm(o,py,5),Hm(o,Ap,5)),2&n){let u;Ed(u=Dd())&&(r.links=u),Ed(u=Dd())&&(r.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ur]}),e})();class KC{}class YC{preload(t,n){return Xe(null)}}let ZC=(()=>{class e{constructor(n,r,o,u){this.router=n,this.injector=o,this.preloadingStrategy=u,this.loader=new zC(o,r,g=>n.triggerEvent(new nC(g)),g=>n.triggerEvent(new rC(g)))}setUpPreloading(){this.subscription=this.router.events.pipe(za(n=>n instanceof gl),$f(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(ta);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const l=u._loadedConfig;o.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(n,u)):u.children&&o.push(this.processRoutes(n,u.children));return vt(o).pipe(bo(),ke(u=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Xe(r._loadedConfig):this.loader.load(n.injector,r)).pipe(yn(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return e.\u0275fac=function(n){return new(n||e)(fe(Hn),fe(Td),fe(Gr),fe(KC))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})(),gy=(()=>{class e{constructor(n,r,o={}){this.router=n,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof lp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof gl&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof iC&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new iC(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){vm()},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();const Ku=new ot("ROUTER_CONFIGURATION"),XC=new ot("ROUTER_FORROOT_GUARD"),jL=[av,{provide:pC,useClass:gC},{provide:Hn,useFactory:function qL(e,t,n,r,o,u,l={},h,g){const v=new Hn(null,e,t,n,r,o,aC(u));return h&&(v.urlHandlingStrategy=h),g&&(v.routeReuseStrategy=g),function zL(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(l,v),l.enableTracing&&v.events.subscribe(w=>{var D,S;null===(D=console.group)||void 0===D||D.call(console,`Router Event: ${w.constructor.name}`),console.log(w.toString()),console.log(w),null===(S=console.groupEnd)||void 0===S||S.call(console)}),v},deps:[pC,Zf,av,Gr,Td,dy,Ku,[class NL{},new $i],[class TL{},new $i]]},Zf,{provide:yl,useFactory:function WL(e){return e.routerState.root},deps:[Hn]},ZC,YC,class UL{preload(t,n){return n().pipe(Ya(()=>Xe(null)))}},{provide:Ku,useValue:{enableTracing:!1}}];function BL(){return new uE("Router",Hn)}let JC=(()=>{class e{constructor(n,r){}static forRoot(n,r){return{ngModule:e,providers:[jL,eI(n),{provide:XC,useFactory:$L,deps:[[Hn,new $i,new La]]},{provide:Ku,useValue:r||{}},{provide:ul,useFactory:GL,deps:[Gu,[new ka(sv),new $i],Ku]},{provide:gy,useFactory:HL,deps:[Hn,aO,Ku]},{provide:KC,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:YC},{provide:uE,multi:!0,useFactory:BL},[my,{provide:Sd,multi:!0,useFactory:QL,deps:[my]},{provide:tI,useFactory:KL,deps:[my]},{provide:tE,multi:!0,useExisting:tI}]]}}static forChild(n){return{ngModule:e,providers:[eI(n)]}}}return e.\u0275fac=function(n){return new(n||e)(fe(XC,8),fe(Hn,8))},e.\u0275mod=Lt({type:e}),e.\u0275inj=Kt({}),e})();function HL(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new gy(e,t,n)}function GL(e,t,n={}){return n.useHash?new GN(e,t):new TE(e,t)}function $L(e){return"guarded"}function eI(e){return[{provide:ag,multi:!0,useValue:e},{provide:dy,multi:!0,useValue:e}]}let my=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new be}appInitializer(){return this.injector.get(jN,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(h=>r=h),u=this.injector.get(Hn),l=this.injector.get(Ku);return"disabled"===l.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?Xe(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(n){const r=this.injector.get(Ku),o=this.injector.get(ZC),u=this.injector.get(gy),l=this.injector.get(Hn),h=this.injector.get(Of);n===h.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&l.initialNavigation(),o.setUpPreloading(),u.init(),l.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(fe(Gr))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})();function QL(e){return e.appInitializer.bind(e)}function KL(e){return e.bootstrapListener.bind(e)}const tI=new ot("Router Initializer");let Yu=(()=>{class e{constructor(n,r,o){this.afauth=n,this.router=r,this.fs=o,this.user=n.user,this.fs.collection("adminVar").doc("SEVYxSt2r8dQyab2kQ8T").snapshotChanges().subscribe(u=>this.isAdmin=u.payload.data().status),this.afauth.user.subscribe(u=>{this.isUser=!!u})}signUp(n,r){return this.afauth.createUserWithEmailAndPassword(n,r)}login(n,r){return this.afauth.signInWithEmailAndPassword(n,r)}logout(){return this.afauth.signOut()}valid(){return this.fs.collection("adminVar").doc("SEVYxSt2r8dQyab2kQ8T").snapshotChanges().subscribe(n=>this.isAdmin=n.payload.data().status),new Promise(n=>{this.afauth.user.subscribe(r=>{r&&0==this.isAdmin?n(!0):(this.router.navigate([""]),n(!1))})})}}return e.\u0275fac=function(n){return new(n||e)(fe(ll),fe(Hn),fe(Qi))},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),nI=(()=>{class e{constructor(n,r,o){this.fs=n,this.afauth=r,this.auth=o,this.carts=[]}addtoCart(n){this.afauth.currentUser.then(r=>{this.fs.collection("users").doc(r.uid).collection("cart").add(n)})}getusercart(){return this.fs.collection("users").doc(this.auth.userID).collection("cart").snapshotChanges()}}return e.\u0275fac=function(n){return new(n||e)(fe(Qi),fe(ll),fe(Yu))},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),rI=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(oe(ea),oe(Wi))},e.\u0275dir=Be({type:e}),e})(),Zu=(()=>{class e extends rI{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=vr(e)))(r||e)}}(),e.\u0275dir=Be({type:e,features:[Xt]}),e})();const Is=new ot("NgValueAccessor"),JL={provide:Is,useExisting:Nt(()=>Xu),multi:!0},tV=new ot("CompositionEventMode");let Xu=(()=>{class e extends rI{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function eV(){const e=ws()?ws().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(oe(ea),oe(Wi),oe(tV,8))},e.\u0275dir=Be({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&dn("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[vn([JL]),Xt]}),e})();function Xa(e){return null==e||0===e.length}const zr=new ot("NgValidators"),Ja=new ot("NgAsyncValidators"),nV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function uI(e){return Xa(e.value)?{required:!0}:null}function lI(e){return Xa(e.value)||nV.test(e.value)?null:{email:!0}}function Sp(e){return null}function pI(e){return null!=e}function gI(e){const t=wf(e)?vt(e):e;return bm(t),t}function mI(e){let t={};return e.forEach(n=>{t=null!=n?Object.assign(Object.assign({},t),n):t}),0===Object.keys(t).length?null:t}function vI(e,t){return t.map(n=>n(e))}function yI(e){return e.map(t=>function rV(e){return!e.validate}(t)?t:n=>t.validate(n))}function vy(e){return null!=e?function _I(e){if(!e)return null;const t=e.filter(pI);return 0==t.length?null:function(n){return mI(vI(n,t))}}(yI(e)):null}function yy(e){return null!=e?function wI(e){if(!e)return null;const t=e.filter(pI);return 0==t.length?null:function(n){return function ZL(...e){const t=Ko(e),{args:n,keys:r}=KD(e),o=new ve(u=>{const{length:l}=n;if(!l)return void u.complete();const h=new Array(l);let g=l,v=l;for(let w=0;w<l;w++){let D=!1;Mr(n[w]).subscribe(mt(u,S=>{D||(D=!0,v--),h[w]=S},()=>g--,void 0,()=>{(!g||!D)&&(v||u.next(r?ZD(r,h):h),u.complete())}))}});return t?o.pipe(YD(t)):o}(vI(n,t).map(gI)).pipe(ke(mI))}}(yI(e)):null}function bI(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function _y(e){return e?Array.isArray(e)?e:[e]:[]}function Tp(e,t){return Array.isArray(e)?e.includes(t):e===t}function CI(e,t){const n=_y(t);return _y(e).forEach(o=>{Tp(n,o)||n.push(o)}),n}function II(e,t){return _y(t).filter(n=>!Tp(e,n))}class AI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=vy(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=yy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class eu extends AI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mi extends AI{get formDirective(){return null}get path(){return null}}class SI{constructor(t){this._cd=t}is(t){var n,r,o;return"submitted"===t?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[t])}}let th=(()=>{class e extends SI{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(oe(eu,2))},e.\u0275dir=Be({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&hd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Xt]}),e})(),Mp=(()=>{class e extends SI{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(oe(mi,10))},e.\u0275dir=Be({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&hd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Xt]}),e})();function nh(e,t){Ey(e,t),t.valueAccessor.writeValue(e.value),function fV(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&MI(e,t)})}(e,t),function dV(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function hV(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&MI(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function lV(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Op(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Ey(e,t){const n=function EI(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(bI(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function DI(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(bI(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();Op(t._rawValidators,o),Op(t._rawAsyncValidators,o)}function MI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Iy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const rh="VALID",Fp="INVALID",wl="PENDING",ih="DISABLED";function Sy(e){return(kp(e)?e.validators:e)||null}function RI(e){return Array.isArray(e)?vy(e):e||null}function Ty(e,t){return(kp(t)?t.asyncValidators:e)||null}function OI(e){return Array.isArray(e)?yy(e):e||null}function kp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}const My=e=>e instanceof Ny;function FI(e){return(e=>e instanceof VI)(e)?e.value:e.getRawValue()}function kI(e,t){const n=My(e),r=e.controls;if(!(n?Object.keys(r):r).length)throw new Dt(1e3,"");if(!r[t])throw new Dt(1001,"")}function LI(e,t){My(e),e._forEachChild((r,o)=>{if(void 0===t[o])throw new Dt(1002,"")})}class xy{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=RI(this._rawValidators),this._composedAsyncValidatorFn=OI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===rh}get invalid(){return this.status===Fp}get pending(){return this.status==wl}get disabled(){return this.status===ih}get enabled(){return this.status!==ih}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=RI(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=OI(t)}addValidators(t){this.setValidators(CI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(CI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(II(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(II(t,this._rawAsyncValidators))}hasValidator(t){return Tp(this._rawValidators,t)}hasAsyncValidator(t){return Tp(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wl,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ih,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=rh,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rh||this.status===wl)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ih:rh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wl,this._hasOwnPendingAsyncValidator=!0;const n=gI(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){return function vV(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(n)),Array.isArray(t)&&0===t.length))return null;let r=e;return t.forEach(o=>{r=My(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(e=>e instanceof _V)(r)&&r.at(o)||null}),r}(this,t,".")}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Nn,this.statusChanges=new Nn}_calculateStatus(){return this._allControlsDisabled()?ih:this.errors?Fp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wl)?wl:this._anyControlsHaveStatus(Fp)?Fp:rh}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){kp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class VI extends xy{constructor(t=null,n,r){super(Sy(n),Ty(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kp(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Iy(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Iy(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ny extends xy{constructor(t,n,r){super(Sy(n),Ty(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){LI(this,t),Object.keys(t).forEach(r=>{kI(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=FI(n),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,u)=>{r=n(r,o,u)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class _V extends xy{constructor(t,n,r){super(Sy(n),Ty(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),n&&(this.controls.splice(t,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){LI(this,t),t.forEach((r,o)=>{kI(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>FI(t))}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const wV={provide:mi,useExisting:Nt(()=>bl)},oh=(()=>Promise.resolve(null))();let bl=(()=>{class e extends mi{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Nn,this.form=new Ny({},vy(n),yy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){oh.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),nh(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){oh.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){oh.then(()=>{const r=this._findContainer(n.path),o=new Ny({});(function xI(e,t){Ey(e,t)})(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){oh.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){oh.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function NI(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return e.\u0275fac=function(n){return new(n||e)(oe(zr,10),oe(Ja,10))},e.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&dn("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vn([wV]),Xt]}),e})();const EV={provide:eu,useExisting:Nt(()=>El)},BI=(()=>Promise.resolve(null))();let El=(()=>{class e extends eu{constructor(n,r,o,u,l){super(),this._changeDetectorRef=l,this.control=new VI,this._registered=!1,this.update=new Nn,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Cy(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(u=>{u.constructor===Xu?n=u:function mV(e){return Object.getPrototypeOf(e.constructor)===Zu}(u)?r=u:o=u}),o||r||n||null}(0,u)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Dy(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){BI.then(()=>{var r;this.control.setValue(n,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,o=""===r||r&&"false"!==r;BI.then(()=>{var u;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(n){return this._parent?function Np(e,t){return[...t.path,e]}(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(oe(mi,9),oe(zr,10),oe(Ja,10),oe(Is,10),oe(Md,8))},e.\u0275dir=Be({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vn([EV]),Xt,Ur]}),e})(),Lp=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const DV={provide:Is,useExisting:Nt(()=>Vp),multi:!0};let Vp=(()=>{class e extends Zu{writeValue(n){this.setProperty("value",null==n?"":n)}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=vr(e)))(r||e)}}(),e.\u0275dir=Be({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&dn("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[vn([DV]),Xt]}),e})(),HI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Lt({type:e}),e.\u0275inj=Kt({}),e})();let Ju=(()=>{class e{constructor(){this._validator=Sp}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Sp,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Be({type:e,features:[Ur]}),e})();const BV={provide:zr,useExisting:Nt(()=>Dl),multi:!0};let Dl=(()=>{class e extends Ju{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n=>function VV(e){return null!=e&&!1!==e&&"false"!=`${e}`}(n),this.createValidator=n=>uI}enabled(n){return n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=vr(e)))(r||e)}}(),e.\u0275dir=Be({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&gs("required",r._enabled?"":null)},inputs:{required:"required"},features:[vn([BV]),Xt]}),e})();const GV={provide:zr,useExisting:Nt(()=>Up),multi:!0};let Up=(()=>{class e extends Ju{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=n=>""===n||!0===n||"true"===n,this.createValidator=n=>lI}enabled(n){return n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=vr(e)))(r||e)}}(),e.\u0275dir=Be({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[vn([GV]),Xt]}),e})();const $V={provide:zr,useExisting:Nt(()=>jp),multi:!0};let jp=(()=>{class e extends Ju{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>function ZI(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>function fI(e){return t=>Xa(t.value)||!function oI(e){return null!=e&&"number"==typeof e.length}(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(n)}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=vr(e)))(r||e)}}(),e.\u0275dir=Be({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&gs("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[vn([$V]),Xt]}),e})(),WV=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Lt({type:e}),e.\u0275inj=Kt({imports:[[HI]]}),e})(),QV=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Lt({type:e}),e.\u0275inj=Kt({imports:[WV]}),e})();function KV(e,t){if(1&e){const n=Ba();Pe(0,"tr")(1,"td"),at(2),Fe(),Pe(3,"td"),at(4),Tf(5,"currency"),Fe(),Pe(6,"td")(7,"input",2,3),dn("ngModelChange",function(o){const l=Mn(n).$implicit;return""==l.amount?0:l.amount=o}),Fe()(),Pe(9,"td"),at(10),Tf(11,"currency"),Fe(),Pe(12,"td")(13,"button",4),dn("click",function(){const u=Mn(n).index,l=yr(8);return ms().save(u,l.value)}),at(14,"Save"),Fe(),Pe(15,"button",5),dn("click",function(){const u=Mn(n).index;return ms().delete(u)}),at(16,"Delete"),Fe()()()}if(2&e){const n=t.$implicit;Tt(2),Js(n.name),Tt(2),Js(Mf(5,4,n.price)),Tt(3),zt("ngModel",""==n.amount?0:n.amount),Tt(3),Js(Mf(11,6,n.price*n.amount))}}let YV=(()=>{class e{constructor(n,r,o){this.cs=n,this.fs=r,this.auth=o,this.carts=[]}ngOnInit(){this.cs.getusercart().subscribe(n=>{this.carts=n.map(r=>(this.obj=r.payload.doc.data(),Object.assign({id:r.payload.doc.id},this.obj)))})}delete(n){this.fs.collection("users/"+this.auth.userID+"/cart").doc(this.carts[n].id).delete()}save(n,r){this.fs.collection("users/"+this.auth.userID+"/cart").doc(this.carts[n].id).update({amount:r})}}return e.\u0275fac=function(n){return new(n||e)(oe(nI),oe(Qi),oe(Yu))},e.\u0275cmp=wn({type:e,selectors:[["app-cart"]],decls:13,vars:1,consts:[[1,"text-center","container","mt-5"],[4,"ngFor","ngForOf"],["type","number","placeholder","Amount",3,"ngModel","ngModelChange"],["input",""],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){1&n&&(Pe(0,"table",0)(1,"tr")(2,"th"),at(3,"Name"),Fe(),Pe(4,"th"),at(5,"Price"),Fe(),Pe(6,"th"),at(7,"Amount"),Fe(),Pe(8,"th"),at(9,"Total"),Fe(),Pe(10,"th"),at(11,"Options"),Fe()(),Kn(12,KV,17,8,"tr",1),Fe()),2&n&&(Tt(12),zt("ngForOf",r.carts))},directives:[Gd,Vp,Xu,th,El],pipes:[yv],styles:["table[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;border:2px solid black}"]}),e})(),iA=(()=>{class e{constructor(n,r,o){this.firestore=n,this.storage=r,this.router=o}getAllGoods(){return this.firestore.collection("goods").snapshotChanges()}addnewgood(n,r,o){let u=this.storage.ref(o.name);u.put(o).then(()=>{u.getDownloadURL().subscribe(l=>{this.firestore.collection("goods").add({name:n,price:r,photoUrl:l,amount:1})})})}modify(){}}return e.\u0275fac=function(n){return new(n||e)(fe(Qi),fe(Kv),fe(Hn))},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ZV=["image"];function XV(e,t){if(1&e){const n=Ba();Pe(0,"tr")(1,"td")(2,"input",12,13),dn("ngModelChange",function(o){return Mn(n).$implicit.name=o}),Fe()(),Pe(4,"td")(5,"input",14,15),dn("ngModelChange",function(o){return Mn(n).$implicit.price=o}),Fe()(),Pe(7,"td"),Yn(8,"input",16,17),Fe(),Pe(10,"td")(11,"button",18),dn("click",function(){const u=Mn(n).index,l=yr(3),h=yr(6),g=yr(9);return ms().save(u,l.value,h.value,g)}),at(12,"Save"),Fe(),Pe(13,"button",19),dn("click",function(){const u=Mn(n).index;return ms().delete(u)}),at(14,"Delete"),Fe()()()}if(2&e){const n=t.$implicit;Tt(2),zt("ngModel",n.name),Tt(3),zt("ngModel",n.price)}}let JV=(()=>{class e{constructor(n,r,o,u){this.goodsSerivce=n,this.firestore=r,this.router=o,this.storage=u,this.goods=[]}ngOnInit(){this.firestore.collection("goods").snapshotChanges().subscribe(n=>{this.goods=n.map(r=>{let o=r.payload.doc.data();return Object.assign({id:r.payload.doc.id},o)})})}addnewGood(n){this.goodsSerivce.addnewgood(n.value.name,n.value.price,this.image.nativeElement.files[0])}save(n,r,o,u){if(console.log(u.files[0]),null!=u.files[0]){let l=this.storage.ref(u.files[0].name);l.put(u.files[0]).then(()=>{l.getDownloadURL().subscribe(h=>{this.firestore.collection("goods").doc(this.goods[n].id).update({name:r,price:o,photoUrl:h})})})}else this.firestore.collection("goods").doc(this.goods[n].id).update({name:r,price:o})}delete(n){this.firestore.collection("goods").doc(this.goods[n].id).delete()}}return e.\u0275fac=function(n){return new(n||e)(oe(iA),oe(Qi),oe(Hn),oe(Kv))},e.\u0275cmp=wn({type:e,selectors:[["app-goods"]],viewQuery:function(n,r){if(1&n&&function P0(e,t,n){const r=nt();r.firstCreatePass&&(k0(r,new R0(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),F0(r,ce(),t)}(ZV,5),2&n){let o;Ed(o=Dd())&&(r.image=o.first)}},decls:24,vars:2,consts:[[1,"container","mt-3"],[1,"text-center"],[1,"form-control","mt-5",3,"ngSubmit"],["f","ngForm"],["type","text","placeholder","Name","ngModel","","name","name","required","",1,"form-control","mt-3"],["type","number","placeholder","Price","ngModel","","name","price","required","",1,"form-control","mt-3"],["type","file","placeholder","Image","ngModel","","name","image","required","",1,"form-control","mt-3"],["image",""],[1,"btn","btn-primary","mt-3",3,"disabled"],[2,"margin-bottom","100px"],[1,"text-center","container","mt-5"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange"],["input1",""],["type","number",3,"ngModel","ngModelChange"],["input2",""],["type","file"],["input3",""],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){if(1&n){const o=Ba();Pe(0,"section",0)(1,"h1",1),at(2," Add New Goods"),Fe(),Pe(3,"form",2,3),dn("ngSubmit",function(){Mn(o);const l=yr(4);return r.addnewGood(l)}),Yn(5,"input",4)(6,"input",5)(7,"input",6,7),Pe(9,"button",8),at(10,"Submit"),Fe()()(),Yn(11,"br"),Pe(12,"section",9)(13,"h1",1),at(14," Modify Your Goods"),Fe(),Pe(15,"table",10)(16,"tr")(17,"th"),at(18,"Name"),Fe(),Pe(19,"th"),at(20,"Price"),Fe(),Pe(21,"th"),at(22,"Options"),Fe()(),Kn(23,XV,15,2,"tr",11),Fe()()}if(2&n){const o=yr(4);Tt(9),zt("disabled",o.invalid),Tt(14),zt("ngForOf",r.goods)}},directives:[Lp,Mp,bl,Xu,th,El,Dl,Vp,Gd],styles:["table[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;border:2px solid black}"]}),e})();function eU(e,t){if(1&e){const n=Ba();Pe(0,"div",4)(1,"div",5),Yn(2,"img",6),Pe(3,"div",7)(4,"h5",8),at(5),Tf(6,"titlecase"),Fe(),Pe(7,"p",9),at(8),Tf(9,"currency"),Fe(),Yn(10,"input",10,11),Pe(12,"button",12),dn("click",function(){const u=Mn(n).index,l=yr(11);return ms().addToCart(u,l.value)}),at(13,"Add to cart"),Fe()()()()}if(2&e){const n=t.$implicit,r=ms();Tt(2),zt("src",n.photoUrl,Jh),Tt(3),Js(Mf(6,5,n.name)),Tt(3),Js(Mf(9,7,n.price)),Tt(2),zt("disabled",r.validation()),Tt(2),zt("disabled",r.validation())}}let tU=(()=>{class e{constructor(n,r,o,u,l){this.goodsService=n,this.cs=r,this.fs=o,this.afauth=u,this.auth=l,this.goods=[]}ngOnInit(){this.goodsobserv=this.goodsService.getAllGoods().subscribe(n=>{this.goods=n.map(r=>(this.obj=r.payload.doc.data(),Object.assign({id:r.payload.doc.id},this.obj)))})}ngOnDestroy(){this.goodsobserv.unsubscribe()}addToCart(n,r){if(0==r){let o=this.goods[n];this.data={name:o.name,amount:1,photoUrl:o.photoUrl,price:o.price}}else{let o=this.goods[n];this.data={name:o.name,amount:r,photoUrl:o.photoUrl,price:o.price}}this.cs.addtoCart(this.data)}validation(){return this.isUser=this.auth.isUser,this.isAdmin=this.auth.isAdmin,!this.isUser||this.isAdmin}}return e.\u0275fac=function(n){return new(n||e)(oe(iA),oe(nI),oe(Qi),oe(ll),oe(Yu))},e.\u0275cmp=wn({type:e,selectors:[["app-home"]],decls:5,vars:1,consts:[[1,"mt-4","container"],[1,"text-center"],[1,"sizing"],["class","col-sm-6 col-lg-4 mainCard",4,"ngFor","ngForOf"],[1,"col-sm-6","col-lg-4","mainCard"],[1,"card",2,"width","18rem"],[1,"card-img-top",2,"height","250px",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["type","number","placeholder","Enter the amount",1,"form-control","mb-3",3,"disabled"],["amount",""],[1,"btn","btn-primary",3,"disabled","click"]],template:function(n,r){1&n&&(Pe(0,"section",0)(1,"h1",1),at(2,"Our Products"),Fe(),Pe(3,"div",2),Kn(4,eU,14,9,"div",3),Fe()()),2&n&&(Tt(4),zt("ngForOf",r.goods))},directives:[Gd],pipes:[BE,yv],styles:[".sizing[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;--bs-gutter-x:0}.mainCard[_ngcontent-%COMP%]{margin-top:20px}@media (max-width:570px){.sizing[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}}"]}),e})();function nU(e,t){1&e&&(Pe(0,"div",9),at(1,"Please Enter you Email"),Fe())}function rU(e,t){1&e&&(Pe(0,"div",9),at(1,"Wrong email form"),Fe())}function iU(e,t){1&e&&(Pe(0,"div",9),at(1,"Your Password must be more than 6 characters"),Fe())}function oU(e,t){if(1&e&&(Pe(0,"div",9),at(1),Fe()),2&e){const n=ms();Tt(1),Js(n.errorMessage)}}let sU=(()=>{class e{constructor(n,r,o){this.auService=n,this.router=r,this.firestore=o,this.errorMessage=""}ngOnInit(){}login(n){this.auService.login(n.value.Email,n.value.Password).then(r=>{this.errorMessage="",this.router.navigate([""]),"admin@admin.com"==n.value.Email&&"123456"==n.value.Password?this.firestore.collection("adminVar").doc("SEVYxSt2r8dQyab2kQ8T").set({status:!0}):this.firestore.collection("adminVar").doc("SEVYxSt2r8dQyab2kQ8T").set({status:!1})}).catch(r=>this.errorMessage=r)}}return e.\u0275fac=function(n){return new(n||e)(oe(Yu),oe(Hn),oe(Qi))},e.\u0275cmp=wn({type:e,selectors:[["app-login"]],decls:16,vars:5,consts:[[1,"text-center"],[1,"container",3,"ngSubmit"],["f","ngForm"],["ngModel","","name","Email","type","email","placeholder","Email","required","","email","",1,"form-control"],["in2","ngModel"],["class","alert alert-danger",4,"ngIf"],["ngModel","","name","Password","type","password","placeholder","Password","required","","minlength","6",1,"form-control"],["in3","ngModel"],[1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"]],template:function(n,r){if(1&n){const o=Ba();Pe(0,"section")(1,"h2",0),at(2,"Login"),Fe(),Pe(3,"form",1,2),dn("ngSubmit",function(){Mn(o);const l=yr(4);return r.login(l)}),Yn(5,"input",3,4),Kn(7,nU,2,0,"div",5),Kn(8,rU,2,0,"div",5),Yn(9,"input",6,7),Kn(11,iU,2,0,"div",5),Yn(12,"br"),Kn(13,oU,2,1,"div",5),Pe(14,"button",8),at(15,"Login"),Fe()()()}if(2&n){const o=yr(4),u=yr(6),l=yr(10);Tt(7),zt("ngIf",u.touched&&(null==u.errors?null:u.errors.required)),Tt(1),zt("ngIf",u.touched&&(null==u.errors?null:u.errors.email)),Tt(3),zt("ngIf",l.touched&&l.invalid),Tt(2),zt("ngIf",r.errorMessage),Tt(1),zt("disabled",o.invalid)}},directives:[Lp,Mp,bl,Xu,th,El,Dl,Up,$d,jp],styles:["input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:15px}app-loading[_ngcontent-%COMP%]{position:absolute;z-index:1;height:100vh;width:100vw;background-color:#fff}"]}),e})(),aU=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=wn({type:e,selectors:[["app-not-allowed"]],decls:2,vars:0,consts:[[1,"alert","alert-danger"]],template:function(n,r){1&n&&(Pe(0,"div",0),at(1,"You Don't have access to this page!"),Fe())},styles:[""]}),e})(),uU=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=wn({type:e,selectors:[["app-not-found"]],decls:2,vars:0,consts:[[1,"alert","alert-danger"]],template:function(n,r){1&n&&(Pe(0,"div",0),at(1,"This Page doesnt Exist!! Please Check your Link again"),Fe())},styles:[""]}),e})(),oA=(()=>{class e{constructor(n,r){this.fs=n,this.aut=r}addnewUser(n,r){return this.fs.collection("users").doc(n).set({name:r})}}return e.\u0275fac=function(n){return new(n||e)(fe(Qi),fe(ll))},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function cU(e,t){1&e&&(Pe(0,"div",13),at(1,"Please Enter you Name"),Fe())}function lU(e,t){1&e&&(Pe(0,"div",13),at(1,"Please Enter you Email"),Fe())}function fU(e,t){1&e&&(Pe(0,"div",13),at(1,"Wrong email form"),Fe())}function hU(e,t){1&e&&(Pe(0,"div",13),at(1,"Your Password must be more than 6 characters"),Fe())}function dU(e,t){1&e&&(Pe(0,"div",13),at(1,"Passwords arent equal!!"),Fe())}function pU(e,t){if(1&e&&(Pe(0,"div",13),at(1),Fe()),2&e){const n=ms();Tt(1),Js(n.errorMessage)}}const gU=[{path:"",component:tU},{path:"login",component:sU},{path:"signup",component:(()=>{class e{constructor(n,r,o,u){this.aus=n,this.usService=r,this.router=o,this.firestore=u,this.errorMessage=""}ngOnInit(){}signUp(n){"admin@admin.com"==n.value.Email?this.firestore.collection("adminVar").doc("SEVYxSt2r8dQyab2kQ8T").set({status:!0}):this.firestore.collection("adminVar").doc("SEVYxSt2r8dQyab2kQ8T").set({status:!1}),this.aus.signUp(n.value.Email,n.value.Password).then(r=>{this.errorMessage="",this.usService.addnewUser(r.user.uid,n.value.name).then(()=>this.router.navigate([""]))}).catch(r=>this.errorMessage=r)}}return e.\u0275fac=function(n){return new(n||e)(oe(Yu),oe(oA),oe(Hn),oe(Qi))},e.\u0275cmp=wn({type:e,selectors:[["app-sign-up"]],decls:22,vars:7,consts:[[1,"text-center"],[1,"container",3,"ngSubmit"],["f","ngForm"],["ngModel","","name","name","type","text","placeholder","Your Name","required","",1,"form-control"],["in1","ngModel"],["class","alert alert-danger",4,"ngIf"],["ngModel","","name","Email","type","email","placeholder","Email","required","","email","",1,"form-control"],["in2","ngModel"],["ngModel","","name","Password","type","password","placeholder","Password","required","","minlength","6",1,"form-control"],["in3","ngModel"],["ngModel","","name","CPassword","type","password","placeholder","Confirm Password","required","",1,"form-control"],["in4","ngModel"],[1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"]],template:function(n,r){if(1&n){const o=Ba();Pe(0,"section")(1,"h2",0),at(2,"Sign-Up"),Fe(),Pe(3,"form",1,2),dn("ngSubmit",function(){Mn(o);const l=yr(4);return r.signUp(l)}),Yn(5,"input",3,4),Kn(7,cU,2,0,"div",5),Yn(8,"input",6,7),Kn(10,lU,2,0,"div",5),Kn(11,fU,2,0,"div",5),Yn(12,"input",8,9),Kn(14,hU,2,0,"div",5),Yn(15,"input",10,11),Kn(17,dU,2,0,"div",5),Yn(18,"br"),Kn(19,pU,2,1,"div",5),Pe(20,"button",12),at(21,"Create Account"),Fe()()()}if(2&n){const o=yr(4),u=yr(6),l=yr(9),h=yr(13),g=yr(16);Tt(7),zt("ngIf",u.touched&&u.invalid),Tt(3),zt("ngIf",l.touched&&(null==l.errors?null:l.errors.required)),Tt(1),zt("ngIf",l.touched&&(null==l.errors?null:l.errors.email)),Tt(3),zt("ngIf",h.touched&&h.invalid),Tt(3),zt("ngIf",h.value!=g.value&&g.touched&&h.touched),Tt(2),zt("ngIf",r.errorMessage),Tt(1),zt("disabled",o.invalid||h.value!=g.value)}},directives:[Lp,Mp,bl,Xu,th,El,Dl,$d,Up,jp],styles:["input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:15px}"]}),e})()},{path:"cart",component:YV,canActivate:[(()=>{class e{constructor(n,r,o){this.auth=n,this.router=r,this.fs=o}canActivate(n,r){return this.auth.valid()}}return e.\u0275fac=function(n){return new(n||e)(fe(Yu),fe(Hn),fe(Qi))},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]},{path:"admin",component:JV,canActivate:[(()=>{class e{constructor(n,r){this.firestore=n,this.router=r}canActivate(n,r){return new Promise(o=>{this.firestore.collection("adminVar").doc("SEVYxSt2r8dQyab2kQ8T").snapshotChanges().subscribe(u=>{0==u.payload.data().status?(this.router.navigate([""]),o(!1)):o(!0)})})}}return e.\u0275fac=function(n){return new(n||e)(fe(Qi),fe(Hn))},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]},{path:"Not-Allowed!",component:aU},{path:"**",component:uU}];let mU=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Lt({type:e}),e.\u0275inj=Kt({imports:[[JC.forRoot(gU)],JC]}),e})(),vU=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=wn({type:e,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"fa-3x"],[1,"fas","fa-spinner","fa-spin"]],template:function(n,r){1&n&&(Pe(0,"div",0),Yn(1,"i",1),Fe())},styles:["div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%}"]}),e})();function yU(e,t){1&e&&Yn(0,"app-loading")}function _U(e,t){1&e&&(Pe(0,"li",8)(1,"a",11),at(2,"My-Cart"),Fe()())}function wU(e,t){1&e&&(Pe(0,"li",8)(1,"a",12),at(2,"DashBoard"),Fe()())}function bU(e,t){1&e&&(Pe(0,"li",8)(1,"a",13),at(2,"Login"),Fe()())}function EU(e,t){1&e&&(Pe(0,"li",8)(1,"a",14),at(2,"SignUp"),Fe()())}function DU(e,t){if(1&e){const n=Ba();Pe(0,"li",8)(1,"button",15),dn("click",function(){return Mn(n),ms().logout()}),at(2,"Logout"),Fe()()}}const CU=function(){return{exact:!0}};let IU=(()=>{class e{constructor(n,r,o,u,l){this.auth=n,this.router=r,this.userService=o,this.afauth=u,this.firestore=l,this.title="EcommerceApp",this.admin=!1,this.loading=!1,this.router.events.subscribe(h=>{this.navigationInterceptor(h)})}navigationInterceptor(n){n instanceof lp&&(this.loading=!0),n instanceof gl&&setTimeout(()=>{this.loading=!1},1e3)}ngOnInit(){this.auth.user.subscribe(n=>{n?(this.isuser=!0,this.firestore.collection("users").doc(n.uid).snapshotChanges().subscribe(r=>this.username=r.payload.data().name),this.auth.userID=n.uid,this.firestore.collection("adminVar").doc("SEVYxSt2r8dQyab2kQ8T").snapshotChanges().subscribe(r=>this.admin=r.payload.data().status)):(this.isuser=!1,this.auth.user=" ",this.username=".....",this.auth.userID=" ")})}logout(){this.auth.logout().then(()=>{this.firestore.collection("adminVar").doc("SEVYxSt2r8dQyab2kQ8T").set({status:!1}),this.router.navigate([""])})}}return e.\u0275fac=function(n){return new(n||e)(oe(Yu),oe(Hn),oe(oA),oe(ll),oe(Qi))},e.\u0275cmp=wn({type:e,selectors:[["app-root"]],decls:19,vars:9,consts:[[4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","me-2"],["aria-current","page","routerLink","","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["class","nav-item me-2",4,"ngIf"],["aria-current","page","routerLink","/cart","routerLinkActive","active",1,"nav-link"],["aria-current","page","routerLink","/admin","routerLinkActive","active",1,"nav-link"],["aria-current","page","routerLink","/login","routerLinkActive","active",1,"nav-link"],["aria-current","page","routerLink","/signup","routerLinkActive","active",1,"nav-link"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){1&n&&(Kn(0,yU,1,0,"app-loading",0),Pe(1,"div")(2,"nav",1)(3,"div",2)(4,"a",3),at(5),Fe(),Pe(6,"button",4),Yn(7,"span",5),Fe(),Pe(8,"div",6)(9,"ul",7)(10,"li",8)(11,"a",9),at(12,"Home"),Fe()(),Kn(13,_U,3,0,"li",10),Kn(14,wU,3,0,"li",10),Kn(15,bU,3,0,"li",10),Kn(16,EU,3,0,"li",10),Kn(17,DU,3,0,"li",10),Fe()()()()(),Yn(18,"router-outlet")),2&n&&(zt("ngIf",r.loading),Tt(5),pd("Welcome ",r.username,""),Tt(6),zt("routerLinkActiveOptions",function D0(e,t,n){const r=mr()+e,o=ce();return o[r]===ft?ps(o,r,n?t.call(n):t()):function _f(e,t){return e[t]}(o,r)}(8,CU)),Tt(2),zt("ngIf",r.isuser&&!r.admin),Tt(1),zt("ngIf",r.admin),Tt(1),zt("ngIf",!r.isuser),Tt(1),zt("ngIf",!r.isuser),Tt(1),zt("ngIf",r.isuser))},directives:[$d,vU,Ap,QC,cy],styles:["app-loading[_ngcontent-%COMP%]{position:absolute;z-index:1;height:100vh;width:100vw;background-color:#fff}"]}),e})();const AU={apiKey:"AIzaSyDb1f6lXiHZU4B5NzcAmxfaNpwKJ6o4w68",authDomain:"market-38959.firebaseapp.com",projectId:"market-38959",storageBucket:"market-38959.appspot.com",messagingSenderId:"968347241323",appId:"1:968347241323:web:898a040525aef98c9c1a2e",measurementId:"G-P4TZRHL1TP"};let SU=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Lt({type:e,bootstrap:[IU]}),e.\u0275inj=Kt({providers:[],imports:[[FO,mU,QV,rP.initializeApp(AU),lP,pP,OF]]}),e})();(function fN(){pE=!1})(),OO().bootstrapModule(SU).catch(e=>console.error(e))},29:(Wr,de,rt)=>{function lt(Wt){return Wt&&"object"==typeof Wt&&"default"in Wt?Wt:{default:Wt}}var Ue=lt(rt(278));Ue.default.registerVersion("firebase","7.24.0","app"),Wr.exports=Ue.default},628:(Wr,de,rt)=>{rt.r(de),rt.d(de,{__extends:()=>lt,__assign:()=>Ue,__rest:()=>Se,__decorate:()=>se,__param:()=>Wt,__metadata:()=>Ie,__awaiter:()=>rn,__generator:()=>U,__createBinding:()=>H,__exportStar:()=>Me,__values:()=>me,__read:()=>W,__spread:()=>ye,__spreadArrays:()=>At,__await:()=>Qe,__asyncGenerator:()=>ae,__asyncDelegator:()=>ge,__asyncValues:()=>le,__makeTemplateObject:()=>pt,__importStar:()=>it,__importDefault:()=>en,__classPrivateFieldGet:()=>pn,__classPrivateFieldSet:()=>Ge});var N=function(C,x){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var F in P)P.hasOwnProperty(F)&&(I[F]=P[F])})(C,x)};function lt(C,x){function I(){this.constructor=C}N(C,x),C.prototype=null===x?Object.create(x):(I.prototype=x.prototype,new I)}var Ue=function(){return Ue=Object.assign||function(x){for(var I,P=1,F=arguments.length;P<F;P++)for(var M in I=arguments[P])Object.prototype.hasOwnProperty.call(I,M)&&(x[M]=I[M]);return x},Ue.apply(this,arguments)};function Se(C,x){var I={};for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&x.indexOf(P)<0&&(I[P]=C[P]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var F=0;for(P=Object.getOwnPropertySymbols(C);F<P.length;F++)x.indexOf(P[F])<0&&Object.prototype.propertyIsEnumerable.call(C,P[F])&&(I[P[F]]=C[P[F]])}return I}function se(C,x,I,P){var z,F=arguments.length,M=F<3?x:null===P?P=Object.getOwnPropertyDescriptor(x,I):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(C,x,I,P);else for(var te=C.length-1;te>=0;te--)(z=C[te])&&(M=(F<3?z(M):F>3?z(x,I,M):z(x,I))||M);return F>3&&M&&Object.defineProperty(x,I,M),M}function Wt(C,x){return function(I,P){x(I,P,C)}}function Ie(C,x){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(C,x)}function rn(C,x,I,P){return new(I||(I=Promise))(function(M,z){function te(we){try{Q(P.next(we))}catch(Te){z(Te)}}function ve(we){try{Q(P.throw(we))}catch(Te){z(Te)}}function Q(we){we.done?M(we.value):function F(M){return M instanceof I?M:new I(function(z){z(M)})}(we.value).then(te,ve)}Q((P=P.apply(C,x||[])).next())})}function U(C,x){var P,F,M,z,I={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return z={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(z[Symbol.iterator]=function(){return this}),z;function te(Q){return function(we){return function ve(Q){if(P)throw new TypeError("Generator is already executing.");for(;I;)try{if(P=1,F&&(M=2&Q[0]?F.return:Q[0]?F.throw||((M=F.return)&&M.call(F),0):F.next)&&!(M=M.call(F,Q[1])).done)return M;switch(F=0,M&&(Q=[2&Q[0],M.value]),Q[0]){case 0:case 1:M=Q;break;case 4:return I.label++,{value:Q[1],done:!1};case 5:I.label++,F=Q[1],Q=[0];continue;case 7:Q=I.ops.pop(),I.trys.pop();continue;default:if(!(M=(M=I.trys).length>0&&M[M.length-1])&&(6===Q[0]||2===Q[0])){I=0;continue}if(3===Q[0]&&(!M||Q[1]>M[0]&&Q[1]<M[3])){I.label=Q[1];break}if(6===Q[0]&&I.label<M[1]){I.label=M[1],M=Q;break}if(M&&I.label<M[2]){I.label=M[2],I.ops.push(Q);break}M[2]&&I.ops.pop(),I.trys.pop();continue}Q=x.call(C,I)}catch(we){Q=[6,we],F=0}finally{P=M=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([Q,we])}}}function H(C,x,I,P){void 0===P&&(P=I),C[P]=x[I]}function Me(C,x){for(var I in C)"default"!==I&&!x.hasOwnProperty(I)&&(x[I]=C[I])}function me(C){var x="function"==typeof Symbol&&Symbol.iterator,I=x&&C[x],P=0;if(I)return I.call(C);if(C&&"number"==typeof C.length)return{next:function(){return C&&P>=C.length&&(C=void 0),{value:C&&C[P++],done:!C}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(C,x){var I="function"==typeof Symbol&&C[Symbol.iterator];if(!I)return C;var F,z,P=I.call(C),M=[];try{for(;(void 0===x||x-- >0)&&!(F=P.next()).done;)M.push(F.value)}catch(te){z={error:te}}finally{try{F&&!F.done&&(I=P.return)&&I.call(P)}finally{if(z)throw z.error}}return M}function ye(){for(var C=[],x=0;x<arguments.length;x++)C=C.concat(W(arguments[x]));return C}function At(){for(var C=0,x=0,I=arguments.length;x<I;x++)C+=arguments[x].length;var P=Array(C),F=0;for(x=0;x<I;x++)for(var M=arguments[x],z=0,te=M.length;z<te;z++,F++)P[F]=M[z];return P}function Qe(C){return this instanceof Qe?(this.v=C,this):new Qe(C)}function ae(C,x,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F,P=I.apply(C,x||[]),M=[];return F={},z("next"),z("throw"),z("return"),F[Symbol.asyncIterator]=function(){return this},F;function z(ie){P[ie]&&(F[ie]=function(be){return new Promise(function(gt,Ht){M.push([ie,be,gt,Ht])>1||te(ie,be)})})}function te(ie,be){try{!function ve(ie){ie.value instanceof Qe?Promise.resolve(ie.value.v).then(Q,we):Te(M[0][2],ie)}(P[ie](be))}catch(gt){Te(M[0][3],gt)}}function Q(ie){te("next",ie)}function we(ie){te("throw",ie)}function Te(ie,be){ie(be),M.shift(),M.length&&te(M[0][0],M[0][1])}}function ge(C){var x,I;return x={},P("next"),P("throw",function(F){throw F}),P("return"),x[Symbol.iterator]=function(){return this},x;function P(F,M){x[F]=C[F]?function(z){return(I=!I)?{value:Qe(C[F](z)),done:"return"===F}:M?M(z):z}:M}}function le(C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,x=C[Symbol.asyncIterator];return x?x.call(C):(C=me(C),I={},P("next"),P("throw"),P("return"),I[Symbol.asyncIterator]=function(){return this},I);function P(M){I[M]=C[M]&&function(z){return new Promise(function(te,ve){!function F(M,z,te,ve){Promise.resolve(ve).then(function(Q){M({value:Q,done:te})},z)}(te,ve,(z=C[M](z)).done,z.value)})}}}function pt(C,x){return Object.defineProperty?Object.defineProperty(C,"raw",{value:x}):C.raw=x,C}function it(C){if(C&&C.__esModule)return C;var x={};if(null!=C)for(var I in C)Object.hasOwnProperty.call(C,I)&&(x[I]=C[I]);return x.default=C,x}function en(C){return C&&C.__esModule?C:{default:C}}function pn(C,x){if(!x.has(C))throw new TypeError("attempted to get private field on non-instance");return x.get(C)}function Ge(C,x,I){if(!x.has(C))throw new TypeError("attempted to set private field on non-instance");return x.set(C,I),I}},754:(Wr,de,rt)=>{rt.r(de),rt.d(de,{__extends:()=>lt,__assign:()=>Ue,__rest:()=>Se,__decorate:()=>se,__param:()=>Wt,__metadata:()=>Ie,__awaiter:()=>rn,__generator:()=>U,__createBinding:()=>H,__exportStar:()=>Me,__values:()=>me,__read:()=>W,__spread:()=>ye,__spreadArrays:()=>At,__await:()=>Qe,__asyncGenerator:()=>ae,__asyncDelegator:()=>ge,__asyncValues:()=>le,__makeTemplateObject:()=>pt,__importStar:()=>it,__importDefault:()=>en,__classPrivateFieldGet:()=>pn,__classPrivateFieldSet:()=>Ge});var N=function(C,x){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var F in P)P.hasOwnProperty(F)&&(I[F]=P[F])})(C,x)};function lt(C,x){function I(){this.constructor=C}N(C,x),C.prototype=null===x?Object.create(x):(I.prototype=x.prototype,new I)}var Ue=function(){return Ue=Object.assign||function(x){for(var I,P=1,F=arguments.length;P<F;P++)for(var M in I=arguments[P])Object.prototype.hasOwnProperty.call(I,M)&&(x[M]=I[M]);return x},Ue.apply(this,arguments)};function Se(C,x){var I={};for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&x.indexOf(P)<0&&(I[P]=C[P]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var F=0;for(P=Object.getOwnPropertySymbols(C);F<P.length;F++)x.indexOf(P[F])<0&&Object.prototype.propertyIsEnumerable.call(C,P[F])&&(I[P[F]]=C[P[F]])}return I}function se(C,x,I,P){var z,F=arguments.length,M=F<3?x:null===P?P=Object.getOwnPropertyDescriptor(x,I):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(C,x,I,P);else for(var te=C.length-1;te>=0;te--)(z=C[te])&&(M=(F<3?z(M):F>3?z(x,I,M):z(x,I))||M);return F>3&&M&&Object.defineProperty(x,I,M),M}function Wt(C,x){return function(I,P){x(I,P,C)}}function Ie(C,x){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(C,x)}function rn(C,x,I,P){return new(I||(I=Promise))(function(M,z){function te(we){try{Q(P.next(we))}catch(Te){z(Te)}}function ve(we){try{Q(P.throw(we))}catch(Te){z(Te)}}function Q(we){we.done?M(we.value):function F(M){return M instanceof I?M:new I(function(z){z(M)})}(we.value).then(te,ve)}Q((P=P.apply(C,x||[])).next())})}function U(C,x){var P,F,M,z,I={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return z={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(z[Symbol.iterator]=function(){return this}),z;function te(Q){return function(we){return function ve(Q){if(P)throw new TypeError("Generator is already executing.");for(;I;)try{if(P=1,F&&(M=2&Q[0]?F.return:Q[0]?F.throw||((M=F.return)&&M.call(F),0):F.next)&&!(M=M.call(F,Q[1])).done)return M;switch(F=0,M&&(Q=[2&Q[0],M.value]),Q[0]){case 0:case 1:M=Q;break;case 4:return I.label++,{value:Q[1],done:!1};case 5:I.label++,F=Q[1],Q=[0];continue;case 7:Q=I.ops.pop(),I.trys.pop();continue;default:if(!(M=(M=I.trys).length>0&&M[M.length-1])&&(6===Q[0]||2===Q[0])){I=0;continue}if(3===Q[0]&&(!M||Q[1]>M[0]&&Q[1]<M[3])){I.label=Q[1];break}if(6===Q[0]&&I.label<M[1]){I.label=M[1],M=Q;break}if(M&&I.label<M[2]){I.label=M[2],I.ops.push(Q);break}M[2]&&I.ops.pop(),I.trys.pop();continue}Q=x.call(C,I)}catch(we){Q=[6,we],F=0}finally{P=M=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([Q,we])}}}function H(C,x,I,P){void 0===P&&(P=I),C[P]=x[I]}function Me(C,x){for(var I in C)"default"!==I&&!x.hasOwnProperty(I)&&(x[I]=C[I])}function me(C){var x="function"==typeof Symbol&&Symbol.iterator,I=x&&C[x],P=0;if(I)return I.call(C);if(C&&"number"==typeof C.length)return{next:function(){return C&&P>=C.length&&(C=void 0),{value:C&&C[P++],done:!C}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(C,x){var I="function"==typeof Symbol&&C[Symbol.iterator];if(!I)return C;var F,z,P=I.call(C),M=[];try{for(;(void 0===x||x-- >0)&&!(F=P.next()).done;)M.push(F.value)}catch(te){z={error:te}}finally{try{F&&!F.done&&(I=P.return)&&I.call(P)}finally{if(z)throw z.error}}return M}function ye(){for(var C=[],x=0;x<arguments.length;x++)C=C.concat(W(arguments[x]));return C}function At(){for(var C=0,x=0,I=arguments.length;x<I;x++)C+=arguments[x].length;var P=Array(C),F=0;for(x=0;x<I;x++)for(var M=arguments[x],z=0,te=M.length;z<te;z++,F++)P[F]=M[z];return P}function Qe(C){return this instanceof Qe?(this.v=C,this):new Qe(C)}function ae(C,x,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F,P=I.apply(C,x||[]),M=[];return F={},z("next"),z("throw"),z("return"),F[Symbol.asyncIterator]=function(){return this},F;function z(ie){P[ie]&&(F[ie]=function(be){return new Promise(function(gt,Ht){M.push([ie,be,gt,Ht])>1||te(ie,be)})})}function te(ie,be){try{!function ve(ie){ie.value instanceof Qe?Promise.resolve(ie.value.v).then(Q,we):Te(M[0][2],ie)}(P[ie](be))}catch(gt){Te(M[0][3],gt)}}function Q(ie){te("next",ie)}function we(ie){te("throw",ie)}function Te(ie,be){ie(be),M.shift(),M.length&&te(M[0][0],M[0][1])}}function ge(C){var x,I;return x={},P("next"),P("throw",function(F){throw F}),P("return"),x[Symbol.iterator]=function(){return this},x;function P(F,M){x[F]=C[F]?function(z){return(I=!I)?{value:Qe(C[F](z)),done:"return"===F}:M?M(z):z}:M}}function le(C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,x=C[Symbol.asyncIterator];return x?x.call(C):(C=me(C),I={},P("next"),P("throw"),P("return"),I[Symbol.asyncIterator]=function(){return this},I);function P(M){I[M]=C[M]&&function(z){return new Promise(function(te,ve){!function F(M,z,te,ve){Promise.resolve(ve).then(function(Q){M({value:Q,done:te})},z)}(te,ve,(z=C[M](z)).done,z.value)})}}}function pt(C,x){return Object.defineProperty?Object.defineProperty(C,"raw",{value:x}):C.raw=x,C}function it(C){if(C&&C.__esModule)return C;var x={};if(null!=C)for(var I in C)Object.hasOwnProperty.call(C,I)&&(x[I]=C[I]);return x.default=C,x}function en(C){return C&&C.__esModule?C:{default:C}}function pn(C,x){if(!x.has(C))throw new TypeError("attempted to get private field on non-instance");return x.get(C)}function Ge(C,x,I){if(!x.has(C))throw new TypeError("attempted to set private field on non-instance");return x.set(C,I),I}},617:(Wr,de,rt)=>{rt.r(de),rt.d(de,{__extends:()=>lt,__assign:()=>Ue,__rest:()=>Se,__decorate:()=>se,__param:()=>Wt,__metadata:()=>Ie,__awaiter:()=>rn,__generator:()=>U,__createBinding:()=>H,__exportStar:()=>Me,__values:()=>me,__read:()=>W,__spread:()=>ye,__spreadArrays:()=>At,__await:()=>Qe,__asyncGenerator:()=>ae,__asyncDelegator:()=>ge,__asyncValues:()=>le,__makeTemplateObject:()=>pt,__importStar:()=>it,__importDefault:()=>en,__classPrivateFieldGet:()=>pn,__classPrivateFieldSet:()=>Ge});var N=function(C,x){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var F in P)P.hasOwnProperty(F)&&(I[F]=P[F])})(C,x)};function lt(C,x){function I(){this.constructor=C}N(C,x),C.prototype=null===x?Object.create(x):(I.prototype=x.prototype,new I)}var Ue=function(){return Ue=Object.assign||function(x){for(var I,P=1,F=arguments.length;P<F;P++)for(var M in I=arguments[P])Object.prototype.hasOwnProperty.call(I,M)&&(x[M]=I[M]);return x},Ue.apply(this,arguments)};function Se(C,x){var I={};for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&x.indexOf(P)<0&&(I[P]=C[P]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var F=0;for(P=Object.getOwnPropertySymbols(C);F<P.length;F++)x.indexOf(P[F])<0&&Object.prototype.propertyIsEnumerable.call(C,P[F])&&(I[P[F]]=C[P[F]])}return I}function se(C,x,I,P){var z,F=arguments.length,M=F<3?x:null===P?P=Object.getOwnPropertyDescriptor(x,I):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(C,x,I,P);else for(var te=C.length-1;te>=0;te--)(z=C[te])&&(M=(F<3?z(M):F>3?z(x,I,M):z(x,I))||M);return F>3&&M&&Object.defineProperty(x,I,M),M}function Wt(C,x){return function(I,P){x(I,P,C)}}function Ie(C,x){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(C,x)}function rn(C,x,I,P){return new(I||(I=Promise))(function(M,z){function te(we){try{Q(P.next(we))}catch(Te){z(Te)}}function ve(we){try{Q(P.throw(we))}catch(Te){z(Te)}}function Q(we){we.done?M(we.value):function F(M){return M instanceof I?M:new I(function(z){z(M)})}(we.value).then(te,ve)}Q((P=P.apply(C,x||[])).next())})}function U(C,x){var P,F,M,z,I={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return z={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(z[Symbol.iterator]=function(){return this}),z;function te(Q){return function(we){return function ve(Q){if(P)throw new TypeError("Generator is already executing.");for(;I;)try{if(P=1,F&&(M=2&Q[0]?F.return:Q[0]?F.throw||((M=F.return)&&M.call(F),0):F.next)&&!(M=M.call(F,Q[1])).done)return M;switch(F=0,M&&(Q=[2&Q[0],M.value]),Q[0]){case 0:case 1:M=Q;break;case 4:return I.label++,{value:Q[1],done:!1};case 5:I.label++,F=Q[1],Q=[0];continue;case 7:Q=I.ops.pop(),I.trys.pop();continue;default:if(!(M=(M=I.trys).length>0&&M[M.length-1])&&(6===Q[0]||2===Q[0])){I=0;continue}if(3===Q[0]&&(!M||Q[1]>M[0]&&Q[1]<M[3])){I.label=Q[1];break}if(6===Q[0]&&I.label<M[1]){I.label=M[1],M=Q;break}if(M&&I.label<M[2]){I.label=M[2],I.ops.push(Q);break}M[2]&&I.ops.pop(),I.trys.pop();continue}Q=x.call(C,I)}catch(we){Q=[6,we],F=0}finally{P=M=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([Q,we])}}}function H(C,x,I,P){void 0===P&&(P=I),C[P]=x[I]}function Me(C,x){for(var I in C)"default"!==I&&!x.hasOwnProperty(I)&&(x[I]=C[I])}function me(C){var x="function"==typeof Symbol&&Symbol.iterator,I=x&&C[x],P=0;if(I)return I.call(C);if(C&&"number"==typeof C.length)return{next:function(){return C&&P>=C.length&&(C=void 0),{value:C&&C[P++],done:!C}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(C,x){var I="function"==typeof Symbol&&C[Symbol.iterator];if(!I)return C;var F,z,P=I.call(C),M=[];try{for(;(void 0===x||x-- >0)&&!(F=P.next()).done;)M.push(F.value)}catch(te){z={error:te}}finally{try{F&&!F.done&&(I=P.return)&&I.call(P)}finally{if(z)throw z.error}}return M}function ye(){for(var C=[],x=0;x<arguments.length;x++)C=C.concat(W(arguments[x]));return C}function At(){for(var C=0,x=0,I=arguments.length;x<I;x++)C+=arguments[x].length;var P=Array(C),F=0;for(x=0;x<I;x++)for(var M=arguments[x],z=0,te=M.length;z<te;z++,F++)P[F]=M[z];return P}function Qe(C){return this instanceof Qe?(this.v=C,this):new Qe(C)}function ae(C,x,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F,P=I.apply(C,x||[]),M=[];return F={},z("next"),z("throw"),z("return"),F[Symbol.asyncIterator]=function(){return this},F;function z(ie){P[ie]&&(F[ie]=function(be){return new Promise(function(gt,Ht){M.push([ie,be,gt,Ht])>1||te(ie,be)})})}function te(ie,be){try{!function ve(ie){ie.value instanceof Qe?Promise.resolve(ie.value.v).then(Q,we):Te(M[0][2],ie)}(P[ie](be))}catch(gt){Te(M[0][3],gt)}}function Q(ie){te("next",ie)}function we(ie){te("throw",ie)}function Te(ie,be){ie(be),M.shift(),M.length&&te(M[0][0],M[0][1])}}function ge(C){var x,I;return x={},P("next"),P("throw",function(F){throw F}),P("return"),x[Symbol.iterator]=function(){return this},x;function P(F,M){x[F]=C[F]?function(z){return(I=!I)?{value:Qe(C[F](z)),done:"return"===F}:M?M(z):z}:M}}function le(C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,x=C[Symbol.asyncIterator];return x?x.call(C):(C=me(C),I={},P("next"),P("throw"),P("return"),I[Symbol.asyncIterator]=function(){return this},I);function P(M){I[M]=C[M]&&function(z){return new Promise(function(te,ve){!function F(M,z,te,ve){Promise.resolve(ve).then(function(Q){M({value:Q,done:te})},z)}(te,ve,(z=C[M](z)).done,z.value)})}}}function pt(C,x){return Object.defineProperty?Object.defineProperty(C,"raw",{value:x}):C.raw=x,C}function it(C){if(C&&C.__esModule)return C;var x={};if(null!=C)for(var I in C)Object.hasOwnProperty.call(C,I)&&(x[I]=C[I]);return x.default=C,x}function en(C){return C&&C.__esModule?C:{default:C}}function pn(C,x){if(!x.has(C))throw new TypeError("attempted to get private field on non-instance");return x.get(C)}function Ge(C,x,I){if(!x.has(C))throw new TypeError("attempted to set private field on non-instance");return x.set(C,I),I}},713:(Wr,de,rt)=>{rt.r(de),rt.d(de,{__extends:()=>lt,__assign:()=>Ue,__rest:()=>Se,__decorate:()=>se,__param:()=>Wt,__metadata:()=>Ie,__awaiter:()=>rn,__generator:()=>U,__createBinding:()=>H,__exportStar:()=>Me,__values:()=>me,__read:()=>W,__spread:()=>ye,__spreadArrays:()=>At,__await:()=>Qe,__asyncGenerator:()=>ae,__asyncDelegator:()=>ge,__asyncValues:()=>le,__makeTemplateObject:()=>pt,__importStar:()=>it,__importDefault:()=>en,__classPrivateFieldGet:()=>pn,__classPrivateFieldSet:()=>Ge});var N=function(C,x){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var F in P)P.hasOwnProperty(F)&&(I[F]=P[F])})(C,x)};function lt(C,x){function I(){this.constructor=C}N(C,x),C.prototype=null===x?Object.create(x):(I.prototype=x.prototype,new I)}var Ue=function(){return Ue=Object.assign||function(x){for(var I,P=1,F=arguments.length;P<F;P++)for(var M in I=arguments[P])Object.prototype.hasOwnProperty.call(I,M)&&(x[M]=I[M]);return x},Ue.apply(this,arguments)};function Se(C,x){var I={};for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&x.indexOf(P)<0&&(I[P]=C[P]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var F=0;for(P=Object.getOwnPropertySymbols(C);F<P.length;F++)x.indexOf(P[F])<0&&Object.prototype.propertyIsEnumerable.call(C,P[F])&&(I[P[F]]=C[P[F]])}return I}function se(C,x,I,P){var z,F=arguments.length,M=F<3?x:null===P?P=Object.getOwnPropertyDescriptor(x,I):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(C,x,I,P);else for(var te=C.length-1;te>=0;te--)(z=C[te])&&(M=(F<3?z(M):F>3?z(x,I,M):z(x,I))||M);return F>3&&M&&Object.defineProperty(x,I,M),M}function Wt(C,x){return function(I,P){x(I,P,C)}}function Ie(C,x){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(C,x)}function rn(C,x,I,P){return new(I||(I=Promise))(function(M,z){function te(we){try{Q(P.next(we))}catch(Te){z(Te)}}function ve(we){try{Q(P.throw(we))}catch(Te){z(Te)}}function Q(we){we.done?M(we.value):function F(M){return M instanceof I?M:new I(function(z){z(M)})}(we.value).then(te,ve)}Q((P=P.apply(C,x||[])).next())})}function U(C,x){var P,F,M,z,I={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return z={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(z[Symbol.iterator]=function(){return this}),z;function te(Q){return function(we){return function ve(Q){if(P)throw new TypeError("Generator is already executing.");for(;I;)try{if(P=1,F&&(M=2&Q[0]?F.return:Q[0]?F.throw||((M=F.return)&&M.call(F),0):F.next)&&!(M=M.call(F,Q[1])).done)return M;switch(F=0,M&&(Q=[2&Q[0],M.value]),Q[0]){case 0:case 1:M=Q;break;case 4:return I.label++,{value:Q[1],done:!1};case 5:I.label++,F=Q[1],Q=[0];continue;case 7:Q=I.ops.pop(),I.trys.pop();continue;default:if(!(M=(M=I.trys).length>0&&M[M.length-1])&&(6===Q[0]||2===Q[0])){I=0;continue}if(3===Q[0]&&(!M||Q[1]>M[0]&&Q[1]<M[3])){I.label=Q[1];break}if(6===Q[0]&&I.label<M[1]){I.label=M[1],M=Q;break}if(M&&I.label<M[2]){I.label=M[2],I.ops.push(Q);break}M[2]&&I.ops.pop(),I.trys.pop();continue}Q=x.call(C,I)}catch(we){Q=[6,we],F=0}finally{P=M=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([Q,we])}}}function H(C,x,I,P){void 0===P&&(P=I),C[P]=x[I]}function Me(C,x){for(var I in C)"default"!==I&&!x.hasOwnProperty(I)&&(x[I]=C[I])}function me(C){var x="function"==typeof Symbol&&Symbol.iterator,I=x&&C[x],P=0;if(I)return I.call(C);if(C&&"number"==typeof C.length)return{next:function(){return C&&P>=C.length&&(C=void 0),{value:C&&C[P++],done:!C}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(C,x){var I="function"==typeof Symbol&&C[Symbol.iterator];if(!I)return C;var F,z,P=I.call(C),M=[];try{for(;(void 0===x||x-- >0)&&!(F=P.next()).done;)M.push(F.value)}catch(te){z={error:te}}finally{try{F&&!F.done&&(I=P.return)&&I.call(P)}finally{if(z)throw z.error}}return M}function ye(){for(var C=[],x=0;x<arguments.length;x++)C=C.concat(W(arguments[x]));return C}function At(){for(var C=0,x=0,I=arguments.length;x<I;x++)C+=arguments[x].length;var P=Array(C),F=0;for(x=0;x<I;x++)for(var M=arguments[x],z=0,te=M.length;z<te;z++,F++)P[F]=M[z];return P}function Qe(C){return this instanceof Qe?(this.v=C,this):new Qe(C)}function ae(C,x,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F,P=I.apply(C,x||[]),M=[];return F={},z("next"),z("throw"),z("return"),F[Symbol.asyncIterator]=function(){return this},F;function z(ie){P[ie]&&(F[ie]=function(be){return new Promise(function(gt,Ht){M.push([ie,be,gt,Ht])>1||te(ie,be)})})}function te(ie,be){try{!function ve(ie){ie.value instanceof Qe?Promise.resolve(ie.value.v).then(Q,we):Te(M[0][2],ie)}(P[ie](be))}catch(gt){Te(M[0][3],gt)}}function Q(ie){te("next",ie)}function we(ie){te("throw",ie)}function Te(ie,be){ie(be),M.shift(),M.length&&te(M[0][0],M[0][1])}}function ge(C){var x,I;return x={},P("next"),P("throw",function(F){throw F}),P("return"),x[Symbol.iterator]=function(){return this},x;function P(F,M){x[F]=C[F]?function(z){return(I=!I)?{value:Qe(C[F](z)),done:"return"===F}:M?M(z):z}:M}}function le(C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,x=C[Symbol.asyncIterator];return x?x.call(C):(C=me(C),I={},P("next"),P("throw"),P("return"),I[Symbol.asyncIterator]=function(){return this},I);function P(M){I[M]=C[M]&&function(z){return new Promise(function(te,ve){!function F(M,z,te,ve){Promise.resolve(ve).then(function(Q){M({value:Q,done:te})},z)}(te,ve,(z=C[M](z)).done,z.value)})}}}function pt(C,x){return Object.defineProperty?Object.defineProperty(C,"raw",{value:x}):C.raw=x,C}function it(C){if(C&&C.__esModule)return C;var x={};if(null!=C)for(var I in C)Object.hasOwnProperty.call(C,I)&&(x[I]=C[I]);return x.default=C,x}function en(C){return C&&C.__esModule?C:{default:C}}function pn(C,x){if(!x.has(C))throw new TypeError("attempted to get private field on non-instance");return x.get(C)}function Ge(C,x,I){if(!x.has(C))throw new TypeError("attempted to set private field on non-instance");return x.set(C,I),I}}},Wr=>{Wr(Wr.s=647)}]);